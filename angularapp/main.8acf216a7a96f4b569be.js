(self.webpackChunkspirit=self.webpackChunkspirit||[]).push([[179],{8255:Ye=>{function Te(k){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+k+"'");throw f.code="MODULE_NOT_FOUND",f})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Ye.exports=Te},3018:(Ye,Te,k)=>{"use strict";k.d(Te,{deG:()=>ng,tb:()=>py,AFp:()=>tE,ip1:()=>hy,CZH:()=>Ga,hGG:()=>bx,z2F:()=>ud,sBO:()=>gS,Sil:()=>od,_Vd:()=>Yi,EJc:()=>my,SBq:()=>Qi,qLn:()=>Vi,vpe:()=>Xs,gxx:()=>Aa,tBr:()=>Es,XFs:()=>Ne,OlP:()=>En,zs3:()=>Qt,ZZ4:()=>Tf,aQg:()=>km,soG:()=>sd,YKP:()=>Nf,v3s:()=>ND,h0i:()=>In,PXZ:()=>fx,R0b:()=>ti,FiY:()=>bi,Lbi:()=>uD,g9A:()=>fy,Qsj:()=>Ji,FYo:()=>Fo,JOm:()=>Gs,Tiy:()=>Om,q3G:()=>qe,tp0:()=>$s,EAV:()=>eo,Rgc:()=>Sf,dDg:()=>mD,DyG:()=>Ci,q4F:()=>Pm,GfV:()=>Zb,s_b:()=>jm,ifc:()=>rn,eFA:()=>DD,G48:()=>mE,Gpc:()=>oe,X6Q:()=>np,_c5:()=>UD,VLi:()=>dx,c2e:()=>gy,zSh:()=>zs,wAp:()=>ot,vHH:()=>Se,EiD:()=>oT,mCW:()=>wa,qzn:()=>Me,JVY:()=>ut,pB0:()=>qs,eBb:()=>Cn,L6k:()=>Ut,LAX:()=>Fi,cg1:()=>df,Tjo:()=>JN,kL8:()=>zv,yhl:()=>ze,dqk:()=>V,sIi:()=>kh,CqO:()=>am,QGY:()=>om,F4k:()=>Sc,RDi:()=>uo,AaK:()=>j,z3N:()=>re,qOj:()=>uv,TTD:()=>vd,_Bn:()=>o0,xp6:()=>yc,uIk:()=>Wg,ekj:()=>hm,Suo:()=>j0,Xpm:()=>Ie,lG2:()=>Lt,Yz7:()=>gn,cJS:()=>Dr,oAB:()=>Pn,Yjl:()=>gi,Y36:()=>Hh,_UZ:()=>QC,qZA:()=>xv,TgZ:()=>Ac,EpF:()=>Gh,n5z:()=>Bd,Ikx:()=>uf,LFG:()=>fn,$8M:()=>Xl,NdJ:()=>Nr,CRH:()=>BI,oxw:()=>Rv,Q6J:()=>im,iGM:()=>ty,CHM:()=>Sd,oJD:()=>Do,LSH:()=>Di,kYT:()=>rr,YNc:()=>BC,_uU:()=>Bv,Oqu:()=>gm,hij:()=>Rc,AsE:()=>tf});var f=k(9765),H=k(5319),F=k(7574),ie=k(6682),ve=k(2441);var ge=k(1307);function K(){return new f.xQ}function B(s){for(let o in s)if(s[o]===B)return o;throw Error("Could not find renamed property on target object.")}function G(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function j(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(j).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function z(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const fe=B({__forward_ref__:B});function oe(s){return s.__forward_ref__=oe,s.toString=function(){return j(this())},s}function ae(s){return ke(s)?s():s}function ke(s){return"function"==typeof s&&s.hasOwnProperty(fe)&&s.__forward_ref__===oe}class Se extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function te(s){return"string"==typeof s?s:null==s?"":String(s)}function it(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():te(s)}function ye(s,o){const u=o?` in ${o}`:"";throw new Se("201",`No provider for ${it(s)} found${u}`)}function Kt(s,o){null==s&&function(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function gn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dr(s){return{providers:s.providers||[],imports:s.imports||[]}}function nr(s){return qr(s,kt)||qr(s,Ni)}function qr(s,o){return s.hasOwnProperty(o)?s[o]:null}function pi(s){return s&&(s.hasOwnProperty(qn)||s.hasOwnProperty(mt))?s[qn]:null}const kt=B({\u0275prov:B}),qn=B({\u0275inj:B}),Ni=B({ngInjectableDef:B}),mt=B({ngInjectorDef:B});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let Ft;function mn(s){const o=Ft;return Ft=s,o}function bt(s,o,u){const c=nr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Ne.Optional?null:void 0!==o?o:void ye(j(s),"Injector")}function Ke(s){return{toString:s}.toString()}var pr=(()=>((pr=pr||{})[pr.OnPush=0]="OnPush",pr[pr.Default=1]="Default",pr))(),rn=(()=>((rn=rn||{})[rn.Emulated=0]="Emulated",rn[rn.None=2]="None",rn[rn.ShadowDom=3]="ShadowDom",rn))();const sn="undefined"!=typeof globalThis&&globalThis,us="undefined"!=typeof window&&window,un="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,V=sn||q||us||un,Q={},be=[],rt=B({\u0275cmp:B}),It=B({\u0275dir:B}),Dt=B({\u0275pipe:B}),wt=B({\u0275mod:B}),Gn=B({\u0275loc:B}),se=B({\u0275fac:B}),$=B({__NG_ELEMENT_ID__:B});let W=0;function Ie(s){return Ke(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===pr.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||be,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||rn.Emulated,id:"c",styles:s.styles||be,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,y=s.pipes;return c.id+=W++,c.inputs=ir(s.inputs,u),c.outputs=ir(s.outputs),g&&g.forEach(v=>v(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(at):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(Tt):null,c})}function at(s){return kn(s)||function(s){return s[It]||null}(s)}function Tt(s){return function(s){return s[Dt]||null}(s)}const St={};function Pn(s){return Ke(()=>{const o={type:s.type,bootstrap:s.bootstrap||be,declarations:s.declarations||be,imports:s.imports||be,exports:s.exports||be,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(St[s.id]=s.type),o})}function rr(s,o){return Ke(()=>{const u=Tr(s,!0);u.declarations=o.declarations||be,u.imports=o.imports||be,u.exports=o.exports||be})}function ir(s,o){if(null==s)return Q;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),u[d]=c,o&&(o[d]=g)}return u}const Lt=Ie;function gi(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function kn(s){return s[rt]||null}function Tr(s,o){const u=s[wt]||null;if(!u&&!0===o)throw new Error(`Type ${j(s)} does not have '\u0275mod' property.`);return u}function ds(s){return Array.isArray(s)&&"object"==typeof s[1]}function Zt(s){return Array.isArray(s)&&!0===s[1]}function _d(s){return 0!=(8&s.flags)}function Yo(s){return 2==(2&s.flags)}function Hl(s){return 1==(1&s.flags)}function Wr(s){return null!==s.template}function jy(s){return 0!=(512&s[2])}function hs(s,o){return s.hasOwnProperty(se)?s[se]:null}class zr{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function vd(){return Ed}function Ed(s){return s.type.prototype.ngOnChanges&&(s.setInput=wd),Dp}function Dp(){const s=Gl(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===Q)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function wd(s,o,u,c){const d=Gl(s)||function(s,o){return s[Tp]=o}(s,{previous:Q,current:null}),g=d.current||(d.current={}),y=d.previous,v=this.declaredInputs[u],b=y[v];g[v]=new zr(b&&b.currentValue,o,y===Q),s[c]=o}vd.ngInherit=!0;const Tp="__ngSimpleChanges__";function Gl(s){return s[Tp]||null}let ea;function uo(s){ea=s}function Wl(){return void 0!==ea?ea:"undefined"!=typeof document?document:void 0}function dn(s){return!!s.listen}const Id={createRenderer:(s,o)=>Wl()};function wn(s){for(;Array.isArray(s);)s=s[0];return s}function ta(s,o){return wn(o[s])}function vi(s,o){return wn(o[s.index])}function fs(s,o){return s.data[o]}function mr(s,o){const u=o[s];return ds(u)?u:u[0]}function Sp(s){return 4==(4&s[2])}function su(s){return 128==(128&s[2])}function Mi(s,o){return null==o?null:s[o]}function Np(s){s[18]=0}function ou(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const dt={lFrame:Ky(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uu(){return dt.bindingsEnabled}function xe(){return dt.lFrame.lView}function xt(){return dt.lFrame.tView}function Sd(s){return dt.lFrame.contextLView=s,s[8]}function xn(){let s=Op();for(;null!==s&&64===s.type;)s=s.parent;return s}function Op(){return dt.lFrame.currentTNode}function Ri(s,o){const u=dt.lFrame;u.currentTNode=s,u.isParent=o}function cu(){return dt.lFrame.isParent}function Ls(){return dt.isInCheckNoChangesMode}function ia(s){dt.isInCheckNoChangesMode=s}function sa(){return dt.lFrame.bindingIndex++}function ps(s){const o=dt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Nd(s,o){const u=dt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Kl(o)}function Kl(s){dt.lFrame.currentDirectiveIndex=s}function kp(){return dt.lFrame.currentQueryIndex}function Fp(s){dt.lFrame.currentQueryIndex=s}function Zy(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Wy(s,o,u){if(u&Ne.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||u&Ne.Host||(d=Zy(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const c=dt.lFrame=zy();return c.currentTNode=o,c.lView=s,!0}function hu(s){const o=zy(),u=s[1];dt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function zy(){const s=dt.lFrame,o=null===s?null:s.child;return null===o?Ky(s):o}function Ky(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Lp(){const s=dt.lFrame;return dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const sw=Lp;function Vp(){const s=Lp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Fn(){return dt.lFrame.selectedIndex}function Pi(s){dt.lFrame.selectedIndex=s}function Nn(){const s=dt.lFrame;return fs(s.tView,s.selectedIndex)}function fo(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:A}=g;y&&(s.contentHooks||(s.contentHooks=[])).push(-u,y),v&&((s.contentHooks||(s.contentHooks=[])).push(u,v),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,v)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function fu(s,o,u){Bp(s,o,3,u)}function Fd(s,o,u,c){(3&s[2])===u&&Bp(s,o,u,c)}function jp(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Bp(s,o,u,c){const g=null!=c?c:-1,y=o.length-1;let v=0;for(let b=void 0!==c?65535&s[18]:0;b<y;b++)if("number"==typeof o[b+1]){if(v=o[b],null!=c&&v>=c)break}else o[b]<0&&(s[18]+=65536),(v<g||-1==g)&&(ow(s,u,o,b),s[18]=(4294901760&s[18])+b+2),b++}function ow(s,o,u,c){const d=u[c]<0,g=u[c+1],v=s[d?-u[c]:u[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(v)}finally{}}}else try{g.call(v)}finally{}}class Yl{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function aa(s,o,u){const c=dn(s);let d=0;for(;d<u.length;){const g=u[d];if("number"==typeof g){if(0!==g)break;d++;const y=u[d++],v=u[d++],b=u[d++];c?s.setAttribute(o,v,b,y):o.setAttributeNS(y,v,b)}else{const y=g,v=u[++d];qp(y)?c&&s.setProperty(o,y,v):c?s.setAttribute(o,y,v):o.setAttribute(y,v),d++}}return d}function pu(s){return 3===s||4===s||6===s}function qp(s){return 64===s.charCodeAt(0)}function Ld(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||Gp(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function Gp(s,o,u,c,d){let g=0,y=s.length;if(-1===o)y=-1;else for(;g<s.length;){const v=s[g++];if("number"==typeof v){if(v===o){y=-1;break}if(v>o){y=g-1;break}}}for(;g<s.length;){const v=s[g];if("number"==typeof v)break;if(v===u){if(null===c)return void(null!==d&&(s[g+1]=d));if(c===s[g+1])return void(s[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==y&&(s.splice(y,0,o),g=y+1),s.splice(g++,0,u),null!==c&&s.splice(g++,0,c),null!==d&&s.splice(g++,0,d)}function Zp(s){return-1!==s}function Vs(s){return 32767&s}function ms(s,o){let u=function(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let gu=!0;function Vd(s){const o=gu;return gu=s,o}let Ei=0;function ft(s,o){const u=jd(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Ud(c.data,s),Ud(o,null),Ud(c.blueprint,null));const d=ua(s,o),g=s.injectorIndex;if(Zp(d)){const y=Vs(d),v=ms(d,o),b=v[1].data;for(let T=0;T<8;T++)o[g+T]=v[y+T]|b[y+T]}return o[g+8]=d,g}function Ud(s,o){s.push(0,0,0,0,0,0,0,0,o)}function jd(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ua(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){const g=d[1],y=g.type;if(c=2===y?g.declTNode:1===y?d[6]:null,null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function la(s,o,u){!function(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty($)&&(c=u[$]),null==c&&(c=u[$]=Ei++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function wi(s,o,u){if(u&Ne.Optional)return s;ye(o,"NodeInjector")}function Yp(s,o,u,c){if(u&Ne.Optional&&void 0===c&&(c=null),0==(u&(Ne.Self|Ne.Host))){const d=s[9],g=mn(void 0);try{return d?d.get(o,c,u&Ne.Optional):bt(o,c,u&Ne.Optional)}finally{mn(g)}}return wi(c,o,u)}function yu(s,o,u,c=Ne.Default,d){if(null!==s){const g=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty($)?s[$]:void 0;return"number"==typeof o?o>=0?255&o:Jp:o}(u);if("function"==typeof g){if(!Wy(o,s,c))return c&Ne.Host?wi(d,u,c):Yp(o,u,c,d);try{const y=g(c);if(null!=y||c&Ne.Optional)return y;ye(u)}finally{sw()}}else if("number"==typeof g){let y=null,v=jd(s,o),b=-1,T=c&Ne.Host?o[16][6]:null;for((-1===v||c&Ne.SkipSelf)&&(b=-1===v?ua(s,o):o[v+8],-1!==b&&_s(c,!1)?(y=o[1],v=Vs(b),o=ms(b,o)):v=-1);-1!==v;){const A=o[1];if(or(g,v,A.data)){const N=Xp(v,o,u,y,c,T);if(N!==Qp)return N}b=o[v+8],-1!==b&&_s(c,o[1].data[v+8]===T)&&or(g,v,o)?(y=A,v=Vs(b),o=ms(b,o)):v=-1}}}return Yp(o,u,c,d)}const Qp={};function Jp(){return new ca(xn(),xe())}function Xp(s,o,u,c,d,g){const y=o[1],v=y.data[s+8],A=ys(v,y,u,null==c?Yo(v)&&gu:c!=y&&0!=(3&v.type),d&Ne.Host&&g===v);return null!==A?ri(o,y,A,v):Qp}function ys(s,o,u,c,d){const g=s.providerIndexes,y=o.data,v=1048575&g,b=s.directiveStart,A=g>>20,R=d?v+A:s.directiveEnd;for(let U=c?v:v+A;U<R;U++){const Z=y[U];if(U<b&&u===Z||U>=b&&Z.type===u)return U}if(d){const U=y[b];if(U&&Wr(U)&&U.type===u)return b}return null}function ri(s,o,u,c){let d=s[u];const g=o.data;if(function(s){return s instanceof Yl}(d)){const y=d;y.resolving&&function(s,o){throw new Se("200",`Circular dependency in DI detected for ${s}`)}(it(g[u]));const v=Vd(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?mn(y.injectImpl):null;Wy(s,c,Ne.Default);try{d=s[u]=y.factory(void 0,g,s,c),o.firstCreatePass&&u>=c.directiveStart&&function(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(c){const y=Ed(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==b&&mn(b),Vd(v),y.resolving=!1,sw()}}return d}function or(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function _s(s,o){return!(s&Ne.Self||s&Ne.Host&&o)}class ca{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return yu(this._tNode,this._lView,o,void 0,u)}}function Bd(s){return Ke(()=>{const o=s.prototype.constructor,u=o[se]||Jl(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const g=d[se]||Jl(d);if(g&&g!==u)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Jl(s){return ke(s)?()=>{const o=Jl(ae(s));return o&&o()}:hs(s)}function Xl(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const g=u[d];if(pu(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(g===o)return u[d+1];d+=2}}}return null}(xn(),s)}const mo="__parameters__";function Us(s,o,u){return Ke(()=>{const c=function(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...g){if(this instanceof d)return c.apply(this,g),this;const y=new d(...g);return v.annotation=y,v;function v(b,T,A){const N=b.hasOwnProperty(mo)?b[mo]:Object.defineProperty(b,mo,{value:[]})[mo];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(y),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class En{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=gn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ng=new En("AnalyzeForEntryComponents"),Ci=Function;function ar(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),ar(c,o)):o!==s&&o.push(c)}return o}function ki(s,o){s.forEach(u=>Array.isArray(u)?ki(u,o):o(u))}function js(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ii(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function si(s,o,u){let c=wo(s,o);return c>=0?s[1|c]=u:(c=~c,function(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function nc(s,o){const u=wo(s,o);if(u>=0)return s[1|u]}function wo(s,o){return function(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const g=c+(d-c>>1),y=s[g<<u];if(o===y)return g<<u;y>o?d=g:c=g+1}return~(d<<u)}(s,o,1)}const Hs={},Tu="__NG_DI_FLAG__",ga="ngTempTokenPath",Qd=/\n/gm,Au="__source",ma=B({provide:String,useValue:B});let Su;function oi(s){const o=Su;return Su=s,o}function sc(s,o=Ne.Default){if(void 0===Su)throw new Error("inject() must be called from an injection context");return null===Su?bt(s,void 0,o):Su.get(s,o&Ne.Optional?null:void 0,o)}function fn(s,o=Ne.Default){return(Ft||sc)(ae(s),o)}function vs(s){const o=[];for(let u=0;u<s.length;u++){const c=ae(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,g=Ne.Default;for(let y=0;y<c.length;y++){const v=c[y],b=oc(v);"number"==typeof b?-1===b?d=v.token:g|=b:d=v}o.push(fn(d,g))}else o.push(fn(c))}return o}function _a(s,o){return s[Tu]=o,s.prototype[Tu]=o,s}function oc(s){return s[Tu]}function Xd(s,o,u,c){const d=s[ga];throw o[Au]&&d.unshift(o[Au]),s.message=function(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=j(o);if(Array.isArray(o))d=o.map(j).join(" -> ");else if("object"==typeof o){let g=[];for(let y in o)if(o.hasOwnProperty(y)){let v=o[y];g.push(y+":"+("string"==typeof v?JSON.stringify(v):j(v)))}d=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(Qd,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[ga]=null,s}const Es=_a(Us("Inject",s=>({token:s})),-1),bi=_a(Us("Optional"),8),$s=_a(Us("SkipSelf"),4);let cc,Ru;function Io(s){var o;return(null===(o=function(){if(void 0===cc&&(cc=null,V.trustedTypes))try{cc=V.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return cc}())||void 0===o?void 0:o.createHTML(s))||s}function cg(s){var o;return(null===(o=function(){if(void 0===Ru&&(Ru=null,V.trustedTypes))try{Ru=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ru}())||void 0===o?void 0:o.createHTML(s))||s}class C{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _ extends C{getTypeName(){return"HTML"}}class E extends C{getTypeName(){return"Style"}}class I extends C{getTypeName(){return"Script"}}class x extends C{getTypeName(){return"URL"}}class O extends C{getTypeName(){return"ResourceURL"}}function re(s){return s instanceof C?s.changingThisBreaksApplicationSecurity:s}function Me(s,o){const u=ze(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function ze(s){return s instanceof C&&s.getTypeName()||null}function ut(s){return new _(s)}function Ut(s){return new E(s)}function Cn(s){return new I(s)}function Fi(s){return new x(s)}function qs(s){return new O(s)}class hg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Io(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class fg{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Io(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Io(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const y=u.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const pg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,oh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wa(s){return(s=String(s)).match(pg)||s.match(oh)?s:"unsafe:"+s}function Ii(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Ca(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const hc=Ii("area,br,col,hr,img,wbr"),gg=Ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fc=Ii("rp,rt"),c_=Ca(hc,Ca(gg,Ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ca(fc,Ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ca(fc,gg)),mg=Ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),d_=Ii("srcset"),h_=Ca(mg,d_,Ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qx=Ii("script,style,template");class Jx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!c_.hasOwnProperty(u))return this.sanitizedSomething=!0,!Qx.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const g=c.item(d),y=g.name,v=y.toLowerCase();if(!h_.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let b=g.value;mg[v]&&(b=wa(b)),d_[v]&&(s=b,b=(s=String(s)).split(",").map(o=>wa(o.trim())).join(", ")),this.buf.push(" ",y,'="',mw(b),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();c_.hasOwnProperty(u)&&!hc.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(mw(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Xx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gw=/([^\#-~ |!])/g;function mw(s){return s.replace(/&/g,"&amp;").replace(Xx,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(gw,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let f_;function oT(s,o){let u=null;try{f_=f_||function(s){const o=new fg(s);return function(){try{return!!(new window.DOMParser).parseFromString(Io(""),"text/html")}catch(s){return!1}}()?new hg(o):o}(s);let c=o?String(o):"";u=f_.getInertBodyElement(c);let d=5,g=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=g,g=u.innerHTML,u=f_.getInertBodyElement(c)}while(c!==g);return Io((new Jx).sanitizeChildren(yw(u)||u))}finally{if(u){const c=yw(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function yw(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var qe=(()=>((qe=qe||{})[qe.NONE=0]="NONE",qe[qe.HTML=1]="HTML",qe[qe.STYLE=2]="STYLE",qe[qe.SCRIPT=3]="SCRIPT",qe[qe.URL=4]="URL",qe[qe.RESOURCE_URL=5]="RESOURCE_URL",qe))();function Do(s){const o=ah();return o?cg(o.sanitize(qe.HTML,s)||""):Me(s,"HTML")?cg(re(s)):oT(Wl(),te(s))}function Di(s){const o=ah();return o?o.sanitize(qe.URL,s)||"":Me(s,"URL")?re(s):wa(te(s))}function ah(){const s=xe();return s&&s[12]}const uh="__ngContext__";function ur(s,o){s[uh]=o}function ch(s){const o=function(s){return s[uh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Li(s){return s.ngOriginalError}function gT(s,...o){s.error(...o)}class Vi{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=this._findContext(o),d=(s=o)&&s.ngErrorLogger||gT;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(Li(o)):null}_findOriginalError(o){let u=o&&Li(o);for(;u&&Li(u);)u=Li(u);return u||null}}const Tw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Un(s){return s instanceof Function?s():s}var Gs=(()=>((Gs=Gs||{})[Gs.Important=1]="Important",Gs[Gs.DashCase=2]="DashCase",Gs))();function ph(s,o){return undefined(s,o)}function mh(s){const o=s[3];return Zt(o)?o[3]:o}function w_(s){return Mw(s[13])}function C_(s){return Mw(s[4])}function Mw(s){for(;null!==s&&!Zt(s);)s=s[4];return s}function ku(s,o,u,c,d){if(null!=c){let g,y=!1;Zt(c)?g=c:ds(c)&&(y=!0,c=c[0]);const v=wn(c);0===s&&null!==u?null==d?bs(o,u,v):Ln(o,u,v,d||null,!0):1===s&&null!==u?Ln(o,u,v,d||null,!0):2===s?function(s,o,u){const c=yh(s,o);c&&function(s,o,u,c){dn(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}(o,v,y):3===s&&o.destroyNode(v),null!=g&&function(s,o,u,c,d){const g=u[7];g!==wn(u)&&ku(o,s,c,g,d);for(let v=10;v<u.length;v++){const b=u[v];_h(b[1],b,s,o,c,g)}}(o,s,g,u,d)}}function I_(s,o,u){return dn(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function kw(s,o){const u=s[9],c=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,ou(d,-1)),u.splice(c,1)}function T_(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const d=c[17];null!==d&&d!==s&&kw(d,c),o>0&&(s[u-1][4]=c[4]);const g=ii(s,10+o);!function(s,o){_h(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=g[19];null!==y&&y.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Fw(s,o){if(!(256&o[2])){const u=o[11];dn(u)&&u.destroyNode&&_h(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return Bi(s[1],s);for(;o;){let u=null;if(ds(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)ds(o)&&Bi(o[1],o),o=o[3];null===o&&(o=s),ds(o)&&Bi(o[1],o),u=o&&o[4]}o=u}}(o)}}function Bi(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof Yl)){const g=u[c+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const v=d[g[y]],b=g[y+1];try{b.call(v)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,c=o[7];let d=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const y=u[g+1],v="function"==typeof y?y(o):wn(o[y]),b=c[d=u[g+2]],T=u[g+3];"boolean"==typeof T?v.removeEventListener(u[g],b,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),g+=2}else{const y=c[d=u[g+1]];u[g].call(y)}if(null!==c){for(let g=d+1;g<c.length;g++)c[g]();o[7]=null}}(s,o),1===o[1].type&&dn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Zt(o[3])){u!==o[3]&&kw(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function A_(s,o,u){return function(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===rn.None||d===rn.Emulated)return null}return vi(c,u)}(s,o.parent,u)}function Ln(s,o,u,c,d){dn(s)?s.insertBefore(o,u,c,d):o.insertBefore(u,c,d)}function bs(s,o,u){dn(s)?s.appendChild(o,u):o.appendChild(u)}function Uw(s,o,u,c,d){null!==c?Ln(s,o,u,c,d):bs(s,o,u)}function yh(s,o){return dn(s)?s.parentNode(o):o.parentNode}let Hw=function(s,o,u){return 40&s.type?vi(s,u):null};function Fu(s,o,u,c){const d=A_(s,c,o),g=o[11],v=function(s,o,u){return Hw(s,o,u)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)Uw(g,d,u[b],v,!1);else Uw(g,d,u,v,!1)}function Zs(s,o){if(null!==o){const u=o.type;if(3&u)return vi(o,s);if(4&u)return Lu(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Zs(s,c);{const d=s[o.index];return Zt(d)?Lu(-1,d):wn(d)}}if(32&u)return ph(o,s)()||wn(s[o.index]);{const c=Ot(s,o);return null!==c?Array.isArray(c)?c[0]:Zs(mh(s[16]),c):Zs(s,o.next)}}return null}function Ot(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Lu(s,o){const u=10+s+1;if(u<o.length){const c=o[u],d=c[1].firstChild;if(null!==d)return Zs(c,d)}return o[7]}function To(s,o,u,c,d,g,y){for(;null!=u;){const v=c[u.index],b=u.type;if(y&&0===o&&(v&&ur(wn(v),c),u.flags|=4),64!=(64&u.flags))if(8&b)To(s,o,u.child,c,d,g,!1),ku(o,s,d,v,g);else if(32&b){const T=ph(u,c);let A;for(;A=T();)ku(o,s,d,A,g);ku(o,s,d,v,g)}else 16&b?M_(s,o,c,u,d,g):ku(o,s,d,v,g);u=y?u.projectionNext:u.next}}function _h(s,o,u,c,d,g){To(u,c,s.firstChild,o,d,g,!1)}function M_(s,o,u,c,d,g){const y=u[16],b=y[6].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)ku(o,s,d,b[T],g);else To(s,o,b,y[3],d,g,!0)}function mc(s,o,u){dn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function Eg(s,o,u){dn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function vh(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===c||s.charCodeAt(d+g)<=32)return d}u=d+1}}const wg="ng-template";function Cg(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==vh(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function R_(s){return 4===s.type&&s.value!==wg}function qw(s,o,u){return o===(4!==s.type||u?s.value:wg)}function NT(s,o,u){let c=4;const d=s.attrs||[],g=function(s){for(let o=0;o<s.length;o++)if(pu(s[o]))return o;return s.length}(d);let y=!1;for(let v=0;v<o.length;v++){const b=o[v];if("number"!=typeof b){if(!y)if(4&c){if(c=2|1&c,""!==b&&!qw(s,b,u)||""===b&&1===o.length){if(Is(c))return!1;y=!0}}else{const T=8&c?b:o[++v];if(8&c&&null!==s.attrs){if(!Cg(s.attrs,T,u)){if(Is(c))return!1;y=!0}continue}const N=MT(8&c?"class":b,d,R_(s),u);if(-1===N){if(Is(c))return!1;y=!0;continue}if(""!==T){let R;R=N>g?"":d[N+1].toLowerCase();const U=8&c?R:null;if(U&&-1!==vh(U,T,0)||2&c&&T!==R){if(Is(c))return!1;y=!0}}}}else{if(!y&&!Is(c)&&!Is(b))return!1;if(y&&Is(b))continue;y=!1,c=b|1&c}}return Is(c)||y}function Is(s){return 0==(1&s)}function MT(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let g=!1;for(;d<o.length;){const y=o[d];if(y===s)return d;if(3===y||6===y)g=!0;else{if(1===y||2===y){let v=o[++d];for(;"string"==typeof v;)v=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=g?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Eh(s,o,u=!1){for(let c=0;c<o.length;c++)if(NT(s,o[c],u))return!0;return!1}function Gw(s,o){return s?":not("+o.trim()+")":o}function Zw(s){let o=s[0],u=1,c=2,d="",g=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&c){const v=s[++u];d+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Is(y)&&(o+=Gw(g,d),d=""),c=y,g=g||!Is(c);u++}return""!==d&&(o+=Gw(g,d)),o}const st={};function yc(s){k_(xt(),xe(),Fn()+s,Ls())}function k_(s,o,u,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&fu(o,g,u)}else{const g=s.preOrderHooks;null!==g&&Fd(o,g,0,u)}Pi(u)}function wh(s,o){return s<<17|o<<2}function Ds(s){return s>>17&32767}function F_(s){return 2|s}function Hi(s){return(131068&s)>>2}function bg(s,o){return-131069&s|o<<2}function Dg(s){return 1|s}function tC(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],g=u[c+1];if(-1!==g){const y=s.data[g];Fp(d),y.contentQueries(2,o[g],g)}}}function Ec(s,o,u,c,d,g,y,v,b,T){const A=o.blueprint.slice();return A[0]=d,A[2]=140|c,Np(A),A[3]=A[15]=s,A[8]=u,A[10]=y||s&&s[10],A[11]=v||s&&s[11],A[12]=b||s&&s[12]||null,A[9]=T||s&&s[9]||null,A[6]=g,A[16]=2==o.type?s[16]:A,A}function Uu(s,o,u,c,d){let g=s.data[o];if(null===g)g=function(s,o,u,c,d){const g=Op(),y=cu(),b=s.data[o]=function(s,o,u,c,d,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=b),null!==g&&(y?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,o,u,c,d),dt.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=c,g.attrs=d;const y=function(){const s=dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Ri(g,!0),g}function So(s,o,u,c){if(0===u)return-1;const d=o.length;for(let g=0;g<u;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Dh(s,o,u){hu(o);try{const c=s.viewQuery;null!==c&&Vg(1,c,u);const d=s.template;null!==d&&nC(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&tC(s,o),s.staticViewQueries&&Vg(2,s.viewQuery,u);const g=s.components;null!==g&&function(s,o){for(let u=0;u<o.length;u++)aA(s,o[u])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Vp()}}function Cc(s,o,u,c){const d=o[2];if(256==(256&d))return;hu(o);const g=Ls();try{Np(o),function(s){dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&nC(s,o,u,2,c);const y=3==(3&d);if(!g)if(y){const T=s.preOrderCheckHooks;null!==T&&fu(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Fd(o,T,0,null),jp(o,0)}if(function(s){for(let o=w_(s);null!==o;o=C_(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const d=u[c],g=d[3];0==(1024&d[2])&&ou(g,1),d[2]|=1024}}}(o),function(s){for(let o=w_(s);null!==o;o=C_(o))for(let u=10;u<o.length;u++){const c=o[u],d=c[1];su(c)&&Cc(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&tC(s,o),!g)if(y){const T=s.contentCheckHooks;null!==T&&fu(o,T)}else{const T=s.contentHooks;null!==T&&Fd(o,T,1),jp(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)Pi(~d);else{const g=d,y=u[++c],v=u[++c];Nd(y,g),v(2,o[g])}}}finally{Pi(-1)}}(s,o);const v=s.components;null!==v&&function(s,o){for(let u=0;u<o.length;u++)hC(s,o[u])}(o,v);const b=s.viewQuery;if(null!==b&&Vg(2,b,c),!g)if(y){const T=s.viewCheckHooks;null!==T&&fu(o,T)}else{const T=s.viewHooks;null!==T&&Fd(o,T,2),jp(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,ou(o[3],-1))}finally{Vp()}}function GT(s,o,u,c){const d=o[10],g=!Ls(),y=Sp(o);try{g&&!y&&d.begin&&d.begin(),y&&Dh(s,o,c),Cc(s,o,u,c)}finally{g&&!y&&d.end&&d.end()}}function nC(s,o,u,c,d){const g=Fn(),y=2&c;try{Pi(-1),y&&o.length>20&&k_(s,o,20,Ls()),u(c,d)}finally{Pi(g)}}function Mg(s,o,u){!uu()||(function(s,o,u,c){const d=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||ft(u,o),ur(c,o);const y=u.initialInputs;for(let v=d;v<g;v++){const b=s.data[v],T=Wr(b);T&&nA(o,u,b);const A=ri(o,s,v,u);ur(A,o),null!==y&&rA(0,v-d,A,b,0,y),T&&(mr(u.index,o)[8]=A)}}(s,o,u,vi(u,o)),128==(128&u.flags)&&function(s,o,u){const c=u.directiveStart,d=u.directiveEnd,y=u.index,v=dt.lFrame.currentDirectiveIndex;try{Pi(y);for(let b=c;b<d;b++){const T=s.data[b],A=o[b];Kl(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&aC(T,A)}}finally{Pi(-1),Kl(v)}}(s,o,u))}function Rg(s,o,u=vi){const c=o.localNames;if(null!==c){let d=o.index+1;for(let g=0;g<c.length;g+=2){const y=c[g+1],v=-1===y?u(o,s):s[y];s[d++]=v}}}function bc(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ah(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ah(s,o,u,c,d,g,y,v,b,T){const A=20+c,N=A+d,R=function(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:st);return u}(A,N),U="function"==typeof T?T():T;return R[1]={type:s,blueprint:R,template:u,queries:null,viewQuery:v,declTNode:o,data:R.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:U,incompleteFirstPass:!1}}function iC(s,o,u,c){const d=pC(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&gC(s).push(c,d.length-1))}function sC(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,d):u[c]=[o,d]}return u}function ai(s,o,u,c,d,g,y,v){const b=vi(o,u);let A,T=o.inputs;!v&&null!=T&&(A=T[c])?(Q_(s,u,A,c,d),Yo(o)&&function(s,o){const u=mr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=y?y(d,o.value||"",c):d,dn(g)?g.setProperty(b,c,d):qp(c)||(b.setProperty?b.setProperty(c,d):b[c]=d))}function G_(s,o,u,c){let d=!1;if(uu()){const g=function(s,o,u){const c=s.directiveRegistry;let d=null;if(c)for(let g=0;g<c.length;g++){const y=c[g];Eh(u,y.selectors,!1)&&(d||(d=[]),la(ft(u,o),s,y.type),Wr(y)?(uC(s,u),d.unshift(y)):d.push(y))}return d}(s,o,u),y=null===c?null:{"":-1};if(null!==g){d=!0,lC(u,s.data.length,g.length);for(let A=0;A<g.length;A++){const N=g[A];N.providersResolver&&N.providersResolver(N)}let v=!1,b=!1,T=So(s,o,g.length,null);for(let A=0;A<g.length;A++){const N=g[A];u.mergedAttrs=Ld(u.mergedAttrs,N.hostAttrs),Z_(s,u,o,T,N),tA(T,N,y),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const R=N.type.prototype;!v&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),v=!0),!b&&(R.ngOnChanges||R.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),T++}!function(s,o){const c=o.directiveEnd,d=s.data,g=o.attrs,y=[];let v=null,b=null;for(let T=o.directiveStart;T<c;T++){const A=d[T],N=A.inputs,R=null===g||R_(o)?null:iA(N,g);y.push(R),v=sC(N,T,v),b=sC(A.outputs,T,b)}null!==v&&(v.hasOwnProperty("class")&&(o.flags|=16),v.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=v,o.outputs=b}(s,u)}y&&function(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=u[o[d+1]];if(null==g)throw new Se("301",`Export of name '${o[d+1]}' not found!`);c.push(o[d],g)}}}(u,c,y)}return u.mergedAttrs=Ld(u.mergedAttrs,u.attrs),d}function Ic(s,o,u,c,d,g){const y=g.hostBindings;if(y){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const b=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(v)!=b&&v.push(b),v.push(c,d,y)}}function aC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function uC(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function tA(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;Wr(o)&&(u[""]=s)}}function lC(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Z_(s,o,u,c,d){s.data[c]=d;const g=d.factory||(d.factory=hs(d.type)),y=new Yl(g,Wr(d),null);s.blueprint[c]=y,u[c]=y,Ic(s,o,0,c,So(s,u,d.hostVars,st),d)}function nA(s,o,u){const c=vi(o,s),d=bc(u),g=s[10],y=Lg(s,Ec(s,d,null,u.onPush?64:16,c,o,g,g.createRenderer(c,u),null,null));s[o.index]=y}function Ws(s,o,u,c,d,g){const y=vi(s,o);!function(s,o,u,c,d,g,y){if(null==g)dn(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const v=null==y?te(g):y(g,c||"",d);dn(s)?s.setAttribute(o,d,v,u):u?o.setAttributeNS(u,d,v):o.setAttribute(d,v)}}(o[11],y,g,s.value,u,c,d)}function rA(s,o,u,c,d,g){const y=g[o];if(null!==y){const v=c.setInput;for(let b=0;b<y.length;){const T=y[b++],A=y[b++],N=y[b++];null!==v?c.setInput(u,N,T,A):u[A]=N}}}function iA(s,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return u}function oA(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function hC(s,o){const u=mr(o,s);if(su(u)){const c=u[1];80&u[2]?Cc(c,u,c.template,u[8]):u[5]>0&&Fg(u)}}function Fg(s){for(let c=w_(s);null!==c;c=C_(c))for(let d=10;d<c.length;d++){const g=c[d];if(1024&g[2]){const y=g[1];Cc(y,g,y.template,g[8])}else g[5]>0&&Fg(g)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=mr(u[c],s);su(d)&&d[5]>0&&Fg(d)}}function aA(s,o){const u=mr(o,s),c=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),Dh(c,u,u[8])}function Lg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function z_(s){for(;s;){s[2]|=64;const o=mh(s);if(jy(s)&&!o)return s;s=o}return null}function K_(s,o,u){const c=o[10];c.begin&&c.begin();try{Cc(s,o,s.template,u)}catch(d){throw yC(o,d),d}finally{c.end&&c.end()}}function fC(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=ch(u),d=c[1];GT(d,c,d.template,u)}}(s[8])}function Vg(s,o,u){Fp(0),o(s,u)}const Dc=(()=>Promise.resolve(null))();function pC(s){return s[7]||(s[7]=[])}function gC(s){return s.cleanup||(s.cleanup=[])}function yC(s,o){const u=s[9],c=u?u.get(Vi,null):null;c&&c.handleError(o)}function Q_(s,o,u,c,d){for(let g=0;g<u.length;){const y=u[g++],v=u[g++],b=o[y],T=s.data[y];null!==T.setInput?T.setInput(b,d,c,v):b[v]=d}}function xo(s,o,u){const c=ta(o,s);!function(s,o,u){dn(s)?s.setValue(o,u):o.textContent=u}(s[11],c,u)}function Ug(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,g=0;if(null!==o)for(let y=0;y<o.length;y++){const v=o[y];"number"==typeof v?g=v:1==g?d=z(d,v):2==g&&(c=z(c,v+": "+o[++y]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}const Aa=new En("INJECTOR",-1);class jg{get(o,u=Hs){if(u===Hs){const c=new Error(`NullInjectorError: No provider for ${j(o)}!`);throw c.name="NullInjectorError",c}return u}}const zs=new En("Set Injector scope."),xh={},hA={};let Nh;function _C(){return void 0===Nh&&(Nh=new jg),Nh}function EC(s,o=null,u=null,c){return new wC(s,u,o||_C(),c)}class wC{constructor(o,u,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&ki(u,v=>this.processProvider(v,o,u)),ki([o],v=>this.processInjectorType(v,[],g)),this.records.set(Aa,ju(void 0,this));const y=this.records.get(zs);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof o?null:j(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Hs,c=Ne.Default){this.assertNotDestroyed();const d=oi(this),g=mn(void 0);try{if(!(c&Ne.SkipSelf)){let v=this.records.get(o);if(void 0===v){const b=("function"==typeof(s=o)||"object"==typeof s&&s instanceof En)&&nr(o);v=b&&this.injectableDefInScope(b)?ju(Bg(o),xh):null,this.records.set(o,v)}if(null!=v)return this.hydrate(o,v)}return(c&Ne.Self?_C():this.parent).get(o,u=c&Ne.Optional&&u===Hs?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[ga]=y[ga]||[]).unshift(j(o)),d)throw y;return Xd(y,o,"R3InjectorError",this.source)}throw y}finally{mn(g),oi(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(j(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,c){if(!(o=ae(o)))return!1;let d=pi(o);const g=null==d&&o.ngModule||void 0,y=void 0===g?o:g,v=-1!==c.indexOf(y);if(void 0!==g&&(d=pi(g)),null==d)return!1;if(null!=d.imports&&!v){let A;c.push(y);try{ki(d.imports,N=>{this.processInjectorType(N,u,c)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:R,providers:U}=A[N];ki(U,Z=>this.processProvider(Z,R,U||be))}}this.injectorDefTypes.add(y);const b=hs(y)||(()=>new y);this.records.set(y,ju(b,xh));const T=d.providers;if(null!=T&&!v){const A=o;ki(T,N=>this.processProvider(N,A,T))}return void 0!==g&&void 0!==o.providers}processProvider(o,u,c){let d=Bu(o=ae(o))?o:ae(o&&o.provide);const g=CC(s=o)?ju(void 0,s.useValue):ju(Sa(s),xh);var s;if(Bu(o)||!0!==o.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=ju(void 0,xh,!0),y.factory=()=>vs(y.multi),this.records.set(d,y)),d=o,y.multi.push(o)}this.records.set(d,g)}hydrate(o,u){return u.value===xh&&(u.value=hA,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=ae(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Bg(s){const o=nr(s),u=null!==o?o.factory:hs(s);if(null!==u)return u;if(s instanceof En)throw new Error(`Token ${j(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=function(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${j(s)}: (${c.join(", ")}).`)}const u=function(s){const o=s&&(s[kt]||s[Ni]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function Sa(s,o,u){let c;if(Bu(s)){const d=ae(s);return hs(d)||Bg(d)}if(CC(s))c=()=>ae(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...vs(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>fn(ae(s.useExisting));else{const d=ae(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return hs(d)||Bg(d);c=()=>new d(...vs(s.deps))}return c}function ju(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function CC(s){return null!==s&&"object"==typeof s&&ma in s}function Bu(s){return"function"==typeof s}const IC=function(s,o,u){return function(s,o=null,u=null,c){const d=EC(s,o,u,c);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};class Qt{static create(o,u){return Array.isArray(o)?IC(o,u,""):IC(o.providers,o.parent,o.name||"")}}function TA(s,o){fo(ch(s)[1],xn())}function uv(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(Wr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){c.push(d);const y=s;y.inputs=lv(s.inputs),y.declaredInputs=lv(s.declaredInputs),y.outputs=lv(s.outputs);const v=d.hostBindings;v&&yt(s,v);const b=d.viewQuery,T=d.contentQueries;if(b&&We(s,b),T&&cv(s,T),G(s.inputs,d.inputs),G(s.declaredInputs,d.declaredInputs),G(s.outputs,d.outputs),Wr(d)&&d.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let y=0;y<g.length;y++){const v=g[y];v&&v.ngInherit&&v(s),v===uv&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Ld(d.hostAttrs,u=Ld(u,d.hostAttrs))}}(c)}function lv(s){return s===Q?{}:s===be?[]:s}function We(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function cv(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,g)=>{o(c,d,g),u(c,d,g)}:o}function yt(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}Qt.THROW_IF_NOT_FOUND=Hs,Qt.NULL=new jg,Qt.\u0275prov=gn({token:Qt,providedIn:"any",factory:()=>fn(Aa)}),Qt.__NG_ELEMENT_ID__=-1;let Gg=null;function Ma(){if(!Gg){const s=V.Symbol;if(s&&s.iterator)Gg=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Gg=c)}}}return Gg}function kh(s){return!!lr(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ma()in s)}function lr(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Wg(s,o,u,c){const d=xe();return Fr(d,sa(),o)&&(xt(),Ws(Nn(),d,s,o,u,c)),Wg}function $u(s,o,u,c,d,g){const v=function(s,o,u,c){const d=Fr(s,o,u);return Fr(s,o+1,c)||d}(s,dt.lFrame.bindingIndex,u,d);return ps(2),v?o+te(u)+c+te(d)+g:st}function BC(s,o,u,c,d,g,y,v){const b=xe(),T=xt(),A=s+20,N=T.firstCreatePass?function(s,o,u,c,d,g,y,v,b){const T=o.consts,A=Uu(o,s,4,y||null,Mi(T,v));G_(o,u,A,Mi(T,b)),fo(o,A);const N=A.tViews=Ah(2,A,c,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,A),N.queries=o.queries.embeddedTView(A)),A}(A,T,b,o,u,c,d,g,y):T.data[A];Ri(N,!1);const R=b[11].createComment("");Fu(T,b,R,N),ur(R,b),Lg(b,b[A]=oA(R,b,R,N)),Hl(N)&&Mg(T,b,N),null!=y&&Rg(b,N,v)}function Hh(s,o=Ne.Default){const u=xe();return null===u?fn(s,o):yu(xn(),u,ae(s),o)}function im(s,o,u){const c=xe();return Fr(c,sa(),o)&&ai(xt(),Nn(),c,s,o,c[11],u,!1),im}function sm(s,o,u,c,d){const y=d?"class":"style";Q_(s,u,o.inputs[y],y,c)}function Ac(s,o,u,c){const d=xe(),g=xt(),y=20+s,v=d[11],b=d[y]=I_(v,o,dt.lFrame.currentNamespace),T=g.firstCreatePass?function(s,o,u,c,d,g,y){const v=o.consts,T=Uu(o,s,2,d,Mi(v,g));return G_(o,u,T,Mi(v,y)),null!==T.attrs&&Ug(T,T.attrs,!1),null!==T.mergedAttrs&&Ug(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,g,d,0,o,u,c):g.data[y];Ri(T,!0);const A=T.mergedAttrs;null!==A&&aa(v,b,A);const N=T.classes;null!==N&&Eg(v,b,N);const R=T.styles;null!==R&&mc(v,b,R),64!=(64&T.flags)&&Fu(g,d,b,T),0===dt.lFrame.elementDepthCount&&ur(b,d),dt.lFrame.elementDepthCount++,Hl(T)&&(Mg(g,d,T),function(s,o,u){if(_d(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,u[g],g)}}}(g,T,d)),null!==c&&Rg(d,T)}function xv(){let s=xn();cu()?dt.lFrame.isParent=!1:(s=s.parent,Ri(s,!1));const o=s;dt.lFrame.elementDepthCount--;const u=xt();u.firstCreatePass&&(fo(u,s),_d(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&sm(u,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&sm(u,o,xe(),o.stylesWithoutHost,!1)}function QC(s,o,u,c){Ac(s,o,u,c),xv()}function Gh(){return xe()}function om(s){return!!s&&"function"==typeof s.then}function Sc(s){return!!s&&"function"==typeof s.subscribe}const am=Sc;function Nr(s,o,u,c){const d=xe(),g=xt(),y=xn();return function(s,o,u,c,d,g,y,v){const b=Hl(c),A=s.firstCreatePass&&gC(s),N=o[8],R=pC(o);let U=!0;if(3&c.type||v){const ne=vi(c,o),Pe=v?v(ne):ne,Ee=R.length,tt=v?ct=>v(wn(ct[c.index])):c.index;if(dn(u)){let ct=null;if(!v&&b&&(ct=function(s,o,u,c){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const y=d[g];if(y===u&&d[g+1]===c){const v=o[7],b=d[g+2];return v.length>b?v[b]:null}"string"==typeof y&&(g+=2)}return null}(s,o,d,c.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=g,ct.__ngLastListenerFn__=g,U=!1;else{g=zh(c,o,N,g,!1);const Pt=u.listen(Pe,d,g);R.push(g,Pt),A&&A.push(d,tt,Ee,Ee+1)}}else g=zh(c,o,N,g,!0),Pe.addEventListener(d,g,y),R.push(g),A&&A.push(d,tt,Ee,y)}else g=zh(c,o,N,g,!1);const Z=c.outputs;let de;if(U&&null!==Z&&(de=Z[d])){const ne=de.length;if(ne)for(let Pe=0;Pe<ne;Pe+=2){const hr=o[de[Pe]][de[Pe+1]].subscribe(g),as=R.length;R.push(g,hr),A&&A.push(d,c.index,as,-(as+1))}}}(g,d,d[11],y,s,o,!!u,c),Nr}function Mv(s,o,u,c){try{return!1!==u(c)}catch(d){return yC(s,d),!1}}function zh(s,o,u,c,d){return function g(y){if(y===Function)return c;const v=2&s.flags?mr(s.index,o):o;0==(32&o[2])&&z_(v);let b=Mv(o,0,c,y),T=g.__ngNextListenerFn__;for(;T;)b=Mv(o,0,T,y)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function Rv(s=1){return function(s){return(dt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,dt.lFrame.contextLView))[8]}(s)}function Nc(s,o,u,c,d){const g=s[u+1],y=null===o;let v=c?Ds(g):Hi(g),b=!1;for(;0!==v&&(!1===b||y);){const A=s[v+1];rb(s[v],o)&&(b=!0,s[v+1]=c?Dg(A):F_(A)),v=c?Ds(A):Hi(A)}b&&(s[u+1]=c?F_(g):Dg(g))}function rb(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&wo(s,o)>=0}function hm(s,o){return function(s,o,u,c){const d=xe(),g=xt(),y=ps(2);g.firstUpdatePass&&function(s,o,u,c){const d=s.data;if(null===d[u+1]){const g=d[Fn()],y=function(s,o){return o>=s.expandoStartIndex}(s,u);(function(s,o){return 0!=(s.flags&(o?16:32))})(g,c)&&null===o&&!y&&(o=!1),o=function(s,o,u,c){const d=function(s){const o=dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=Wi(u=Yu(null,s,o,u,c),o.attrs,c),g=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==d)if(u=Yu(d,s,o,u,c),null===g){let b=function(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==Hi(c))return s[Ds(c)]}(s,o,c);void 0!==b&&Array.isArray(b)&&(b=Yu(null,s,o,b[1],c),b=Wi(b,o.attrs,c),function(s,o,u,c){s[Ds(u?o.classBindings:o.styleBindings)]=c}(s,o,c,b))}else g=function(s,o,u){let c;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)c=Wi(c,s[g].hostAttrs,u);return Wi(c,o.attrs,u)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(d,g,o,c),function(s,o,u,c,d,g){let y=g?o.classBindings:o.styleBindings,v=Ds(y),b=Hi(y);s[c]=u;let A,T=!1;if(Array.isArray(u)){const N=u;A=N[1],(null===A||wo(N,A)>0)&&(T=!0)}else A=u;if(d)if(0!==b){const R=Ds(s[v+1]);s[c+1]=wh(R,v),0!==R&&(s[R+1]=bg(s[R+1],c)),s[v+1]=function(s,o){return 131071&s|o<<17}(s[v+1],c)}else s[c+1]=wh(v,0),0!==v&&(s[v+1]=bg(s[v+1],c)),v=c;else s[c+1]=wh(b,0),0===v?v=c:s[b+1]=bg(s[b+1],c),b=c;T&&(s[c+1]=F_(s[c+1])),Nc(s,A,c,!0),Nc(s,A,c,!1),function(s,o,u,c,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&wo(g,o)>=0&&(u[c+1]=Dg(u[c+1]))}(o,A,s,c,g),y=wh(v,b),g?o.classBindings=y:o.styleBindings=y}(d,g,o,u,y,c)}}(g,s,y,c),o!==st&&Fr(d,y,o)&&function(s,o,u,c,d,g,y,v){if(!(3&o.type))return;const b=s.data,T=b[v+1];pm(function(s){return 1==(1&s)}(T)?lb(b,o,u,d,Hi(T),y):void 0)||(pm(g)||function(s){return 2==(2&s)}(T)&&(g=lb(b,null,u,d,v,y)),function(s,o,u,c,d){const g=dn(s);if(o)d?g?s.addClass(u,c):u.classList.add(c):g?s.removeClass(u,c):u.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:Gs.DashCase;if(null==d)g?s.removeStyle(u,c,y):u.style.removeProperty(c);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),y|=Gs.Important),g?s.setStyle(u,c,d,y):u.style.setProperty(c,d,v?"important":"")}}}(c,y,ta(Fn(),u),d,g))}(g,g.data[Fn()],d,d[11],s,d[y+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=j(re(s)))),s}(o,u),c,y)}(s,o,null,!0),hm}function Yu(s,o,u,c,d){let g=null;const y=u.directiveEnd;let v=u.directiveStylingLast;for(-1===v?v=u.directiveStart:v++;v<y&&(g=o[v],c=Wi(c,g.hostAttrs,d),g!==s);)v++;return null!==s&&(u.directiveStylingLast=v),c}function Wi(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?d=y:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),si(s,y,!!u||o[++g]))}return void 0===s?null:s}function lb(s,o,u,c,d,g){const y=null===o;let v;for(;d>0;){const b=s[d],T=Array.isArray(b),A=T?b[1]:b,N=null===A;let R=u[d+1];R===st&&(R=N?be:void 0);let U=N?nc(R,c):A===c?R:void 0;if(T&&!pm(U)&&(U=nc(b,c)),pm(U)&&(v=U,y))return v;const Z=s[d+1];d=y?Ds(Z):Hi(Z)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(v=nc(b,c))}return v}function pm(s){return void 0!==s}function Bv(s,o=""){const u=xe(),c=xt(),d=s+20,g=c.firstCreatePass?Uu(c,d,1,o,null):c.data[d],y=u[d]=function(s,o){return dn(s)?s.createText(o):s.createTextNode(o)}(u[11],o);Fu(c,u,y,g),Ri(g,!1)}function gm(s){return Rc("",s,""),gm}function Rc(s,o,u){const c=xe(),d=function(s,o,u,c){return Fr(s,sa(),u)?o+te(u)+c:st}(c,s,o,u);return d!==st&&xo(c,Fn(),d),Rc}function tf(s,o,u,c,d){const g=xe(),y=$u(g,s,o,u,c,d);return y!==st&&xo(g,Fn(),y),tf}function uf(s,o,u){const c=xe();return Fr(c,sa(),o)&&ai(xt(),Nn(),c,s,o,c[11],u,!0),uf}const Ju=void 0;var cf=["en",[["a","p"],["AM","PM"],Ju],[["AM","PM"],Ju,Ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ju,"{1} 'at' {0}",Ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Xu={};function df(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=hf(o);if(u)return u;const c=o.split("-")[0];if(u=hf(c),u)return u;if("en"===c)return cf;throw new Error(`Missing locale data for the locale "${s}".`)}function zv(s){return df(s)[ot.PluralCase]}function hf(s){return s in Xu||(Xu[s]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[s]),Xu[s]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const ff="en-US";let nl=ff;function wm(s){Kt(s,"Expected localeId to be defined"),"string"==typeof s&&(nl=s.toLowerCase().replace(/_/g,"-"))}function i0(s,o,u,c,d){if(s=ae(s),Array.isArray(s))for(let g=0;g<s.length;g++)i0(s[g],o,u,c,d);else{const g=xt(),y=xe();let v=Bu(s)?s:ae(s.provide),b=Sa(s);const T=xn(),A=1048575&T.providerIndexes,N=T.directiveStart,R=T.providerIndexes>>20;if(Bu(s)||!s.multi){const U=new Yl(b,d,Hh),Z=Or(v,o,d?A:A+R,N);-1===Z?(la(ft(T,y),g,v),Lc(g,s,o.length),o.push(v),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(U),y.push(U)):(u[Z]=U,y[Z]=U)}else{const U=Or(v,o,A+R,N),Z=Or(v,o,A,A+R),de=U>=0&&u[U],ne=Z>=0&&u[Z];if(d&&!ne||!d&&!de){la(ft(T,y),g,v);const Pe=function(s,o,u,c,d){const g=new Yl(s,u,Hh);return g.multi=[],g.index=o,g.componentProviders=0,bf(g,d,c&&!u),g}(d?cS:lS,u.length,d,c,b);!d&&ne&&(u[Z].providerFactory=Pe),Lc(g,s,o.length,0),o.push(v),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(Pe),y.push(Pe)}else Lc(g,s,U>-1?U:Z,bf(u[d?Z:U],b,!d&&c));!d&&c&&ne&&u[Z].componentProviders++}}}function Lc(s,o,u,c){const d=Bu(o);if(d||function(s){return!!s.useClass}(o)){const y=(o.useClass||o).prototype.ngOnDestroy;if(y){const v=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const b=v.indexOf(u);-1===b?v.push(u,[c,y]):v[b+1].push(c,y)}else v.push(u,y)}}}function bf(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Or(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function lS(s,o,u,c){return s0(this.multi,[])}function cS(s,o,u,c){const d=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=ri(u,u[1],this.providerFactory.index,c);g=v.slice(0,y),s0(d,g);for(let b=y;b<v.length;b++)g.push(v[b])}else g=[],s0(d,g);return g}function s0(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function o0(s,o=[]){return u=>{u.providersResolver=(c,d)=>function(s,o,u){const c=xt();if(c.firstCreatePass){const d=Wr(s);i0(u,c.data,c.blueprint,d,!0),i0(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class jb{}const Hb="ngComponent";class Sm{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${j(s)}. Did you add it to @NgModule.entryComponents?`);return o[Hb]=s,o}(o)}}class Yi{}function If(...s){}function ul(s,o){return new Qi(vi(s,o))}Yi.NULL=new Sm;const Nm=function(){return ul(xn(),xe())};let Qi=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Nm,s})();function Mm(s){return s instanceof Qi?s.nativeElement:s}class Fo{}let Ji=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>Gb(),s})();const Gb=function(){const s=xe(),u=mr(xn().index,s);return function(s){return s[11]}(ds(u)?u:s)};let Om=(()=>{class s{}return s.\u0275prov=gn({token:s,providedIn:"root",factory:()=>null}),s})();class Zb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Pm=new Zb("12.2.5");class l0{constructor(){}supports(o){return kh(o)}create(o){return new fS(o)}}const Wb=(s,o)=>o;class fS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Wb}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,g=null;for(;u||c;){const y=!c||u&&u.currentIndex<ja(c,d,g)?u:c,v=ja(y,d,g),b=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(u=u._next,null==y.previousIndex)d++;else{g||(g=[]);const T=v-d,A=b-d;if(T!=A){for(let R=0;R<T;R++){const U=R<g.length?g[R]:g[R]=0,Z=U+R;A<=Z&&Z<T&&(g[R]=U+1)}g[y.previousIndex]=A-T}}v!==b&&o(y,v,b)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!kh(o))throw new Error(`Error trying to diff '${j(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,y,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let v=0;v<this.length;v++)g=o[v],y=this._trackByFn(v,g),null!==u&&Object.is(u.trackById,y)?(c&&(u=this._verifyReinsertion(u,g,y,v)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,y,v),c=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Ma()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,v=>{y=this._trackByFn(d,v),null!==u&&Object.is(u.trackById,y)?(c&&(u=this._verifyReinsertion(u,v,y,d)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,y,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,d)):o=this._addAfter(new pS(u,c),g,d),o}_verifyReinsertion(o,u,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new ll),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ll),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class pS{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class ll{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new zb,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ja(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class d0{constructor(){}supports(o){return o instanceof Map||lr(o)}create(){return new cl}}class cl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||lr(o)))throw new Error(`Error trying to diff '${j(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const g=d._prev,y=d._next;return g&&(g._next=y),y&&(y._prev=g),d._next=null,d._prev=null,d}const c=new Kb(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class Kb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dl(){return new Tf([new l0])}let Tf=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||dl()),deps:[[s,new $s,new bi]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=gn({token:s,providedIn:"root",factory:dl}),s})();function Uc(){return new km([new d0])}let km=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Uc()),deps:[[s,new $s,new bi]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=gn({token:s,providedIn:"root",factory:Uc}),s})();function Fm(s,o,u,c,d=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(wn(g)),Zt(g))for(let v=10;v<g.length;v++){const b=g[v],T=b[1].firstChild;null!==T&&Fm(b[1],b,T,c)}const y=u.type;if(8&y)Fm(s,o,u.child,c);else if(32&y){const v=ph(u,o);let b;for(;b=v();)c.push(b)}else if(16&y){const v=Ot(o,u);if(Array.isArray(v))c.push(...v);else{const b=mh(o[16]);Fm(b[1],b,v,c,!0)}}u=d?u.projectionNext:u.next}return c}class Mn{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Fm(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Zt(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(T_(o,c),ii(u,c))}this._attachedToViewContainer=!1}Fw(this._lView[1],this._lView)}onDestroy(o){iC(this._lView[1],this._lView,null,o)}markForCheck(){z_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){K_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){ia(!0);try{K_(s,o,u)}finally{ia(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,_h(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class Lm extends Mn{constructor(o){super(o),this._view=o}detectChanges(){fC(this._view)}checkNoChanges(){!function(s){ia(!0);try{fC(s)}finally{ia(!1)}}(this._view)}get context(){return null}}const h0=function(s){return function(s,o,u){if(Yo(s)&&!u){const c=mr(s.index,o);return new Mn(c,c)}return 47&s.type?new Mn(o[16],o):null}(xn(),xe(),16==(16&s))};let gS=(()=>{class s{}return s.__NG_ELEMENT_ID__=h0,s})();const Af=[new d0],Xb=new Tf([new l0]),eI=new km(Af),f0=function(){return xf(xn(),xe())};let Sf=(()=>{class s{}return s.__NG_ELEMENT_ID__=f0,s})();const tr=Sf,Ht=class extends tr{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=Ec(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(u)),Dh(u,c,o),new Mn(c)}};function xf(s,o){return 4&s.type?new Ht(o,s,ul(s,o)):null}class In{}class Nf{}const rI=function(){return sI(xn(),xe())};let jm=(()=>{class s{}return s.__NG_ELEMENT_ID__=rI,s})();const mS=jm,Bm=class extends mS{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return ul(this._hostTNode,this._hostLView)}get injector(){return new ca(this._hostTNode,this._hostLView)}get parentInjector(){const o=ua(this._hostTNode,this._hostLView);if(Zp(o)){const u=ms(o,this._hostLView),c=Vs(o);return new ca(u[1].data[c+8],u)}return new ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=iI(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const d=o.createEmbeddedView(u||{});return this.insert(d,c),d}createComponent(o,u,c,d,g){const y=c||this.parentInjector;if(!g&&null==o.ngModule&&y){const b=y.get(In,null);b&&(g=b)}const v=o.create(y,d,void 0,g);return this.insert(v.hostView,u),v}insert(o,u){const c=o._lView,d=c[1];if(Zt(c[3])){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const N=c[3],R=new Bm(N,N[6],N[3]);R.detach(R.indexOf(o))}}const g=this._adjustIndex(u),y=this._lContainer;!function(s,o,u,c){const d=10+c,g=u.length;c>0&&(u[d-1][4]=o),c<g-10?(o[4]=u[d],js(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const y=o[17];null!==y&&u!==y&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(y,o);const v=o[19];null!==v&&v.insertView(s),o[2]|=128}(d,c,y,g);const v=Lu(g,y),b=c[11],T=yh(b,y[7]);return null!==T&&function(s,o,u,c,d,g){c[0]=d,c[6]=o,_h(s,c,u,1,d,g)}(d,y[6],b,c,T,v),o.attachToViewContainerRef(),js(Hm(y),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=iI(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=T_(this._lContainer,u);c&&(ii(Hm(this._lContainer),u),Fw(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=T_(this._lContainer,u);return c&&null!=ii(Hm(this._lContainer),u)?new Mn(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function iI(s){return s[8]}function Hm(s){return s[8]||(s[8]=[])}function sI(s,o){let u;const c=o[s.index];if(Zt(c))u=c;else{let d;if(8&s.type)d=wn(c);else{const g=o[11];d=g.createComment("");const y=vi(s,o);Ln(g,yh(g,y),d,function(s,o){return dn(s)?s.nextSibling(o):o.nextSibling}(g,y),!1)}o[s.index]=u=oA(c,o,d,s),Lg(o,u)}return new Bm(u,s,o)}const ns={};class T0 extends Yi{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=kn(o);return new jf(u,this.ngModule)}}function NI(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const AS=new En("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tw});class jf extends jb{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(Zw).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return NI(this.componentDef.inputs)}get outputs(){return NI(this.componentDef.outputs)}create(o,u,c,d){const g=(d=d||this.ngModule)?function(s,o){return{get:(u,c,d)=>{const g=s.get(u,ns,d);return g!==ns||c===ns?g:o.get(u,c,d)}}}(o,d.injector):o,y=g.get(Fo,Id),v=g.get(Om,null),b=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=c?function(s,o,u){if(dn(s))return s.selectRootElement(o,u===rn.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(b,c,this.componentDef.encapsulation):I_(y.createRenderer(null,this.componentDef),T,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),N=this.componentDef.onPush?576:528,R=function(s,o){return{components:[],scheduler:s||Tw,clean:Dc,playerHandler:o||null,flags:0}}(),U=Ah(0,null,null,1,0,null,null,null,null,null),Z=Ec(null,U,R,N,null,null,y,b,v,g);let de,ne;hu(Z);try{const Pe=function(s,o,u,c,d,g){const y=u[1];u[20]=s;const b=Uu(y,20,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(Ug(b,T,!0),null!==s&&(aa(d,s,T),null!==b.classes&&Eg(d,s,b.classes),null!==b.styles&&mc(d,s,b.styles)));const A=c.createRenderer(s,o),N=Ec(u,bc(o),null,o.onPush?64:16,u[20],b,c,A,g||null,null);return y.firstCreatePass&&(la(ft(b,u),y,o.type),uC(y,b),lC(b,u.length,1)),Lg(u,N),u[20]=N}(A,this.componentDef,Z,y,b);if(A)if(c)aa(b,A,["ng-version",Pm.full]);else{const{attrs:Ee,classes:tt}=function(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++c]):8===d&&u.push(g);else{if(!Is(d))break;d=g}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Ee&&aa(b,A,Ee),tt&&tt.length>0&&Eg(b,A,tt.join(" "))}if(ne=fs(U,20),void 0!==u){const Ee=ne.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const ct=u[tt];Ee.push(null!=ct?Array.from(ct):null)}}de=function(s,o,u,c,d){const g=u[1],y=function(s,o,u){const c=xn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Z_(s,c,o,So(s,o,1,null),u));const d=ri(o,s,c.directiveStart,c);ur(d,o);const g=vi(c,o);return g&&ur(g,o),d}(g,u,o);if(c.components.push(y),s[8]=y,d&&d.forEach(b=>b(y,o)),o.contentQueries){const b=xn();o.contentQueries(1,y,b.directiveStart)}const v=xn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Pi(v.index),Ic(u[1],v,0,v.directiveStart,v.directiveEnd,o),aC(o,y)),y}(Pe,this.componentDef,Z,R,[TA]),Dh(U,Z,null)}finally{Vp()}return new NS(this.componentType,de,ul(ne,Z),Z,ne)}}class NS extends class{}{constructor(o,u,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Lm(d),this.componentType=o}get injector(){return new ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const vl=new Map;class A0 extends In{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new T0(this);const c=Tr(o),d=o[Gn]||null;d&&wm(d),this._bootstrapComponents=Un(c.bootstrap),this._r3Injector=EC(o,u,[{provide:In,useValue:this},{provide:Yi,useValue:this.componentFactoryResolver}],j(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Qt.THROW_IF_NOT_FOUND,c=Ne.Default){return o===Qt||o===In||o===Aa?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class wl extends Nf{constructor(o){super(),this.moduleType=o,null!==Tr(o)&&function(s){const o=new Set;!function u(c){const d=Tr(c,!0),g=d.id;null!==g&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${j(o)} vs ${j(o.name)}`)}(g,vl.get(g),c),vl.set(g,c));const y=Un(d.imports);for(const v of y)o.has(v)||(o.add(v),u(v))}(s)}(o)}create(o){return new A0(this.moduleType,o)}}function qf(s){return o=>{setTimeout(s,void 0,o)}}const Xs=class extends f.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var d,g,y;let v=o,b=u||(()=>null),T=c;if(o&&"object"==typeof o){const N=o;v=null===(d=N.next)||void 0===d?void 0:d.bind(N),b=null===(g=N.error)||void 0===g?void 0:g.bind(N),T=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(b=qf(b),v&&(v=qf(v)),T&&(T=qf(T)));const A=super.subscribe({next:v,error:b,complete:T});return o instanceof H.w&&o.add(A),A}};function k0(){return this._results[Ma()]()}class zn{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ma(),c=zn.prototype;c[u]||(c[u]=k0)}get changes(){return this._changes||(this._changes=new Xs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=ar(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],g=o[c];if(u&&(d=u(d),g=u(g)),g!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class F0{constructor(o){this.queryList=o,this.matches=null}clone(){return new F0(this.queryList)}setDirty(){this.queryList.setDirty()}}class L0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let g=0;g<c;g++){const y=u.getByIndex(g);d.push(this.queries[y.indexInDeclarationView].clone())}return new L0(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==B0(o,u).matches&&this.queries[u].setDirty()}}class UI{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Gf{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,d);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new Gf(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Xm{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Xm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(o,u,jI(u,g)),this.matchTNodeWithReadOption(o,u,ys(u,o,g,!1,!1))}else c===Sf?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ys(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Qi||d===jm||d===Sf&&4&u.type)this.addMatch(u.index,-2);else{const g=ys(u,o,d,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function jI(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function ey(s,o,u,c){return-1===u?function(s,o){return 11&s.type?ul(s,o):4&s.type?xf(s,o):null}(o,s):-2===u?function(s,o,u){return u===Qi?ul(o,s):u===Sf?xf(o,s):u===jm?sI(o,s):void 0}(s,o,c):ri(s,s[1],u,o)}function Wf(s,o,u,c){const d=o[19].queries[c];if(null===d.matches){const g=s.data,y=u.matches,v=[];for(let b=0;b<y.length;b+=2){const T=y[b];v.push(T<0?null:ey(o,g[T],y[b+1],u.metadata.read))}d.matches=v}return d.matches}function zf(s,o,u,c){const d=s.queries.getByIndex(u),g=d.matches;if(null!==g){const y=Wf(s,o,d,u);for(let v=0;v<g.length;v+=2){const b=g[v];if(b>0)c.push(y[v/2]);else{const T=g[v+1],A=o[-b];for(let N=10;N<A.length;N++){const R=A[N];R[17]===R[3]&&zf(R[1],R,T,c)}if(null!==A[9]){const N=A[9];for(let R=0;R<N.length;R++){const U=N[R];zf(U[1],U,T,c)}}}}}return c}function ty(s){const o=xe(),u=xt(),c=kp();Fp(c+1);const d=B0(u,c);if(s.dirty&&Sp(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?zf(u,o,c,[]):Wf(u,o,d,c);s.reset(g,Mm),s.notifyOnChanges()}return!0}return!1}function j0(s,o,u,c){const d=xt();if(d.firstCreatePass){const g=xn();(function(s,o,u){null===s.queries&&(s.queries=new Gf),s.queries.track(new Xm(o,u))})(d,new UI(o,u,c),g.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function(s,o,u){const c=new zn(4==(4&u));iC(s,o,c,c.destroy),null===o[19]&&(o[19]=new L0),o[19].queries.push(new F0(c))}(d,xe(),u)}function BI(){return s=xe(),o=kp(),s[19].queries[o].queryList;var s,o}function B0(s,o){return s.queries.getByIndex(o)}const hy=new En("Application Initializer");let Ga=(()=>{class s{constructor(u){this.appInits=u,this.resolve=If,this.reject=If,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(om(g))u.push(g);else if(am(g)){const y=new Promise((v,b)=>{g.subscribe({complete:v,error:b})});u.push(y)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(fn(hy,8))},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})();const tE=new En("AppId"),nE={provide:tE,useFactory:function(){return`${rE()}${rE()}${rE()}`},deps:[]};function rE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fy=new En("Platform Initializer"),uD=new En("Platform ID"),py=new En("appBootstrapListener");let gy=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})();const sd=new En("LocaleId"),my=new En("DefaultCurrencyCode");class iE{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const sE=function(s){return new wl(s)},sx=sE,oE=function(s){return Promise.resolve(sE(s))},yy=function(s){const o=sE(s),c=Un(Tr(s).declarations).reduce((d,g)=>{const y=kn(g);return y&&d.push(new jf(y)),d},[]);return new iE(o,c)},ox=yy,aE=function(s){return Promise.resolve(yy(s))};let od=(()=>{class s{constructor(){this.compileModuleSync=sx,this.compileModuleAsync=oE,this.compileModuleAndAllComponentsSync=ox,this.compileModuleAndAllComponentsAsync=aE}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})();const uE=(()=>Promise.resolve(0))();function lE(s){"undefined"==typeof Zone?uE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ti{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xs(!1),this.onMicrotaskEmpty=new Xs(!1),this.onStable=new Xs(!1),this.onError=new Xs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=V.requestAnimationFrame,o=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(V,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,fE(s),s.isCheckStableRunning=!0,hE(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),fE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,g,y,v)=>{try{return _y(s),u.invokeTask(d,g,y,v)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),pE(s)}},onInvoke:(u,c,d,g,y,v,b)=>{try{return _y(s),u.invoke(d,g,y,v,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),pE(s)}},onHasTask:(u,c,d,g)=>{u.hasTask(d,g),c===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,fE(s),hE(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,d,g)=>(u.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ti.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ti.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+d,o,dE,If,If);try{return g.runTask(y,u,c)}finally{g.cancelTask(y)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const dE={};function hE(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function fE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function _y(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function pE(s){s._nesting--,hE(s)}class vy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xs,this.onMicrotaskEmpty=new Xs,this.onStable=new Xs,this.onError=new Xs}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}let mD=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ti.assertNotInAngularZone(),lE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(fn(ti))},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})(),yD=(()=>{class s{constructor(){this._applications=new Map,Ey.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Ey.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})();class cx{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function dx(s){Ey=s}let Ey=new cx,wy=!0,gE=!1;function np(){return gE=!0,wy}function mE(){if(gE)throw new Error("Cannot enable prod mode after platform setup.");wy=!1}let Si;const bD=new En("AllowMultipleToken");class fx{constructor(o,u){this.name=o,this.token=u}}function DD(s,o,u=[]){const c=`Platform: ${o}`,d=new En(c);return(g=[])=>{let y=AD();if(!y||y.injector.get(bD,!1))if(s)s(u.concat(g).concat({provide:d,useValue:!0}));else{const v=u.concat(g).concat({provide:d,useValue:!0},{provide:zs,useValue:"platform"});!function(s){if(Si&&!Si.destroyed&&!Si.injector.get(bD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Si=s.get(SD);const o=s.get(fy,null);o&&o.forEach(u=>u())}(Qt.create({providers:v,name:c}))}return function(s){const o=AD();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function AD(){return Si&&!Si.destroyed?Si:null}let SD=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const v=function(s,o){let u;return u="noop"===s?new vy:("zone.js"===s?void 0:s)||new ti({enableLongStackTrace:np(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),b=[{provide:ti,useValue:v}];return v.run(()=>{const T=Qt.create({providers:b,parent:this.injector,name:u.moduleType.name}),A=u.create(T),N=A.injector.get(Vi,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const R=v.onError.subscribe({next:U=>{N.handleError(U)}});A.onDestroy(()=>{rp(this._modules,A),R.unsubscribe()})}),function(s,o,u){try{const c=u();return om(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(N,v,()=>{const R=A.injector.get(Ga);return R.runInitializers(),R.donePromise.then(()=>(wm(A.injector.get(sd,ff)||ff),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const d=Nl({},c);return function(s,o,u){const c=new wl(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(u){const c=u.injector.get(ud);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${j(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(fn(Qt))},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})();function Nl(s,o){return Array.isArray(o)?o.reduce(Nl,s):Object.assign(Object.assign({},s),o)}let ud=(()=>{class s{constructor(u,c,d,g,y){this._zone=u,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new F.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new F.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ti.assertNotInAngularZone(),lE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ti.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ie.T)(v,b.pipe(s=>(0,ge.x)()(function(s,o){return function(c){let d;d="function"==typeof s?s:function(){return s};const g=Object.create(c,ve.N);return g.source=c,g.subjectFactory=d,g}}(K)(s))))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof jb?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const g=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(In),v=d.create(Qt.NULL,[],c||d.selector,g),b=v.location.nativeElement,T=v.injector.get(mD,null),A=T&&v.injector.get(yD);return T&&A&&A.registerApplication(b,T),v.onDestroy(()=>{this.detachView(v.hostView),rp(this.components,v),A&&A.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;rp(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(py,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(fn(ti),fn(Qt),fn(Vi),fn(Yi),fn(Ga))},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})();function rp(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class ND{}class Dn{}const Hr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let eo=(()=>{class s{constructor(u,c){this._compiler=u,this._config=c||Hr}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,d]=u.split("#");return void 0===d&&(d="default"),k(8255)(c).then(g=>g[d]).then(g=>wE(g,c,d)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(u){let[c,d]=u.split("#"),g="NgFactory";return void 0===d&&(d="default",g=""),k(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(y=>y[d+g]).then(y=>wE(y,c,d))}}return s.\u0275fac=function(u){return new(u||s)(fn(od),fn(Dn,8))},s.\u0275prov=gn({token:s,factory:s.\u0275fac}),s})();function wE(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const JN=function(s){return null},UD=DD(null,"core",[{provide:uD,useValue:"unknown"},{provide:SD,deps:[Qt]},{provide:yD,deps:[]},{provide:gy,deps:[]}]),jD=[{provide:ud,useClass:ud,deps:[ti,Qt,Vi,Yi,Ga]},{provide:AS,deps:[ti],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Ga,useClass:Ga,deps:[[new bi,hy]]},{provide:od,useClass:od,deps:[]},nE,{provide:Tf,useFactory:function(){return Xb},deps:[]},{provide:km,useFactory:function(){return eI},deps:[]},{provide:sd,useFactory:function(s){return wm(s=s||"undefined"!=typeof $localize&&$localize.locale||ff),s},deps:[[new Es(sd),new bi,new $s]]},{provide:my,useValue:"USD"}];let bx=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(fn(ud))},s.\u0275mod=Pn({type:s}),s.\u0275inj=Dr({providers:jD}),s})()},8939:(Ye,Te,k)=>{"use strict";k.d(Te,{hO:()=>j,xv:()=>K,Dh:()=>ge,GT:()=>ce,on:()=>L,pX:()=>ve});var f=k(3018),H=k(7841),F=k(9126);Ye=k.hmd(Ye);const ie=["ngOnDestroy"],ve=(z,fe,oe,ae={})=>new Proxy(z,{get:(ke,Ae)=>oe.runOutsideAngular(()=>{var Se;if(z[Ae])return(null===(Se=null==ae?void 0:ae.spy)||void 0===Se?void 0:Se.get)&&ae.spy.get(Ae,z[Ae]),z[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const Ve=fe.toPromise().then(Ge=>{const te=Ge&&Ge[Ae];return"function"==typeof te?te.bind(Ge):te&&te.then?te.then(it=>oe.run(()=>it)):oe.run(()=>te)});return new Proxy(()=>{},{get:(Ge,te)=>Ve[te],apply:(Ge,te,it)=>Ve.then(At=>{var Ct;const ue=At&&At(...it);return(null===(Ct=null==ae?void 0:ae.spy)||void 0===Ct?void 0:Ct.apply)&&ae.spy.apply(Ae,it,ue),ue})})})}),ce=(z,fe)=>{fe.forEach(oe=>{Object.getOwnPropertyNames(oe.prototype||oe).forEach(ae=>{Object.defineProperty(z.prototype,ae,Object.getOwnPropertyDescriptor(oe.prototype||oe,ae))})})};class we{constructor(fe){return fe}}const ge=new f.OlP("angularfire2.app.options"),K=new f.OlP("angularfire2.app.name");function L(z,fe,oe){const ke="object"==typeof oe&&oe||{};ke.name=ke.name||"string"==typeof oe&&oe||"[DEFAULT]";const Se=H.Z.apps.filter(Ve=>Ve&&Ve.name===ke.name)[0]||fe.runOutsideAngular(()=>H.Z.initializeApp(z,ke));try{JSON.stringify(z)!==JSON.stringify(Se.options)&&B("error",`${Se.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new we(Se)}const B=(z,...fe)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[z](...fe)},G={provide:we,useFactory:L,deps:[ge,f.R0b,[new f.FiY,K]]};let j=(()=>{class z{constructor(oe){H.Z.registerVersion("angularfire",F.q4.full,"core"),H.Z.registerVersion("angularfire",F.q4.full,"app-compat"),H.Z.registerVersion("angular",f.q4F.full,oe.toString())}static initializeApp(oe,ae){return{ngModule:z,providers:[{provide:ge,useValue:oe},{provide:K,useValue:ae}]}}}return z.\u0275fac=function(oe){return new(oe||z)(f.LFG(f.Lbi))},z.\u0275mod=f.oAB({type:z}),z.\u0275inj=f.cJS({providers:[G]}),z})()},9126:(Ye,Te,k)=>{"use strict";k.d(Te,{q4:()=>L,iC:()=>ue,HU:()=>Ve,cc:()=>j});var f=k(3018);(0,k(5452).registerVersion)("firebase","9.0.1","app");var ve=k(7771),ce=k(3637),we=k(3342),ge=k(3101),K=k(309);Ye=k.hmd(Ye);const L=new f.GfV("7.0.4"),B=!!Ye.hot,G=(pe,...X)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[pe](...X)};function j(pe,X,Fe,Qe,pt){const[,Xe,gt]=globalThis.\u0275AngularfireInstanceCache.find(an=>an[0]===pe)||[];if(Xe)return function(pe,X){try{return pe.toString()===X.toString()}catch(Fe){return pe===X}}(pt,gt)||(G("error",`${X} was already initialized on the ${Fe} Firebase App with different settings.${B?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:pt,was:gt})),Xe;{const an=Qe();return globalThis.\u0275AngularfireInstanceCache.push([pe,an,pt]),an}}function ke(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ae{constructor(X,Fe=ve.N){this.zone=X,this.delegate=Fe}now(){return this.delegate.now()}schedule(X,Fe,Qe){const pt=this.zone;return this.delegate.schedule(function(gt){pt.runGuarded(()=>{X.apply(this,[gt])})},Fe,Qe)}}class Se{constructor(X){this.zone=X,this.task=null}call(X,Fe){const Qe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ke,{},ke,ke)),Fe.pipe((0,we.b)({next:Qe,complete:Qe,error:Qe})).subscribe(X).add(Qe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class pe{constructor(Fe){this.ngZone=Fe,this.outsideAngular=Fe.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=Fe.run(()=>new Ae(Zone.current,ce.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return pe.\u0275fac=function(Fe){return new(Fe||pe)(f.LFG(f.R0b))},pe.\u0275prov=f.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function Ge(){const pe=globalThis.\u0275AngularFireScheduler;if(!pe)throw new Error("AngularFireModule has not been provided");return pe}function ue(pe){return Ge(),function(pe){return function(Fe){return(Fe=Fe.lift(new Se(pe.ngZone))).pipe((0,ge.R)(pe.outsideAngular),(0,K.QV)(pe.insideAngular))}}(Ge())(pe)}},4486:(Ye,Te,k)=>{"use strict";k.d(Te,{Z:()=>oe});var f=k(4685),H=k(6034),F=k(5452),ie=k(300);class ve{constructor(ke,Ae){this._delegate=ke,this.firebase=Ae,(0,F._addComponent)(ke,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ke,Ae=F._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(ke);return!Ve.isInitialized()&&"EXPLICIT"===(null===(Se=Ve.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Ae})}_removeServiceInstance(ke,Ae=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(Ae)}_addComponent(ke){(0,F._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,F._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function K(){const ae=function(ae){const ke={},Ae={__esModule:!0,initializeApp:function(Ct,ue={}){const ye=F.initializeApp(Ct,ue);if((0,f.r3)(ke,ye.name))return ke[ye.name];const he=new ae(ye,Ae);return ke[ye.name]=he,he},app:Ve,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(Ct){const ue=Ct.name,ye=ue.replace("-compat","");if(F._registerComponent(Ct)&&"PUBLIC"===Ct.type){const he=(me=Ve())=>{if("function"!=typeof me[ye])throw we.create("invalid-app-argument",{appName:ue});return me[ye]()};void 0!==Ct.serviceProps&&(0,f.ZB)(he,Ct.serviceProps),Ae[ye]=he,ae.prototype[ye]=function(...me){return this._getService.bind(this,ue).apply(this,Ct.multipleInstances?me:[])}}return"PUBLIC"===Ct.type?Ae[ye]:null},removeApp:function(Ct){delete ke[Ct]},useAsService:function(Ct,ue){return"serverAuth"===ue?null:ue},modularAPIs:F}};function Ve(Ct){if(!(0,f.r3)(ke,Ct=Ct||F._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Ct});return ke[Ct]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function(){return Object.keys(ke).map(Ct=>ke[Ct])}}),Ve.App=ae,Ae}(ve);return ae.INTERNAL=Object.assign(Object.assign({},ae.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function(Ae){(0,f.ZB)(ae,Ae)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),ae}(),B=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ae=self.firebase.SDK_VERSION;ae&&ae.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fe=L;(0,F.registerVersion)("@firebase/app-compat","0.1.1",undefined);const oe=fe},5452:(Ye,Te,k)=>{"use strict";k.r(Te),k.d(Te,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>zo,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>Tn,_addOrOverwriteComponent:()=>cn,_apps:()=>gt,_clearComponents:()=>$n,_components:()=>an,_getProvider:()=>Kt,_registerComponent:()=>$t,_removeServiceInstance:()=>Rt,deleteApp:()=>ro,getApp:()=>nr,getApps:()=>qr,initializeApp:()=>Dr,onLog:()=>kt,registerVersion:()=>pi,setLogLevel:()=>qn});var f=k(8239),H=k(6034),F=k(300),ie=k(4685);class ve{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(Ft=>{if(function(mt){const Ne=mt.getComponent();return"VERSION"===(null==Ne?void 0:Ne.type)}(Ft)){const tn=Ft.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(Ft=>Ft).join(" ")}}const we="@firebase/app",K=new F.Yd("@firebase/app"),pt="[DEFAULT]",Xe={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gt=new Map,an=new Map;function Tn(mt,Ne){try{mt.container.addComponent(Ne)}catch(Ft){K.debug(`Component ${Ne.name} failed to register with FirebaseApp ${mt.name}`,Ft)}}function cn(mt,Ne){mt.container.addOrOverwriteComponent(Ne)}function $t(mt){const Ne=mt.name;if(an.has(Ne))return K.debug(`There were multiple attempts to register component ${Ne}.`),!1;an.set(Ne,mt);for(const Ft of gt.values())Tn(Ft,mt);return!0}function Kt(mt,Ne){return mt.container.getProvider(Ne)}function Rt(mt,Ne,Ft=pt){Kt(mt,Ne).clearInstance(Ft)}function $n(){an.clear()}const xi=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class gn{constructor(Ne,Ft,tn){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},Ft),this._name=Ft.name,this._automaticDataCollectionEnabled=Ft.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}const zo="9.0.0";function Dr(mt,Ne={}){"object"!=typeof Ne&&(Ne={name:Ne});const Ft=Object.assign({name:pt,automaticDataCollectionEnabled:!1},Ne),tn=Ft.name;if("string"!=typeof tn||!tn)throw xi.create("bad-app-name",{appName:String(tn)});const mn=gt.get(tn);if(mn){if((0,ie.vZ)(mt,mn.options)&&(0,ie.vZ)(Ft,mn.config))return mn;throw xi.create("duplicate-app",{appName:tn})}const bt=new H.H0(tn);for(const Ke of an.values())bt.addComponent(Ke);const $e=new gn(mt,Ft,bt);return gt.set(tn,$e),$e}function nr(mt=pt){const Ne=gt.get(mt);if(!Ne)throw xi.create("no-app",{appName:mt});return Ne}function qr(){return Array.from(gt.values())}function ro(mt){return fi.apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(mt){const Ne=mt.name;gt.has(Ne)&&(gt.delete(Ne),yield Promise.all(mt.container.getProviders().map(Ft=>Ft.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function pi(mt,Ne,Ft){var tn;let mn=null!==(tn=Xe[mt])&&void 0!==tn?tn:mt;Ft&&(mn+=`-${Ft}`);const bt=mn.match(/\s|\//),$e=Ne.match(/\s|\//);if(bt||$e){const Ke=[`Unable to register library "${mn}" with version "${Ne}":`];return bt&&Ke.push(`library name "${mn}" contains illegal characters (whitespace or "/")`),bt&&$e&&Ke.push("and"),$e&&Ke.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void K.warn(Ke.join(" "))}$t(new H.wA(`${mn}-version`,()=>({library:mn,version:Ne}),"VERSION"))}function kt(mt,Ne){if(null!==mt&&"function"!=typeof mt)throw xi.create("invalid-log-argument");(0,F.Am)(mt,Ne)}function qn(mt){(0,F.Ub)(mt)}$t(new H.wA("platform-logger",Ne=>new ve(Ne),"PRIVATE")),pi(we,"0.7.0",undefined),pi("fire-js","")},5676:(Ye,Te,k)=>{"use strict";k.d(Te,{$:()=>Sp,A:()=>B,E:()=>Uy,G:()=>Kn,I:()=>Zt,K:()=>It,L:()=>Ep,M:()=>tw,N:()=>nw,P:()=>e_,Q:()=>wp,R:()=>Us,T:()=>ql,V:()=>$y,W:()=>Ed,X:()=>dn,Y:()=>Id,Z:()=>wn,_:()=>vi,a:()=>Hp,a0:()=>xp,a1:()=>Np,a2:()=>dt,a3:()=>au,a4:()=>Ad,a5:()=>lu,a6:()=>Rp,a7:()=>xt,a8:()=>Sd,a9:()=>Ri,aA:()=>Hs,aB:()=>si,aC:()=>An,aG:()=>oa,aJ:()=>ao,aa:()=>ra,ab:()=>iw,ae:()=>Oi,af:()=>sa,ag:()=>ps,aj:()=>Gy,ak:()=>Wy,am:()=>Nn,an:()=>Qy,ao:()=>Pn,ap:()=>At,aq:()=>St,ar:()=>je,as:()=>Se,at:()=>th,au:()=>Su,av:()=>Ve,aw:()=>te,ax:()=>ue,ay:()=>Dt,az:()=>sg,b:()=>gs,c:()=>wu,d:()=>ki,e:()=>uw,f:()=>Kd,g:()=>ic,h:()=>rc,i:()=>la,j:()=>Du,k:()=>nh,l:()=>tg,m:()=>lg,n:()=>dg,o:()=>ge,p:()=>hu,r:()=>ng,s:()=>eg,u:()=>rg,z:()=>z});var f=k(8239),H=k(4685),F=k(5452),ie=k(4762),ve=k(300),ce=k(6034);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},z=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},oe=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new ve.Yd("@firebase/auth");function Ae(C,..._){ke.logLevel<=ve.in.ERROR&&ke.error(`Auth (${F.SDK_VERSION}): ${C}`,..._)}function Se(C,..._){throw Ge(C,..._)}function Ve(C,..._){return Ge(C,..._)}function Ge(C,..._){if("string"!=typeof C){const E=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(E,...I)}return oe.create(C,..._)}function te(C,_,...E){if(!C)throw Ge(_,...E)}function it(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Ae(_),new Error(_)}function At(C,_){C||it(_)}const Ct=new Map;function ue(C){At(C instanceof Function,"Expected a class definition");let _=Ct.get(C);return _?(At(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Ct.set(C,_),_)}function me(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function pe(){return"http:"===X()||"https:"===X()}function X(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class pt{constructor(_,E){this.shortDelay=_,this.longDelay=E,At(E>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pe()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Xe(C,_){At(C.emulator,"Emulator should always be set here");const{url:E}=C.emulator;return _?`${E}${_.startsWith("/")?_.slice(1):_}`:E}class gt{static initialize(_,E,I){this.fetchImpl=_,E&&(this.headersImpl=E),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void it("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void it("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void it("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Tn=new pt(3e4,6e4);function cn(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function $t(C,_,E,I){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(C,_,E,I,x={}){return Rt(C,x,()=>{let O={},re={};I&&("GET"===_?re=I:O={body:JSON.stringify(I)});const Me=(0,H.xO)(Object.assign({key:C.config.apiKey},re)).slice(1),ze=new(gt.headers());return ze.set("Content-Type","application/json"),ze.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&ze.set("X-Firebase-Locale",C.languageCode),gt.fetch()(gn(C,C.config.apiHost,E,Me),Object.assign({method:_,headers:ze,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function Rt(C,_,E){return $n.apply(this,arguments)}function $n(){return($n=(0,f.Z)(function*(C,_,E){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},an),_);try{const x=new zo(C),O=yield Promise.race([E(),x.promise]);x.clearNetworkTimeout();const re=yield O.json();if("needConfirmation"in re)throw Dr(C,"account-exists-with-different-credential",re);if(O.ok&&!("errorMessage"in re))return re;{const ze=(O.ok?re.errorMessage:re.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw Dr(C,"credential-already-in-use",re);if("EMAIL_EXISTS"===ze)throw Dr(C,"email-already-in-use",re);Se(C,I[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(x){if(x instanceof H.ZR)throw x;Se(C,"network-request-failed")}})).apply(this,arguments)}function fr(C,_,E,I){return xi.apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(C,_,E,I,x={}){const O=yield $t(C,_,E,I,x);return"mfaPendingCredential"in O&&Se(C,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function gn(C,_,E,I){const x=`${_}${E}?${I}`;return C.config.emulator?Xe(C.config,x):`${C.config.apiScheme}://${x}`}class zo{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((E,I)=>{this.timer=setTimeout(()=>I(Ve(this.auth,"timeout")),Tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dr(C,_,E){const I={appName:C.name};E.email&&(I.email=E.email),E.phoneNumber&&(I.phoneNumber=E.phoneNumber);const x=Ve(C,_,I);return x.customData._tokenResponse=E,x}function qr(){return(qr=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function ro(C,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function pi(C,_){return kt.apply(this,arguments)}function kt(){return(kt=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function qn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Ne(){return(Ne=(0,f.Z)(function*(C,_=!1){const E=(0,H.m9)(C),I=yield E.getIdToken(_),x=tn(I);te(x&&x.exp&&x.auth_time&&x.iat,E.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,re=null==O?void 0:O.sign_in_provider;return{claims:x,token:I,authTime:qn(Ft(x.auth_time)),issuedAtTime:qn(Ft(x.iat)),expirationTime:qn(Ft(x.exp)),signInProvider:re||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ft(C){return 1e3*Number(C)}function tn(C){const[_,E,I]=C.split(".");if(void 0===_||void 0===E||void 0===I)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,H.tV)(E);return x?JSON.parse(x):(Ae("Failed to decode base64 JWT payload"),null)}catch(x){return Ae("Caught error parsing JWT payload as JSON",x),null}}function bt(C,_){return $e.apply(this,arguments)}function $e(){return($e=(0,f.Z)(function*(C,_,E=!1){if(E)return _;try{return yield _}catch(I){throw I instanceof H.ZR&&Ke(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function Ke({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class pr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var E;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(_=!1){var E=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,f.Z)(function*(){yield E.iteration()}),I)}iteration(){var _=this;return(0,f.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&_.schedule(!0))}_.schedule()})()}}class Ps{constructor(_,E){this.createdAt=_,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gr(C){return rn.apply(this,arguments)}function rn(){return(rn=(0,f.Z)(function*(C){var _;const E=C.auth,I=yield C.getIdToken(),x=yield bt(C,pi(E,{idToken:I}));te(null==x?void 0:x.users.length,E,"internal-error");const O=x.users[0];C._notifyReloadListener(O);const re=(null===(_=O.providerUserInfo)||void 0===_?void 0:_.length)?q(O.providerUserInfo):[],Me=un(C.providerData,re),Ut=!!C.isAnonymous&&!(C.email&&O.passwordHash||(null==Me?void 0:Me.length)),Cn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Me,metadata:new Ps(O.createdAt,O.lastLoginAt),isAnonymous:Ut};Object.assign(C,Cn)})).apply(this,arguments)}function us(){return(us=(0,f.Z)(function*(C){const _=(0,H.m9)(C);yield gr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function un(C,_){return[...C.filter(I=>!_.some(x=>x.providerId===I.providerId)),..._]}function q(C){return C.map(_=>{var{providerId:E}=_,I=(0,ie._T)(_,["providerId"]);return{providerId:E,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function J(){return(J=(0,f.Z)(function*(C,_){const E=yield Rt(C,{},()=>{const I=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:x,apiKey:O}=C.config,re=gn(C,x,"/v1/token",`key=${O}`);return gt.fetch()(re,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){te(_.idToken,"internal-error"),te(void 0!==_.idToken,"internal-error"),te(void 0!==_.refreshToken,"internal-error");const E="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(C){const _=tn(C);return te(_,"internal-error"),te(void 0!==_.exp,"internal-error"),te(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,E)}getToken(_,E=!1){var I=this;return(0,f.Z)(function*(){return te(!I.accessToken||I.refreshToken,_,"user-token-expired"),E||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,E){var I=this;return(0,f.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:re}=yield function(C,_){return J.apply(this,arguments)}(_,E);I.updateTokensAndExpiration(x,O,Number(re))})()}updateTokensAndExpiration(_,E,I){this.refreshToken=E||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,E){const{refreshToken:I,accessToken:x,expirationTime:O}=E,re=new le;return I&&(te("string"==typeof I,"internal-error",{appName:_}),re.refreshToken=I),x&&(te("string"==typeof x,"internal-error",{appName:_}),re.accessToken=x),O&&(te("number"==typeof O,"internal-error",{appName:_}),re.expirationTime=O),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return it("not implemented")}}function Q(C,_){te("string"==typeof C||void 0===C,"internal-error",{appName:_})}class be{constructor(_){var{uid:E,auth:I,stsTokenManager:x}=_,O=(0,ie._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new Ps(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(_){var E=this;return(0,f.Z)(function*(){const I=yield bt(E,E.stsTokenManager.getToken(E.auth,_));return te(I,E.auth,"internal-error"),E.accessToken!==I&&(E.accessToken=I,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),I})()}getIdTokenResult(_){return function(C){return Ne.apply(this,arguments)}(this,_)}reload(){return function(C){return us.apply(this,arguments)}(this)}_assign(_){this!==_&&(te(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(E=>Object.assign({},E)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new be(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,E=!1){var I=this;return(0,f.Z)(function*(){let x=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),x=!0),E&&(yield gr(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,f.Z)(function*(){const E=yield _.getIdToken();return yield bt(_,function(C,_){return qr.apply(this,arguments)}(_.auth,{idToken:E})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,E){var I,x,O,re,Me,ze,ut,Ut;const Cn=null!==(I=E.displayName)&&void 0!==I?I:void 0,Fi=null!==(x=E.email)&&void 0!==x?x:void 0,qs=null!==(O=E.phoneNumber)&&void 0!==O?O:void 0,Ea=null!==(re=E.photoURL)&&void 0!==re?re:void 0,hg=null!==(Me=E.tenantId)&&void 0!==Me?Me:void 0,fg=null!==(ze=E._redirectEventId)&&void 0!==ze?ze:void 0,dc=null!==(ut=E.createdAt)&&void 0!==ut?ut:void 0,pg=null!==(Ut=E.lastLoginAt)&&void 0!==Ut?Ut:void 0,{uid:sh,emailVerified:oh,isAnonymous:wa,providerData:Pu,stsTokenManager:Ii}=E;te(sh&&Ii,_,"internal-error");const Ca=le.fromJSON(this.name,Ii);te("string"==typeof sh,_,"internal-error"),Q(Cn,_.name),Q(Fi,_.name),te("boolean"==typeof oh,_,"internal-error"),te("boolean"==typeof wa,_,"internal-error"),Q(qs,_.name),Q(Ea,_.name),Q(hg,_.name),Q(fg,_.name),Q(dc,_.name),Q(pg,_.name);const hc=new be({uid:sh,auth:_,email:Fi,emailVerified:oh,displayName:Cn,isAnonymous:wa,photoURL:Ea,phoneNumber:qs,tenantId:hg,stsTokenManager:Ca,createdAt:dc,lastLoginAt:pg});return Pu&&Array.isArray(Pu)&&(hc.providerData=Pu.map(gg=>Object.assign({},gg))),fg&&(hc._redirectEventId=fg),hc}static _fromIdTokenResponse(_,E,I=!1){return(0,f.Z)(function*(){const x=new le;x.updateFromServerResponse(E);const O=new be({uid:E.localId,auth:_,stsTokenManager:x,isAnonymous:I});return yield gr(O),O})()}}const It=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(E,I){var x=this;return(0,f.Z)(function*(){x.storage[E]=I})()}_get(E){var I=this;return(0,f.Z)(function*(){const x=I.storage[E];return void 0===x?null:x})()}_remove(E){var I=this;return(0,f.Z)(function*(){delete I.storage[E]})()}_addListener(E,I){}_removeListener(E,I){}}return C.type="NONE",C})();function Dt(C,_,E){return`firebase:${C}:${_}:${E}`}class wt{constructor(_,E,I){this.persistence=_,this.auth=E,this.userKey=I;const{config:x,name:O}=this.auth;this.fullUserKey=Dt(this.userKey,x.apiKey,O),this.fullPersistenceKey=Dt("persistence",x.apiKey,O),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,f.Z)(function*(){const E=yield _.persistence._get(_.fullUserKey);return E?be._fromJSON(_.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var E=this;return(0,f.Z)(function*(){if(E.persistence===_)return;const I=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=_,I?E.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,E,I="authUser"){return(0,f.Z)(function*(){if(!E.length)return new wt(ue(It),_,I);const x=(yield Promise.all(E.map(function(){var ut=(0,f.Z)(function*(Ut){if(yield Ut._isAvailable())return Ut});return function(Ut){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let O=x[0]||ue(It);const re=Dt(I,_.config.apiKey,_.name);let Me=null;for(const ut of E)try{const Ut=yield ut._get(re);if(Ut){const Cn=be._fromJSON(_,Ut);ut!==O&&(Me=Cn),O=ut;break}}catch(Ut){}const ze=x.filter(ut=>ut._shouldAllowMigration);return O._shouldAllowMigration&&ze.length?(O=ze[0],Me&&(yield O._set(re,Me.toJSON())),yield Promise.all(E.map(function(){var ut=(0,f.Z)(function*(Ut){if(Ut!==O)try{yield Ut._remove(re)}catch(Cn){}});return function(Ut){return ut.apply(this,arguments)}}())),new wt(O,_,I)):new wt(O,_,I)})()}}function Gn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Ie(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(se(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(at(_))return"Blackberry";if(Tt(_))return"Webos";if($(_))return"Safari";if((_.includes("chrome/")||W(_))&&!_.includes("edge/"))return"Chrome";if(je(_))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function se(C=(0,H.z$)()){return/firefox\//i.test(C)}function $(C=(0,H.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function W(C=(0,H.z$)()){return/crios\//i.test(C)}function Ie(C=(0,H.z$)()){return/iemobile/i.test(C)}function je(C=(0,H.z$)()){return/android/i.test(C)}function at(C=(0,H.z$)()){return/blackberry/i.test(C)}function Tt(C=(0,H.z$)()){return/webos/i.test(C)}function St(C=(0,H.z$)()){return/iphone|ipad|ipod/i.test(C)}function Pn(C=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Lt(C=(0,H.z$)()){return St(C)||je(C)||Tt(C)||at(C)||/windows phone/i.test(C)||Ie(C)}function kn(C,_=[]){let E;switch(C){case"Browser":E=Gn((0,H.z$)());break;case"Worker":E=`${Gn((0,H.z$)())}-${C}`;break;default:E=C}const I=_.length?_.join(","):"FirebaseCore-web";return`${E}/JsCore/${F.SDK_VERSION}/${I}`}class ls{constructor(_,E){this.app=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tr(this),this.idTokenSubscription=new Tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(_,E){var I=this;return E&&(this._popupRedirectResolver=ue(E)),this._initializationPromise=this.queue((0,f.Z)(function*(){var x;I._deleted||(I.persistenceManager=yield wt.create(I,_),!I._deleted&&((null===(x=I._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(E),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,f.Z)(function*(){if(_._deleted)return;const E=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||E){if(_.currentUser&&E&&_.currentUser.uid===E.uid)return _._currentUser._assign(E),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(E)}})()}initializeCurrentUser(_){var E=this;return(0,f.Z)(function*(){var I;let x=yield E.assertedPersistence.getCurrentUser();if(_&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const O=null===(I=E.redirectUser)||void 0===I?void 0:I._redirectEventId,re=null==x?void 0:x._redirectEventId,Me=yield E.tryRedirectSignIn(_);(!O||O===re)&&(null==Me?void 0:Me.user)&&(x=Me.user)}return x?x._redirectEventId?(te(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===x._redirectEventId?E.directlySetCurrentUser(x):E.reloadAndSetCurrentUserOrClear(x)):E.reloadAndSetCurrentUserOrClear(x):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var E=this;return(0,f.Z)(function*(){let I=null;try{I=yield E._popupRedirectResolver._completeRedirectFn(E,_,!0)}catch(x){yield E._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var E=this;return(0,f.Z)(function*(){try{yield gr(_)}catch(I){if("auth/network-request-failed"!==I.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,f.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var E=this;return(0,f.Z)(function*(){const I=_?(0,H.m9)(_):null;return I&&te(I.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(I&&I._clone(E))})()}_updateCurrentUser(_){var E=this;return(0,f.Z)(function*(){if(!E._deleted)return _&&te(E.tenantId===_.tenantId,E,"tenant-id-mismatch"),E.queue((0,f.Z)(function*(){yield E.directlySetCurrentUser(_),E.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,f.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var E=this;return this.queue((0,f.Z)(function*(){yield E.assertedPersistence.setPersistence(ue(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,E,I){return this.registerStateListener(this.authStateSubscription,_,E,I)}onIdTokenChanged(_,E,I){return this.registerStateListener(this.idTokenSubscription,_,E,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,E){var I=this;return(0,f.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(E);return null===_?x.removeCurrentUser():x.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var E=this;return(0,f.Z)(function*(){if(!E.redirectPersistenceManager){const I=_&&ue(_)||E._popupRedirectResolver;te(I,E,"argument-error"),E.redirectPersistenceManager=yield wt.create(E,[ue(I._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(_){var E=this;return(0,f.Z)(function*(){var I,x;return E._isInitialized&&(yield E.queue((0,f.Z)(function*(){}))),(null===(I=E._currentUser)||void 0===I?void 0:I._redirectEventId)===_?E._currentUser:(null===(x=E.redirectUser)||void 0===x?void 0:x._redirectEventId)===_?E.redirectUser:null})()}_persistUserIfCurrent(_){var E=this;return(0,f.Z)(function*(){if(_===E.currentUser)return E.queue((0,f.Z)(function*(){return E.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(E=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,E,I,x){if(this._deleted)return()=>{};const O="function"==typeof E?E:E.next.bind(E),re=this._isInitialized?Promise.resolve():this._initializationPromise;return te(re,this,"internal-error"),re.then(()=>O(this.currentUser)),"function"==typeof E?_.addObserver(E,I,x):_.addObserver(E)}directlySetCurrentUser(_){var E=this;return(0,f.Z)(function*(){E.currentUser&&E.currentUser!==_&&(E._currentUser._stopProactiveRefresh(),_&&E.isProactiveRefreshEnabled&&_._startProactiveRefresh()),E.currentUser=_,_?yield E.assertedPersistence.setCurrentUser(_):yield E.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function An(C){return(0,H.m9)(C)}class Tr{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(E=>this.observer=E)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Uy(C,_,E){const I=An(C);te(I._canInitEmulator,I,"emulator-config-failed"),te(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const x=!!(null==E?void 0:E.disableWarnings),O=Gr(_),{host:re,port:Me}=function(C){const _=Gr(C),E=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!E)return{host:"",port:null};const I=E[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const O=x[1];return{host:O,port:_t(I.substr(O.length+1))}}{const[O,re]=I.split(":");return{host:O,port:_t(re)}}}(_);I.config.emulator={url:`${O}//${re}${null===Me?"":`:${Me}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:re,port:Me,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(C){function _(){const E=document.createElement("p"),I=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(x)}function Gr(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function _t(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Kn{constructor(_,E){this.providerId=_,this.signInMethod=E}toJSON(){return it("not implemented")}_getIdTokenResponse(_){return it("not implemented")}_linkToIdToken(_,E){return it("not implemented")}_getReauthenticationResolver(_){return it("not implemented")}}function ks(C,_){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:resetPassword",cn(C,_))})).apply(this,arguments)}function mi(C,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ja(C,_){return io.apply(this,arguments)}function io(){return(io=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:update",cn(C,_))})).apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(C,_){return fr(C,"POST","/v1/accounts:signInWithPassword",cn(C,_))})).apply(this,arguments)}function cs(C,_){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:sendOobCode",cn(C,_))})).apply(this,arguments)}function Fs(C,_){return sr.apply(this,arguments)}function sr(){return(sr=(0,f.Z)(function*(C,_){return cs(C,_)})).apply(this,arguments)}function eu(C,_){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(C,_){return cs(C,_)})).apply(this,arguments)}function yi(C,_){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(C,_){return cs(C,_)})).apply(this,arguments)}function md(C,_){return tu.apply(this,arguments)}function tu(){return(tu=(0,f.Z)(function*(C,_){return cs(C,_)})).apply(this,arguments)}function nu(){return(nu=(0,f.Z)(function*(C,_){return fr(C,"POST","/v1/accounts:signInWithEmailLink",cn(C,_))})).apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(C,_){return fr(C,"POST","/v1/accounts:signInWithEmailLink",cn(C,_))})).apply(this,arguments)}class _i extends Kn{constructor(_,E,I,x=null){super("password",I),this._email=_,this._password=E,this._tenantId=x}static _fromEmailAndPassword(_,E){return new _i(_,E,"password")}static _fromEmailAndCode(_,E,I=null){return new _i(_,E,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(_){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return function(C,_){return Ko.apply(this,arguments)}(_,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(C,_){return nu.apply(this,arguments)}(_,{email:E._email,oobCode:E._password});default:Se(_,"internal-error")}})()}_linkToIdToken(_,E){var I=this;return(0,f.Z)(function*(){switch(I.signInMethod){case"password":return mi(_,{idToken:E,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,_){return so.apply(this,arguments)}(_,{idToken:E,email:I._email,oobCode:I._password});default:Se(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function vn(C,_){return yd.apply(this,arguments)}function yd(){return(yd=(0,f.Z)(function*(C,_){return fr(C,"POST","/v1/accounts:signInWithIdp",cn(C,_))})).apply(this,arguments)}class Zt extends Kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const E=new Zt(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(E.idToken=_.idToken),_.accessToken&&(E.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(E.nonce=_.nonce),_.pendingToken&&(E.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(E.accessToken=_.oauthToken,E.secret=_.oauthTokenSecret):Se("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:x}=E,O=(0,ie._T)(E,["providerId","signInMethod"]);if(!I||!x)return null;const re=new Zt(I,x);return Object.assign(re,O),re}_getIdTokenResponse(_){return vn(_,this.buildRequest())}_linkToIdToken(_,E){const I=this.buildRequest();return I.idToken=E,vn(_,I)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,vn(_,E)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),_.postBody=(0,H.xO)(E)}return _}}function _d(C,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:sendVerificationCode",cn(C,_))})).apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(C,_){return fr(C,"POST","/v1/accounts:signInWithPhoneNumber",cn(C,_))})).apply(this,arguments)}function _p(){return(_p=(0,f.Z)(function*(C,_){const E=yield fr(C,"POST","/v1/accounts:signInWithPhoneNumber",cn(C,_));if(E.temporaryProof)throw Dr(C,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const By={USER_NOT_FOUND:"user-not-found"};function vp(){return(vp=(0,f.Z)(function*(C,_){return fr(C,"POST","/v1/accounts:signInWithPhoneNumber",cn(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),By)})).apply(this,arguments)}class Qo extends Kn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,E){return new Qo({verificationId:_,verificationCode:E})}static _fromTokenResponse(_,E){return new Qo({phoneNumber:_,temporaryProof:E})}_getIdTokenResponse(_){return function(C,_){return Wr.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,E){return function(C,_){return _p.apply(this,arguments)}(_,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(C,_){return vp.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:E,verificationId:I,verificationCode:x}=this.params;return _&&E?{temporaryProof:_,phoneNumber:E}:{sessionInfo:I,code:x}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:E,verificationCode:I,phoneNumber:x,temporaryProof:O}=_;return I||E||x||O?new Qo({verificationId:E,verificationCode:I,phoneNumber:x,temporaryProof:O}):null}}class $l{constructor(_){var E,I,x,O,re,Me;const ze=(0,H.zd)((0,H.pd)(_)),ut=null!==(E=ze.apiKey)&&void 0!==E?E:null,Ut=null!==(I=ze.oobCode)&&void 0!==I?I:null,Cn=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=ze.mode)&&void 0!==x?x:null);te(ut&&Ut&&Cn,"argument-error"),this.apiKey=ut,this.operation=Cn,this.code=Ut,this.continueUrl=null!==(O=ze.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(re=ze.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Me=ze.tenantId)&&void 0!==Me?Me:null}static parseLink(_){const E=function(C){const _=(0,H.zd)((0,H.pd)(C)).link,E=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,I=(0,H.zd)((0,H.pd)(C)).deep_link_id;return(I?(0,H.zd)((0,H.pd)(I)).link:null)||I||E||_||C}(_);try{return new $l(E)}catch(I){return null}}}let Ep=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(E,I){return _i._fromEmailAndPassword(E,I)}static credentialWithLink(E,I){const x=$l.parseLink(I);return te(x,"argument-error"),_i._fromEmailAndCode(E,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class oo{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Jo extends oo{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ql extends Jo{static credentialFromJSON(_){const E="string"==typeof _?JSON.parse(_):_;return te("providerId"in E&&"signInMethod"in E,"argument-error"),Zt._fromParams(E)}credential(_){return this._credential(_)}_credential(_){return te(_.idToken||_.accessToken,"argument-error"),Zt._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ql.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ql.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:O,nonce:re,providerId:Me}=_;if(!I&&!x&&!E&&!O||!Me)return null;try{return new ql(Me)._credential({idToken:E,accessToken:I,rawNonce:re,pendingToken:O})}catch(ze){return null}}}let tw=(()=>{class C extends Jo{constructor(){super("facebook.com")}static credential(E){return Zt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),nw=(()=>{class C extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(E,I){return Zt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:I,oauthAccessToken:x}=E;if(!I&&!x)return null;try{return C.credential(I,x)}catch(O){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),wp=(()=>{class C extends Jo{constructor(){super("github.com")}static credential(E){return Zt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class ao extends Kn{constructor(_,E){super(_,_),this.pendingToken=E}_getIdTokenResponse(_){return vn(_,this.buildRequest())}_linkToIdToken(_,E){const I=this.buildRequest();return I.idToken=E,vn(_,I)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,vn(_,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:x,pendingToken:O}=E;return I&&x&&O&&I===x?new ao(I,O):null}static _create(_,E){return new ao(_,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let $y=(()=>{class C extends Jo{constructor(){super("twitter.com")}static credential(E,I){return Zt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=E;if(!I||!x)return null;try{return C.credential(I,x)}catch(O){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function qy(C,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(C,_){return fr(C,"POST","/v1/accounts:signUp",cn(C,_))})).apply(this,arguments)}class zr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,E,I,x=!1){return(0,f.Z)(function*(){const O=yield be._fromIdTokenResponse(_,I,x),re=vd(I);return new zr({user:O,providerId:re,_tokenResponse:I,operationType:E})})()}static _forOperation(_,E,I){return(0,f.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const x=vd(I);return new zr({user:_,providerId:x,_tokenResponse:I,operationType:E})})()}}function vd(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ed(C){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,f.Z)(function*(C){var _;const E=An(C);if(yield E._initializationPromise,null===(_=E.currentUser)||void 0===_?void 0:_.isAnonymous)return new zr({user:E.currentUser,providerId:null,operationType:"signIn"});const I=yield qy(E,{returnSecureToken:!0}),x=yield zr._fromIdTokenResponse(E,"signIn",I,!0);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}class wd extends H.ZR{constructor(_,E,I,x){var O;super(E.code,E.message),this.operationType=I,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,wd.prototype),this.appName=_.name,this.code=E.code,this.tenantId=null!==(O=_.tenantId)&&void 0!==O?O:void 0,this.serverResponse=E.customData.serverResponse}static _fromErrorAndOperation(_,E,I,x){return new wd(_,E,I,x)}}function Tp(C,_,E,I){return("reauthenticate"===_?E._getReauthenticationResolver(C):E._getIdTokenResponse(C)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?wd._fromErrorAndOperation(C,O,_,I):O})}function Gl(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function Gy(C,_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,f.Z)(function*(C,_){const E=(0,H.m9)(C);yield ru(!0,E,_);const{providerUserInfo:I}=yield ro(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[_]}),x=Gl(I||[]);return E.providerData=E.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Cd(C,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(C,_,E=!1){const I=yield bt(C,_._linkToIdToken(C.auth,yield C.getIdToken()),E);return zr._forOperation(C,"link",I)})).apply(this,arguments)}function ru(C,_,E){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,f.Z)(function*(C,_,E){yield gr(_);const x=!1===C?"provider-already-linked":"no-such-provider";te(Gl(_.providerData).has(E)===C,_.auth,x)})).apply(this,arguments)}function ea(C,_){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(C,_,E=!1){const{auth:I}=C,x="reauthenticate";try{const O=yield bt(C,Tp(I,x,_,C),E);te(O.idToken,I,"internal-error");const re=tn(O.idToken);te(re,I,"internal-error");const{sub:Me}=re;return te(C.uid===Me,I,"user-mismatch"),zr._forOperation(C,x,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Se(I,"user-mismatch"),O}})).apply(this,arguments)}function Wl(C,_){return iu.apply(this,arguments)}function iu(){return(iu=(0,f.Z)(function*(C,_,E=!1){const I="signIn",x=yield Tp(C,I,_),O=yield zr._fromIdTokenResponse(C,I,x);return E||(yield C._updateCurrentUser(O.user)),O})).apply(this,arguments)}function dn(C,_){return bd.apply(this,arguments)}function bd(){return(bd=(0,f.Z)(function*(C,_){return Wl(An(C),_)})).apply(this,arguments)}function Id(C,_){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,f.Z)(function*(C,_){const E=(0,H.m9)(C);return yield ru(!1,E,_.providerId),Cd(E,_)})).apply(this,arguments)}function wn(C,_){return Td.apply(this,arguments)}function Td(){return(Td=(0,f.Z)(function*(C,_){return ea((0,H.m9)(C),_)})).apply(this,arguments)}function rw(C,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,f.Z)(function*(C,_){return fr(C,"POST","/v1/accounts:signInWithCustomToken",cn(C,_))})).apply(this,arguments)}function vi(C,_){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,f.Z)(function*(C,_){const E=An(C),I=yield rw(E,{token:_,returnSecureToken:!0}),x=yield zr._fromIdTokenResponse(E,"signIn",I);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}class fs{constructor(_,E){this.factorId=_,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(_,E){return"phoneInfo"in E?lo._fromServerResponse(_,E):Se(_,"internal-error")}}class lo extends fs{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,E){return new lo(E)}}function mr(C,_,E){var I;te((null===(I=E.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),te(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=E.url,_.dynamicLinkDomain=E.dynamicLinkDomain,_.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(te(E.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iosBundleId=E.iOS.bundleId),E.android&&(te(E.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=E.android.installApp,_.androidMinimumVersionCode=E.android.minimumVersion,_.androidPackageName=E.android.packageName)}function Sp(C,_,E){return su.apply(this,arguments)}function su(){return(su=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C),x={requestType:"PASSWORD_RESET",email:_};E&&mr(I,x,E),yield eu(I,x)})).apply(this,arguments)}function xp(C,_,E){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,f.Z)(function*(C,_,E){yield ks((0,H.m9)(C),{oobCode:_,newPassword:E})})).apply(this,arguments)}function Np(C,_){return ou.apply(this,arguments)}function ou(){return(ou=(0,f.Z)(function*(C,_){yield Ja((0,H.m9)(C),{oobCode:_})})).apply(this,arguments)}function dt(C,_){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,f.Z)(function*(C,_){const E=(0,H.m9)(C),I=yield ks(E,{oobCode:_}),x=I.requestType;switch(te(x,E,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(I.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(I.mfaInfo,E,"internal-error");default:te(I.email,E,"internal-error")}let O=null;return I.mfaInfo&&(O=fs._fromServerResponse(An(E),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function au(C,_){return na.apply(this,arguments)}function na(){return(na=(0,f.Z)(function*(C,_){const{data:E}=yield dt((0,H.m9)(C),_);return E.email})).apply(this,arguments)}function Ad(C,_,E){return uu.apply(this,arguments)}function uu(){return(uu=(0,f.Z)(function*(C,_,E){const I=An(C),x=yield qy(I,{returnSecureToken:!0,email:_,password:E}),O=yield zr._fromIdTokenResponse(I,"signIn",x);return yield I._updateCurrentUser(O.user),O})).apply(this,arguments)}function lu(C,_,E){return dn((0,H.m9)(C),Ep.credential(_,E))}function Rp(C,_,E){return xe.apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C),x={requestType:"EMAIL_SIGNIN",email:_};te(E.handleCodeInApp,I,"argument-error"),E&&mr(I,x,E),yield yi(I,x)})).apply(this,arguments)}function xt(C,_){const E=$l.parseLink(_);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}function Sd(C,_,E){return xn.apply(this,arguments)}function xn(){return(xn=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C),x=Ep.credentialWithLink(_,E||me());return te(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),dn(I,x)})).apply(this,arguments)}function Op(C,_){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:createAuthUri",cn(C,_))})).apply(this,arguments)}function Ri(C,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,f.Z)(function*(C,_){const I={identifier:_,continueUri:pe()?me():"http://localhost"},{signinMethods:x}=yield Op((0,H.m9)(C),I);return x||[]})).apply(this,arguments)}function ra(C,_){return xd.apply(this,arguments)}function xd(){return(xd=(0,f.Z)(function*(C,_){const E=(0,H.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&mr(E.auth,x,_);const{email:O}=yield Fs(E.auth,x);O!==C.email&&(yield C.reload())})).apply(this,arguments)}function iw(C,_,E){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};E&&mr(I.auth,O,E);const{email:re}=yield md(I.auth,O);re!==C.email&&(yield C.reload())})).apply(this,arguments)}function ia(C,_){return yr.apply(this,arguments)}function yr(){return(yr=(0,f.Z)(function*(C,_){return $t(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Oi(C,_){return du.apply(this,arguments)}function du(){return(du=(0,f.Z)(function*(C,{displayName:_,photoURL:E}){if(void 0===_&&void 0===E)return;const I=(0,H.m9)(C),O={idToken:yield I.getIdToken(),displayName:_,photoUrl:E,returnSecureToken:!0},re=yield bt(I,ia(I.auth,O));I.displayName=re.displayName||null,I.photoURL=re.photoUrl||null;const Me=I.providerData.find(({providerId:ze})=>"password"===ze);Me&&(Me.displayName=I.displayName,Me.photoURL=I.photoURL),yield I._updateTokensIfNecessary(re)})).apply(this,arguments)}function sa(C,_){return Pp((0,H.m9)(C),_,null)}function ps(C,_){return Pp((0,H.m9)(C),null,_)}function Pp(C,_,E){return zl.apply(this,arguments)}function zl(){return(zl=(0,f.Z)(function*(C,_,E){const{auth:I}=C,O={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(O.email=_),E&&(O.password=E);const re=yield bt(C,mi(I,O));yield C._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class ho{constructor(_,E,I={}){this.isNewUser=_,this.providerId=E,this.profile=I}}class Kl extends ho{constructor(_,E,I,x){super(_,E,I),this.username=x}}class Md extends ho{constructor(_,E){super(_,"facebook.com",E)}}class kp extends Kl{constructor(_,E){super(_,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class Fp extends ho{constructor(_,E){super(_,"google.com",E)}}class Zy extends Kl{constructor(_,E,I){super(_,"twitter.com",E,I)}}function Wy(C){const{user:_,_tokenResponse:E}=C;return _.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function(C){var _,E;if(!C)return null;const{providerId:I}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},O=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const re=null===(E=null===(_=tn(C.idToken))||void 0===_?void 0:_.firebase)||void 0===E?void 0:E.sign_in_provider;if(re)return new ho(O,"anonymous"!==re&&"custom"!==re?re:null)}if(!I)return null;switch(I){case"facebook.com":return new Md(O,x);case"github.com":return new kp(O,x);case"google.com":return new Fp(O,x);case"twitter.com":return new Zy(O,x,C.screenName||null);case"custom":case"anonymous":return new ho(O,null);default:return new ho(O,I,x)}}(E)}function hu(C,_){return(0,H.m9)(C).setPersistence(_)}class Fn{constructor(_,E){this.type=_,this.credential=E}static _fromIdtoken(_){return new Fn("enroll",_)}static _fromMfaPendingCredential(_){return new Fn("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var E,I;if(null==_?void 0:_.multiFactorSession){if(null===(E=_.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Fn._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(I=_.multiFactorSession)||void 0===I?void 0:I.idToken)return Fn._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Pi{constructor(_,E,I){this.session=_,this.hints=E,this.signInResolver=I}static _fromError(_,E){const I=An(_),x=(E.serverResponse.mfaInfo||[]).map(re=>fs._fromServerResponse(I,re));te(E.serverResponse.mfaPendingCredential,I,"internal-error");const O=Fn._fromMfaPendingCredential(E.serverResponse.mfaPendingCredential);return new Pi(O,x,function(){var re=(0,f.Z)(function*(Me){const ze=yield Me._process(I,O);delete E.serverResponse.mfaInfo,delete E.serverResponse.mfaPendingCredential;const ut=Object.assign(Object.assign({},E.serverResponse),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(E.operationType){case"signIn":const Ut=yield zr._fromIdTokenResponse(I,E.operationType,ut);return yield I._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return te(E.user,I,"internal-error"),zr._forOperation(E.user,E.operationType,ut);default:Se(I,"internal-error")}});return function(Me){return re.apply(this,arguments)}}())}resolveSignIn(_){var E=this;return(0,f.Z)(function*(){return E.signInResolver(_)})()}}function Nn(C,_){var E;const I=(0,H.m9)(C),x=_;return te(_.operationType,I,"argument-error"),te(null===(E=x.serverResponse)||void 0===E?void 0:E.mfaPendingCredential,I,"argument-error"),Pi._fromError(I,x)}function Rd(C,_){return $t(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},_))}class Pd{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(I=>fs._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new Pd(_)}getSession(){var _=this;return(0,f.Z)(function*(){return Fn._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,E){var I=this;return(0,f.Z)(function*(){const x=_,O=yield I.getSession(),re=yield bt(I.user,x._process(I.user.auth,O,E));return yield I.user._updateTokensIfNecessary(re),I.user.reload()})()}unenroll(_){var E=this;return(0,f.Z)(function*(){const I="string"==typeof _?_:_.uid,x=yield E.user.getIdToken(),O=yield bt(E.user,function(C,_){return $t(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},_))}(E.user.auth,{idToken:x,mfaEnrollmentId:I}));E.enrolledFactors=E.enrolledFactors.filter(({uid:re})=>re!==I),yield E.user._updateTokensIfNecessary(O);try{yield E.user.reload()}catch(re){if("auth/user-token-expired"!==re.code)throw re}})()}}const kd=new WeakMap;function Qy(C){const _=(0,H.m9)(C);return kd.has(_)||kd.set(_,Pd._fromUser(_)),kd.get(_)}const fo="__sak";class fu{constructor(_,E){this.storage=_,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(fo,"1"),this.storage.removeItem(fo),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,E){return this.storage.setItem(_,JSON.stringify(E)),Promise.resolve()}_get(_){const E=this.storage.getItem(_);return Promise.resolve(E?JSON.parse(E):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const gs=(()=>{class C extends fu{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,H.z$)();return $(C)||St(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Lt(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(E){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),O=this.localCache[I];x!==O&&E(I,O,x)}}onStorageEvent(E,I=!1){if(!E.key)return void this.forAllChangedKeys((Me,ze,ut)=>{this.notifyListeners(Me,ut)});const x=E.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(x);if(E.newValue!==Me)null!==E.newValue?this.storage.setItem(x,E.newValue):this.storage.removeItem(x);else if(this.localCache[x]===E.newValue&&!I)return}const O=()=>{const Me=this.storage.getItem(x);!I&&this.localCache[x]===Me||this.notifyListeners(x,Me)},re=this.storage.getItem(x);(0,H.w1)()&&10===document.documentMode&&re!==E.newValue&&E.newValue!==E.oldValue?setTimeout(O,10):O()}notifyListeners(E,I){this.localCache[E]=I;const x=this.listeners[E];if(x)for(const O of Array.from(x))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,I){var x=()=>super._set,O=this;return(0,f.Z)(function*(){yield x().call(O,E,I),O.localCache[E]=JSON.stringify(I)})()}_get(E){var I=()=>super._get,x=this;return(0,f.Z)(function*(){const O=yield I().call(x,E);return x.localCache[E]=JSON.stringify(O),O})()}_remove(E){var I=()=>super._remove,x=this;return(0,f.Z)(function*(){yield I().call(x,E),delete x.localCache[E]})()}}return C.type="LOCAL",C})(),Hp=(()=>{class C extends fu{constructor(){super(window.sessionStorage,"SESSION")}_addListener(E,I){}_removeListener(E,I){}}return C.type="SESSION",C})();let Ql=(()=>{class C{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const I=this.receivers.find(O=>O.isListeningto(E));if(I)return I;const x=new C(E);return this.receivers.push(x),x}isListeningto(E){return this.eventTarget===E}handleEvent(E){var I=this;return(0,f.Z)(function*(){const x=E,{eventId:O,eventType:re,data:Me}=x.data,ze=I.handlersMap[re];if(!(null==ze?void 0:ze.size))return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:re});const ut=Array.from(ze).map(function(){var Cn=(0,f.Z)(function*(Fi){return Fi(x.origin,Me)});return function(Fi){return Cn.apply(this,arguments)}}()),Ut=yield function(C){return Promise.all(C.map(function(){var _=(0,f.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(I){return{fulfilled:!1,reason:I}}});return function(E){return _.apply(this,arguments)}}()))}(ut);x.ports[0].postMessage({status:"done",eventId:O,eventType:re,response:Ut})})()}_subscribe(E,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(I)}_unsubscribe(E,I){this.handlersMap[E]&&I&&this.handlersMap[E].delete(I),(!I||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function oa(C="",_=10){let E="";for(let I=0;I<_;I++)E+=Math.floor(10*Math.random());return C+E}class Xy{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,E,I=50){var x=this;return(0,f.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let re,Me;return new Promise((ze,ut)=>{const Ut=oa("",20);O.port1.start();const Cn=setTimeout(()=>{ut(new Error("unsupported_event"))},I);Me={messageChannel:O,onMessage(Fi){const qs=Fi;if(qs.data.eventId===Ut)switch(qs.data.status){case"ack":clearTimeout(Cn),re=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),ze(qs.data.response);break;default:clearTimeout(Cn),clearTimeout(re),ut(new Error("invalid_response"))}}},x.handlers.add(Me),O.port1.addEventListener("message",Me.onMessage),x.target.postMessage({eventType:_,eventId:Ut,data:E},[O.port2])}).finally(()=>{Me&&x.removeMessageHandler(Me)})})()}}function ln(){return window}function $p(){return void 0!==ln().WorkerGlobalScope&&"function"==typeof ln().importScripts}function pu(){return(pu=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Gp="firebaseLocalStorageDb",Vs="firebaseLocalStorage",Wp="fbase_key";class ms{constructor(_){this.request=_}toPromise(){return new Promise((_,E)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function gu(C,_){return C.transaction([Vs],_?"readwrite":"readonly").objectStore(Vs)}function zp(){const C=indexedDB.open(Gp,1);return new Promise((_,E)=>{C.addEventListener("error",()=>{E(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(Vs,{keyPath:Wp})}catch(x){E(x)}}),C.addEventListener("success",(0,f.Z)(function*(){const I=C.result;I.objectStoreNames.contains(Vs)?_(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(Gp);return new ms(C).toPromise()}(),_(yield zp()))}))})}function Kp(C,_,E){return hn.apply(this,arguments)}function hn(){return(hn=(0,f.Z)(function*(C,_,E){const I=gu(C,!0).put({[Wp]:_,value:E});return new ms(I).toPromise()})).apply(this,arguments)}function mu(){return(mu=(0,f.Z)(function*(C,_){const E=gu(C,!1).get(_),I=yield new ms(E).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ft(C,_){const E=gu(C,!0).delete(_);return new ms(E).toPromise()}const la=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,f.Z)(function*(){return E.db||(E.db=yield zp()),E.db})()}_withRetries(E){var I=this;return(0,f.Z)(function*(){let x=0;for(;;)try{const O=yield I._openDb();return yield E(O)}catch(O){if(x++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,f.Z)(function*(){return $p()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,f.Z)(function*(){E.receiver=Ql._getInstance($p()?self:null),E.receiver._subscribe("keyChanged",function(){var I=(0,f.Z)(function*(x,O){return{keyProcessed:(yield E._poll()).includes(O.key)}});return function(x,O){return I.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var I=(0,f.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return I.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,f.Z)(function*(){var I,x;if(E.activeServiceWorker=yield function(){return pu.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Xy(E.activeServiceWorker);const O=yield E.sender._send("ping",{},800);!O||(null===(I=O[0])||void 0===I?void 0:I.fulfilled)&&(null===(x=O[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var I=this;return(0,f.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:E},I.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const E=yield zp();return yield Kp(E,fo,"1"),yield ft(E,fo),!0}catch(E){}return!1})()}_withPendingWrite(E){var I=this;return(0,f.Z)(function*(){I.pendingWrites++;try{yield E()}finally{I.pendingWrites--}})()}_set(E,I){var x=this;return(0,f.Z)(function*(){return x._withPendingWrite((0,f.Z)(function*(){return yield x._withRetries(O=>Kp(O,E,I)),x.localCache[E]=I,x.notifyServiceWorker(E)}))})()}_get(E){var I=this;return(0,f.Z)(function*(){const x=yield I._withRetries(O=>function(C,_){return mu.apply(this,arguments)}(O,E));return I.localCache[E]=x,x})()}_remove(E){var I=this;return(0,f.Z)(function*(){return I._withPendingWrite((0,f.Z)(function*(){return yield I._withRetries(x=>ft(x,E)),delete I.localCache[E],I.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,f.Z)(function*(){const I=yield E._withRetries(re=>{const Me=gu(re,!1).getAll();return new ms(Me).toPromise()});if(!I)return[];if(0!==E.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:re,value:Me}of I)O.add(re),JSON.stringify(E.localCache[re])!==JSON.stringify(Me)&&(E.notifyListeners(re,Me),x.push(re));for(const re of Object.keys(E.localCache))E.localCache[re]&&!O.has(re)&&(E.notifyListeners(re,null),x.push(re));return x})()}notifyListeners(E,I){this.localCache[E]=I;const x=this.listeners[E];if(x)for(const O of Array.from(x))O(I)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function po(C,_){return $t(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},_))}function yu(){return(yu=(0,f.Z)(function*(C){return(yield $t(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jp(C){return new Promise((_,E)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=_,I.onerror=x=>{const O=Ve("internal-error");O.customData=x,E(O)},I.type="text/javascript",I.charset="UTF-8",function(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(I)})}function Xp(C){return`__${C}${Math.floor(1e6*Math.random())}`}const _u=1e12;class or{constructor(_){this.auth=_,this.counter=_u,this._widgets=new Map}render(_,E){const I=this.counter;return this._widgets.set(I,new _s(_,this.auth.name,E||{})),this.counter++,I}reset(_){var E;const I=_||_u;null===(E=this._widgets.get(I))||void 0===E||E.delete(),this._widgets.delete(I)}getResponse(_){var E;return(null===(E=this._widgets.get(_||_u))||void 0===E?void 0:E.getResponse())||""}execute(_){var E=this;return(0,f.Z)(function*(){var I;return null===(I=E._widgets.get(_||_u))||void 0===I||I.execute(),""})()}}class _s{constructor(_,E,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof _?document.getElementById(_):_;te(x,"argument-error",{appName:E}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const _=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)_.push(E.charAt(Math.floor(Math.random()*E.length)));return _.join("")}();const{callback:_,"expired-callback":E}=this.params;if(_)try{_(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bd=Xp("rcb"),Jl=new pt(3e4,6e4);class go{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ln().grecaptcha}load(_,E=""){return te((C=E).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),_,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(ln().grecaptcha):new Promise((I,x)=>{const O=ln().setTimeout(()=>{x(Ve(_,"network-request-failed"))},Jl.get());ln()[Bd]=()=>{ln().clearTimeout(O),delete ln()[Bd];const Me=ln().grecaptcha;if(!Me)return void x(Ve(_,"internal-error"));const ze=Me.render;Me.render=(ut,Ut)=>{const Cn=ze(ut,Ut);return this.counter++,Cn},this.hostLanguage=E,I(Me)},Jp(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Bd,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(O),x(Ve(_,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!ln().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yo{load(_){return(0,f.Z)(function*(){return new or(_)})()}clearedOneInstance(){}}const _o="recaptcha",ec={theme:"light",type:"image"};class Us{constructor(_,E=Object.assign({},ec),I){this.parameters=E,this.type=_o,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(I),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof _?document.getElementById(_):_;te(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yo:new go,this.validateStartingState()}verify(){var _=this;return(0,f.Z)(function*(){_.assertNotDestroyed();const E=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(E)||new Promise(O=>{const re=Me=>{!Me||(_.tokenChangeListeners.delete(re),O(Me))};_.tokenChangeListeners.add(re),_.isInvisible&&I.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return E=>{if(this.tokenChangeListeners.forEach(I=>I(E)),"function"==typeof _)_(E);else if("string"==typeof _){const I=ln()[_];"function"==typeof I&&I(E)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,f.Z)(function*(){if(yield _.init(),!_.widgetId){let E=_.container;if(!_.isInvisible){const I=document.createElement("div");E.appendChild(I),E=I}_.widgetId=_.getAssertedRecaptcha().render(E,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,f.Z)(function*(){te(pe()&&!$p(),_.auth,"internal-error"),yield function(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const E=yield function(C){return yu.apply(this,arguments)}(_.auth);te(E,_.auth,"internal-error"),_.parameters.sitekey=E})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hd{constructor(_,E){this.verificationId=_,this.onConfirmation=E}confirm(_){const E=Qo._fromVerification(this.verificationId,_);return this.onConfirmation(E)}}function eg(C,_,E){return $d.apply(this,arguments)}function $d(){return($d=(0,f.Z)(function*(C,_,E){const I=An(C),x=yield Eu(I,_,(0,H.m9)(E));return new Hd(x,O=>dn(I,O))})).apply(this,arguments)}function tg(C,_,E){return En.apply(this,arguments)}function En(){return(En=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C);yield ru(!1,I,"phone");const x=yield Eu(I.auth,_,(0,H.m9)(E));return new Hd(x,O=>Id(I,O))})).apply(this,arguments)}function ng(C,_,E){return vu.apply(this,arguments)}function vu(){return(vu=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C),x=yield Eu(I.auth,_,(0,H.m9)(E));return new Hd(x,O=>wn(I,O))})).apply(this,arguments)}function Eu(C,_,E){return qd.apply(this,arguments)}function qd(){return(qd=(0,f.Z)(function*(C,_,E){var I;const x=yield E.verify();try{let O;if(te("string"==typeof x,C,"argument-error"),te(E.type===_o,C,"argument-error"),O="string"==typeof _?{phoneNumber:_}:_,"session"in O){const re=O.session;if("phoneNumber"in O)return te("enroll"===re.type,C,"internal-error"),(yield Rd(C,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{te("signin"===re.type,C,"internal-error");const Me=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return te(Me,C,"missing-multi-factor-info"),(yield po(C,{mfaPendingCredential:re.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield _d(C,{phoneNumber:O.phoneNumber,recaptchaToken:x});return re}}finally{E._reset()}})).apply(this,arguments)}function rg(C,_){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,f.Z)(function*(C,_){yield Cd((0,H.m9)(C),_)})).apply(this,arguments)}let e_=(()=>{class C{constructor(E){this.providerId=C.PROVIDER_ID,this.auth=An(E)}verifyPhoneNumber(E,I){return Eu(this.auth,E,(0,H.m9)(I))}static credential(E,I){return Qo._fromVerification(E,I)}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:I,temporaryProof:x}=E;return I&&x?Qo._fromTokenResponse(I,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Eo(C,_){return _?ue(_):(te(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class tc extends Kn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return vn(_,this._buildIdpRequest())}_linkToIdToken(_,E){return vn(_,this._buildIdpRequest(E))}_getReauthenticationResolver(_){return vn(_,this._buildIdpRequest())}_buildIdpRequest(_){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(E.idToken=_),E}}function Zd(C){return Wl(C.auth,new tc(C),C.bypassAuthState)}function t_(C){const{auth:_,user:E}=C;return te(E,_,"internal-error"),ea(E,new tc(C),C.bypassAuthState)}function da(C){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,f.Z)(function*(C){const{auth:_,user:E}=C;return te(E,_,"internal-error"),Cd(E,new tc(C),C.bypassAuthState)})).apply(this,arguments)}class Vt{constructor(_,E,I,x,O=!1){this.auth=_,this.resolver=I,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var _=this;return new Promise(function(){var E=(0,f.Z)(function*(I,x){_.pendingPromise={resolve:I,reject:x};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(O){_.reject(O)}});return function(I,x){return E.apply(this,arguments)}}())}onAuthEvent(_){var E=this;return(0,f.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:O,tenantId:re,error:Me,type:ze}=_;if(Me)return void E.reject(Me);const ut={auth:E.auth,requestUri:I,sessionId:x,tenantId:re||void 0,postBody:O||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(ze)(ut))}catch(Ut){E.reject(Ut)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Zd;case"linkViaPopup":case"linkViaRedirect":return da;case"reauthViaPopup":case"reauthViaRedirect":return t_;default:Se(this.auth,"internal-error")}}resolve(_){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ci=new pt(2e3,1e4);function wu(C,_,E){return n_.apply(this,arguments)}function n_(){return(n_=(0,f.Z)(function*(C,_,E){const I=An(C);te(_ instanceof oo,C,"argument-error");const x=Eo(I,E);return new ii(I,"signInViaPopup",_,x).executeNotNull()})).apply(this,arguments)}function uw(C,_,E){return ar.apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C);te(_ instanceof oo,I.auth,"argument-error");const x=Eo(I.auth,E);return new ii(I.auth,"reauthViaPopup",_,x,I).executeNotNull()})).apply(this,arguments)}function ki(C,_,E){return js.apply(this,arguments)}function js(){return(js=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C);te(_ instanceof oo,I.auth,"argument-error");const x=Eo(I.auth,E);return new ii(I.auth,"linkViaPopup",_,x,I).executeNotNull()})).apply(this,arguments)}let ii=(()=>{class C extends Vt{constructor(E,I,x,O,re){super(E,I,O,re),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var E=this;return(0,f.Z)(function*(){const I=yield E.execute();return te(I,E.auth,"internal-error"),I})()}onExecution(){var E=this;return(0,f.Z)(function*(){At(1===E.filter.length,"Popup operations only handle one event");const I=oa();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],I),E.authWindow.associatedEvent=I,E.resolver._originValidation(E.auth).catch(x=>{E.reject(x)}),E.resolver._isIframeWebStorageSupported(E.auth,x=>{x||E.reject(Ve(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const E=()=>{var I,x;this.pollId=(null===(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Ci.get())};E()}}return C.currentPopupAction=null,C})();const ha=new Map;class r_ extends Vt{constructor(_,E,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,E=this;return(0,f.Z)(function*(){let I=ha.get(E.auth._key());if(!I){try{const O=(yield function(C,_){return i_.apply(this,arguments)}(E.resolver,E.auth))?yield _().call(E):null;I=()=>Promise.resolve(O)}catch(x){I=()=>Promise.reject(x)}ha.set(E.auth._key(),I)}return I()})()}onAuthEvent(_){var E=()=>super.onAuthEvent,I=this;return(0,f.Z)(function*(){if("signInViaRedirect"===_.type)return E().call(I,_);if("unknown"!==_.type){if(_.eventId){const x=yield I.auth._redirectUserForId(_.eventId);if(x)return I.user=x,E().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function i_(){return(i_=(0,f.Z)(function*(C,_){const E=wo(_),I="true"===(yield nc(C)._get(E));return yield nc(C)._remove(E),I})).apply(this,arguments)}function s_(C,_){return zd.apply(this,arguments)}function zd(){return(zd=(0,f.Z)(function*(C,_){return nc(C)._set(wo(_),"true")})).apply(this,arguments)}function si(){ha.clear()}function nc(C){return ue(C._redirectPersistence)}function wo(C){return Dt("pendingRedirect",C.config.apiKey,C.name)}function Kd(C,_,E){return function(C,_,E){return pa.apply(this,arguments)}(C,_,E)}function pa(){return(pa=(0,f.Z)(function*(C,_,E){const I=An(C);te(_ instanceof oo,C,"argument-error");const x=Eo(I,E);return yield s_(x,I),x._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function rc(C,_,E){return function(C,_,E){return Cu.apply(this,arguments)}(C,_,E)}function Cu(){return(Cu=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C);te(_ instanceof oo,I.auth,"argument-error");const x=Eo(I.auth,E);yield s_(x,I.auth);const O=yield ga(I);return x._openRedirect(I.auth,_,"reauthViaRedirect",O)})).apply(this,arguments)}function ic(C,_,E){return function(C,_,E){return Iu.apply(this,arguments)}(C,_,E)}function Iu(){return(Iu=(0,f.Z)(function*(C,_,E){const I=(0,H.m9)(C);te(_ instanceof oo,I.auth,"argument-error");const x=Eo(I.auth,E);yield ru(!1,I,_.providerId),yield s_(x,I.auth);const O=yield ga(I);return x._openRedirect(I.auth,_,"linkViaRedirect",O)})).apply(this,arguments)}function Du(C,_){return ig.apply(this,arguments)}function ig(){return(ig=(0,f.Z)(function*(C,_){return yield An(C)._initializationPromise,Hs(C,_,!1)})).apply(this,arguments)}function Hs(C,_){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,f.Z)(function*(C,_,E=!1){const I=An(C),x=Eo(I,_),re=yield new r_(I,x,E).execute();return re&&!E&&(delete re.user._redirectEventId,yield I._persistUserIfCurrent(re.user),yield I._setRedirectUser(null,_)),re})).apply(this,arguments)}function ga(C){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,f.Z)(function*(C){const _=oa(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class sg{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let E=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(E=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jd(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=_,E=!0)),E}sendToConsumer(_,E){var I;if(_.error&&!Jd(_)){const x=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";E.onError(Ve(this.auth,x))}else E.onAuthEvent(_)}isEventForConsumer(_,E){const I=null===E.eventId||!!_.eventId&&_.eventId===E.eventId;return E.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Au(_))}saveEventToCache(_){this.cachedEventUids.add(Au(_)),this.lastProcessedEventTime=Date.now()}}function Au(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Jd({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Su(C){return oi.apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(C,_={}){return $t(C,"GET","/v1/projects",_)})).apply(this,arguments)}const sc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fn=/^https?/;function og(){return(og=(0,f.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Su(C);for(const E of _)try{if(vs(E))return}catch(I){}Se(C,"unauthorized-domain")})).apply(this,arguments)}function vs(C){const _=me(),{protocol:E,hostname:I}=new URL(_);if(C.startsWith("chrome-extension://")){const re=new URL(C);return""===re.hostname&&""===I?"chrome-extension:"===E&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===E&&re.hostname===I}if(!fn.test(E))return!1;if(sc.test(C))return I===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const _a=new pt(3e4,6e4);function oc(){const C=ln().___jsl;if(null==C?void 0:C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let E=0;E<C.CP.length;E++)C.CP[E]=null}let Co=null;function ag(C){return Co=Co||function(C){return new Promise((_,E)=>{var I,x,O;function re(){oc(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{oc(),E(Ve(C,"network-request-failed"))},timeout:_a.get()})}if(null===(x=null===(I=ln().gapi)||void 0===I?void 0:I.iframes)||void 0===x?void 0:x.Iframe)_(gapi.iframes.getContext());else{if(!(null===(O=ln().gapi)||void 0===O?void 0:O.load)){const Me=Xp("iframefcb");return ln()[Me]=()=>{gapi.load?re():E(Ve(C,"network-request-failed"))},Jp(`https://apis.google.com/js/api.js?onload=${Me}`)}re()}}).catch(_=>{throw Co=null,_})}(C),Co}const Es=new pt(5e3,15e3),$s={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function va(C){const _=C.config;te(_.authDomain,C,"auth-domain-config-required");const E=_.emulator?Xe(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:C.name,v:F.SDK_VERSION},x=cw.get(C.config.apiHost);x&&(I.eid=x);const O=C._getFrameworks();return O.length&&(I.fw=O.join(",")),`${E}?${(0,H.xO)(I).slice(1)}`}function bo(){return(bo=(0,f.Z)(function*(C){const _=yield ag(C),E=ln().gapi;return te(E,C,"internal-error"),_.open({where:document.body,url:va(C),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$s,dontclear:!0},I=>new Promise(function(){var x=(0,f.Z)(function*(O,re){yield I.restyle({setHideOnLeave:!1});const Me=Ve(C,"network-request-failed"),ze=ln().setTimeout(()=>{re(Me)},Es.get());function ut(){ln().clearTimeout(ze),O(I)}I.ping(ut).then(ut,()=>{re(Me)})});return function(O,re){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const a_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eh{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function th(C,_,E,I,x,O){te(C.config.authDomain,C,"auth-domain-config-required"),te(C.config.apiKey,C,"invalid-api-key");const re={apiKey:C.config.apiKey,appName:C.name,authType:E,redirectUrl:I,v:F.SDK_VERSION,eventId:x};if(_ instanceof oo){_.setDefaultLanguage(C.languageCode),re.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||(re.customParameters=JSON.stringify(_.getCustomParameters()));for(const[ze,ut]of Object.entries(O||{}))re[ze]=ut}if(_ instanceof Jo){const ze=_.getScopes().filter(ut=>""!==ut);ze.length>0&&(re.scopes=ze.join(","))}C.tenantId&&(re.tid=C.tenantId);const Me=re;for(const ze of Object.keys(Me))void 0===Me[ze]&&delete Me[ze];return`${function({config:C}){return C.emulator?Xe(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,H.xO)(Me).slice(1)}`}const lc="webStorageSupport",nh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hp,this._completeRedirectFn=Hs}_openPopup(_,E,I,x){var O=this;return(0,f.Z)(function*(){var re;At(null===(re=O.eventManagers[_._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Me=th(_,E,I,me(),x);return function(C,_,E,I=500,x=600){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),re=Math.max((window.screen.availWidth-I)/2,0).toString();let Me="";const ze=Object.assign(Object.assign({},a_),{width:I.toString(),height:x.toString(),top:O,left:re}),ut=(0,H.z$)().toLowerCase();E&&(Me=W(ut)?"_blank":E),se(ut)&&(_=_||"http://localhost",ze.scrollbars="yes");const Ut=Object.entries(ze).reduce((Fi,[qs,Ea])=>`${Fi}${qs}=${Ea},`,"");if(function(C=(0,H.z$)()){var _;return St(C)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(ut)&&"_self"!==Me)return function(C,_){const E=document.createElement("a");E.href=C,E.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(I)}(_||"",Me),new eh(null);const Cn=window.open(_||"",Me,Ut);te(Cn,C,"popup-blocked");try{Cn.focus()}catch(Fi){}return new eh(Cn)}(_,Me,oa())})()}_openRedirect(_,E,I,x){var O=this;return(0,f.Z)(function*(){return yield O._originValidation(_),C=th(_,E,I,me(),x),ln().location.href=C,new Promise(()=>{});var C})()}_initialize(_){const E=_._key();if(this.eventManagers[E]){const{manager:x,promise:O}=this.eventManagers[E];return x?Promise.resolve(x):(At(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(_);return this.eventManagers[E]={promise:I},I}initAndGetManager(_){var E=this;return(0,f.Z)(function*(){const I=yield function(C){return bo.apply(this,arguments)}(_),x=new sg(_);return I.register("authEvent",O=>(te(null==O?void 0:O.authEvent,_,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[_._key()]={manager:x},E.iframes[_._key()]=I,x})()}_isIframeWebStorageSupported(_,E){this.iframes[_._key()].send(lc,{type:lc},x=>{var O;const re=null===(O=null==x?void 0:x[0])||void 0===O?void 0:O[lc];void 0!==re&&E(!!re),Se(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return og.apply(this,arguments)}(_)),this.originValidationPromises[E]}get _shouldInitProactively(){return Lt()||$()||St()}};class rh extends class{constructor(_){this.factorId=_}_process(_,E,I){switch(E.type){case"enroll":return this._finalizeEnroll(_,E.credential,I);case"signin":return this._finalizeSignIn(_,E.credential);default:return it("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new rh(_)}_finalizeEnroll(_,E,I){return function(C,_){return $t(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{idToken:E,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,E){return function(C,_){return $t(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class lg{constructor(){}static assertion(_){return rh._fromCredential(_)}}var C;class Ou{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var E=this;return(0,f.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const E=this.auth.onIdTokenChanged(I=>{var x;_((null===(x=I)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,E),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const E=this.internalListeners.get(_);!E||(this.internalListeners.delete(_),E(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dg(C=(0,F.getApp)()){const _=(0,F._getProvider)(C,"auth");return _.isInitialized()?_.getImmediate():function(C,_){const E=(0,F._getProvider)(C,"auth");if(E.isInitialized()){const x=E.getImmediate(),O=E.getOptions();if((0,H.vZ)(O,null!=_?_:{}))return x;Se(x,"already-initialized")}return E.initialize({options:_})}(C,{popupRedirectResolver:nh,persistence:[la,gs,Hp]})}C="Browser",(0,F._registerComponent)(new ce.wA("auth",(_,{options:E})=>{const I=_.getProvider("app").getImmediate(),{apiKey:x,authDomain:O}=I.options;return(re=>{te(x&&!x.includes(":"),"invalid-api-key",{appName:re.name}),te(!(null==O?void 0:O.includes(":")),"argument-error",{appName:re.name});const Me={apiKey:x,authDomain:O,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kn(C)},ze=new ls(re,Me);return function(C,_){const E=(null==_?void 0:_.persistence)||[],I=(Array.isArray(E)?E:[E]).map(ue);(null==_?void 0:_.errorMap)&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(I,null==_?void 0:_.popupRedirectResolver)}(ze,E),ze})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,E,I)=>{_.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new ce.wA("auth-internal",_=>{const E=An(_.getProvider("auth").getImmediate());return new Ou(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)("@firebase/auth","0.17.1",void 0)},6034:(Ye,Te,k)=>{"use strict";k.d(Te,{wA:()=>F,H0:()=>ge});var f=k(4762),H=k(4685),F=function(){function K(L,B,G){this.name=L,this.instanceFactory=B,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return K.prototype.setInstantiationMode=function(L){return this.instantiationMode=L,this},K.prototype.setMultipleInstances=function(L){return this.multipleInstances=L,this},K.prototype.setServiceProps=function(L){return this.serviceProps=L,this},K.prototype.setInstanceCreatedCallback=function(L){return this.onInstanceCreated=L,this},K}(),ie="[DEFAULT]",ve=function(){function K(L,B){this.name=L,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return K.prototype.get=function(L){var B=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(B)){var G=new H.BH;if(this.instancesDeferred.set(B,G),this.isInitialized(B)||this.shouldAutoInitialize())try{var j=this.getOrInitializeService({instanceIdentifier:B});j&&G.resolve(j)}catch(z){}}return this.instancesDeferred.get(B).promise},K.prototype.getImmediate=function(L){var B,G=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),j=null!==(B=null==L?void 0:L.optional)&&void 0!==B&&B;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(j)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(z){if(j)return null;throw z}},K.prototype.getComponent=function(){return this.component},K.prototype.setComponent=function(L){var B,G;if(L.name!==this.name)throw Error("Mismatching Component "+L.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=L,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(Se){}try{for(var j=(0,f.XA)(this.instancesDeferred.entries()),z=j.next();!z.done;z=j.next()){var fe=(0,f.CR)(z.value,2),ae=fe[1],ke=this.normalizeInstanceIdentifier(fe[0]);try{var Ae=this.getOrInitializeService({instanceIdentifier:ke});ae.resolve(Ae)}catch(Se){}}}catch(Se){B={error:Se}}finally{try{z&&!z.done&&(G=j.return)&&G.call(j)}finally{if(B)throw B.error}}}},K.prototype.clearInstance=function(L){void 0===L&&(L=ie),this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)},K.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var L;return(0,f.Jh)(this,function(B){switch(B.label){case 0:return L=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(L.filter(function(G){return"INTERNAL"in G}).map(function(G){return G.INTERNAL.delete()}))),(0,f.CR)(L.filter(function(G){return"_delete"in G}).map(function(G){return G._delete()}))))];case 1:return B.sent(),[2]}})})},K.prototype.isComponentSet=function(){return null!=this.component},K.prototype.isInitialized=function(L){return void 0===L&&(L=ie),this.instances.has(L)},K.prototype.getOptions=function(L){return void 0===L&&(L=ie),this.instancesOptions.get(L)||{}},K.prototype.initialize=function(L){var B,G;void 0===L&&(L={});var j=L.options,z=void 0===j?{}:j,fe=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(fe))throw Error(this.name+"("+fe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var oe=this.getOrInitializeService({instanceIdentifier:fe,options:z});try{for(var ae=(0,f.XA)(this.instancesDeferred.entries()),ke=ae.next();!ke.done;ke=ae.next()){var Ae=(0,f.CR)(ke.value,2),Ve=Ae[1];fe===this.normalizeInstanceIdentifier(Ae[0])&&Ve.resolve(oe)}}catch(te){B={error:te}}finally{try{ke&&!ke.done&&(G=ae.return)&&G.call(ae)}finally{if(B)throw B.error}}return oe},K.prototype.onInit=function(L,B){var G,j=this.normalizeInstanceIdentifier(B),z=null!==(G=this.onInitCallbacks.get(j))&&void 0!==G?G:new Set;z.add(L),this.onInitCallbacks.set(j,z);var fe=this.instances.get(j);return fe&&L(fe,j),function(){z.delete(L)}},K.prototype.invokeOnInitCallbacks=function(L,B){var G,j,z=this.onInitCallbacks.get(B);if(z)try{for(var fe=(0,f.XA)(z),oe=fe.next();!oe.done;oe=fe.next()){var ae=oe.value;try{ae(L,B)}catch(ke){}}}catch(ke){G={error:ke}}finally{try{oe&&!oe.done&&(j=fe.return)&&j.call(fe)}finally{if(G)throw G.error}}},K.prototype.getOrInitializeService=function(L){var B=L.instanceIdentifier,G=L.options,j=void 0===G?{}:G,z=this.instances.get(B);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:ce(B),options:j}),this.instances.set(B,z),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(z,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,z)}catch(fe){}return z||null},K.prototype.normalizeInstanceIdentifier=function(L){return void 0===L&&(L=ie),this.component?this.component.multipleInstances?L:ie:L},K.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},K}();function ce(K){return K===ie?void 0:K}var ge=function(){function K(L){this.name=L,this.providers=new Map}return K.prototype.addComponent=function(L){var B=this.getProvider(L.name);if(B.isComponentSet())throw new Error("Component "+L.name+" has already been registered with "+this.name);B.setComponent(L)},K.prototype.addOrOverwriteComponent=function(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)},K.prototype.getProvider=function(L){if(this.providers.has(L))return this.providers.get(L);var B=new ve(L,this);return this.providers.set(L,B),B},K.prototype.getProviders=function(){return Array.from(this.providers.values())},K}()},300:(Ye,Te,k)=>{"use strict";function f(){for(var G=0,j=0,z=arguments.length;j<z;j++)G+=arguments[j].length;var fe=Array(G),oe=0;for(j=0;j<z;j++)for(var ae=arguments[j],ke=0,Ae=ae.length;ke<Ae;ke++,oe++)fe[oe]=ae[ke];return fe}k.d(Te,{in:()=>ie,Yd:()=>K,Ub:()=>L,Am:()=>B});var H,F=[],ie=(()=>{return(G=ie||(ie={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ie;var G})(),ve={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},ce=ie.INFO,we=((H={})[ie.DEBUG]="log",H[ie.VERBOSE]="log",H[ie.INFO]="info",H[ie.WARN]="warn",H[ie.ERROR]="error",H),ge=function(G,j){for(var z=[],fe=2;fe<arguments.length;fe++)z[fe-2]=arguments[fe];if(!(j<G.logLevel)){var oe=(new Date).toISOString(),ae=we[j];if(!ae)throw new Error("Attempted to log a message with an invalid logType (value: "+j+")");console[ae].apply(console,f(["["+oe+"]  "+G.name+":"],z))}},K=function(){function G(j){this.name=j,this._logLevel=ce,this._logHandler=ge,this._userLogHandler=null,F.push(this)}return Object.defineProperty(G.prototype,"logLevel",{get:function(){return this._logLevel},set:function(j){if(!(j in ie))throw new TypeError('Invalid value "'+j+'" assigned to `logLevel`');this._logLevel=j},enumerable:!1,configurable:!0}),G.prototype.setLogLevel=function(j){this._logLevel="string"==typeof j?ve[j]:j},Object.defineProperty(G.prototype,"logHandler",{get:function(){return this._logHandler},set:function(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(j){this._userLogHandler=j},enumerable:!1,configurable:!0}),G.prototype.debug=function(){for(var j=[],z=0;z<arguments.length;z++)j[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.DEBUG],j)),this._logHandler.apply(this,f([this,ie.DEBUG],j))},G.prototype.log=function(){for(var j=[],z=0;z<arguments.length;z++)j[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.VERBOSE],j)),this._logHandler.apply(this,f([this,ie.VERBOSE],j))},G.prototype.info=function(){for(var j=[],z=0;z<arguments.length;z++)j[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.INFO],j)),this._logHandler.apply(this,f([this,ie.INFO],j))},G.prototype.warn=function(){for(var j=[],z=0;z<arguments.length;z++)j[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.WARN],j)),this._logHandler.apply(this,f([this,ie.WARN],j))},G.prototype.error=function(){for(var j=[],z=0;z<arguments.length;z++)j[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,ie.ERROR],j)),this._logHandler.apply(this,f([this,ie.ERROR],j))},G}();function L(G){F.forEach(function(j){j.setLogLevel(G)})}function B(G,j){for(var z=function(ke){var Ae=null;j&&j.level&&(Ae=ve[j.level]),ke.userLogHandler=null===G?null:function(Se,Ve){for(var Ge=[],te=2;te<arguments.length;te++)Ge[te-2]=arguments[te];var it=Ge.map(function(At){if(null==At)return null;if("string"==typeof At)return At;if("number"==typeof At||"boolean"==typeof At)return At.toString();if(At instanceof Error)return At.message;try{return JSON.stringify(At)}catch(Ct){return null}}).filter(function(At){return At}).join(" ");Ve>=(null!=Ae?Ae:Se.logLevel)&&G({level:ie[Ve].toLowerCase(),message:it,args:Ge,type:Se.name})}},fe=0,oe=F;fe<oe.length;fe++)z(oe[fe])}},4685:(Ye,Te,k)=>{"use strict";k.d(Te,{BH:()=>z,LL:()=>Fe,ZR:()=>X,tV:()=>L,r3:()=>Rt,Sg:()=>fe,ne:()=>fi,vZ:()=>gn,ZB:()=>G,pd:()=>qr,m9:()=>un,z$:()=>oe,jU:()=>Ae,ru:()=>Se,d:()=>Ge,xb:()=>fr,w1:()=>te,hl:()=>ue,uI:()=>ae,UG:()=>ke,b$:()=>Ve,G6:()=>Ct,Mn:()=>it,xO:()=>Dr,zd:()=>nr});var f=k(4762),ve=function(q){for(var V=[],J=0,le=0;le<q.length;le++){var Q=q.charCodeAt(le);Q<128?V[J++]=Q:Q<2048?(V[J++]=Q>>6|192,V[J++]=63&Q|128):55296==(64512&Q)&&le+1<q.length&&56320==(64512&q.charCodeAt(le+1))?(Q=65536+((1023&Q)<<10)+(1023&q.charCodeAt(++le)),V[J++]=Q>>18|240,V[J++]=Q>>12&63|128,V[J++]=Q>>6&63|128,V[J++]=63&Q|128):(V[J++]=Q>>12|224,V[J++]=Q>>6&63|128,V[J++]=63&Q|128)}return V},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(q,V){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var J=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[],Q=0;Q<q.length;Q+=3){var be=q[Q],rt=Q+1<q.length,It=rt?q[Q+1]:0,Dt=Q+2<q.length,wt=Dt?q[Q+2]:0,$=(15&It)<<2|wt>>6,W=63&wt;Dt||(W=64,rt||($=64)),le.push(J[be>>2],J[(3&be)<<4|It>>4],J[$],J[W])}return le.join("")},encodeString:function(q,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(q):this.encodeByteArray(ve(q),V)},decodeString:function(q,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(q):function(q){for(var V=[],J=0,le=0;J<q.length;){var Q=q[J++];if(Q<128)V[le++]=String.fromCharCode(Q);else if(Q>191&&Q<224){var be=q[J++];V[le++]=String.fromCharCode((31&Q)<<6|63&be)}else if(Q>239&&Q<365){var Dt=((7&Q)<<18|(63&(be=q[J++]))<<12|(63&(rt=q[J++]))<<6|63&q[J++])-65536;V[le++]=String.fromCharCode(55296+(Dt>>10)),V[le++]=String.fromCharCode(56320+(1023&Dt))}else{be=q[J++];var rt=q[J++];V[le++]=String.fromCharCode((15&Q)<<12|(63&be)<<6|63&rt)}}return V.join("")}(this.decodeStringToByteArray(q,V))},decodeStringToByteArray:function(q,V){this.init_();for(var J=V?this.charToByteMapWebSafe_:this.charToByteMap_,le=[],Q=0;Q<q.length;){var be=J[q.charAt(Q++)],It=Q<q.length?J[q.charAt(Q)]:0,wt=++Q<q.length?J[q.charAt(Q)]:64,se=++Q<q.length?J[q.charAt(Q)]:64;if(++Q,null==be||null==It||null==wt||null==se)throw Error();le.push(be<<2|It>>4),64!==wt&&(le.push(It<<4&240|wt>>2),64!==se&&le.push(wt<<6&192|se))}return le},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},K=function(q){return function(q){var V=ve(q);return we.encodeByteArray(V,!0)}(q).replace(/\./g,"")},L=function(q){try{return we.decodeString(q,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function G(q,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return V}for(var le in V)!V.hasOwnProperty(le)||!j(le)||(q[le]=G(q[le],V[le]));return q}function j(q){return"__proto__"!==q}var z=function(){function q(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(J,le){V.resolve=J,V.reject=le})}return q.prototype.wrapCallback=function(V){var J=this;return function(le,Q){le?J.reject(le):J.resolve(Q),"function"==typeof V&&(J.promise.catch(function(){}),1===V.length?V(le):V(le,Q))}},q}();function fe(q,V){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var le=V||"demo-project",Q=q.iat||0,be=q.sub||q.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var rt=(0,f.pi)({iss:"https://securetoken.google.com/"+le,aud:le,iat:Q,exp:Q+3600,auth_time:Q,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},q);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(rt)),""].join(".")}function oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function Ae(){return"object"==typeof self&&self.self===self}function Se(){var q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){return oe().indexOf("Electron/")>=0}function te(){var q=oe();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function it(){return oe().indexOf("MSAppHost/")>=0}function Ct(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"indexedDB"in self&&null!=indexedDB}var X=function(q){function V(J,le,Q){var be=q.call(this,le)||this;return be.code=J,be.customData=Q,be.name="FirebaseError",Object.setPrototypeOf(be,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(be,Fe.prototype.create),be}return(0,f.ZT)(V,q),V}(Error),Fe=function(){function q(V,J,le){this.service=V,this.serviceName=J,this.errors=le}return q.prototype.create=function(V){for(var J=[],le=1;le<arguments.length;le++)J[le-1]=arguments[le];var Q=J[0]||{},be=this.service+"/"+V,rt=this.errors[V],It=rt?Qe(rt,Q):"Error",Dt=this.serviceName+": "+It+" ("+be+").",wt=new X(be,Dt,Q);return wt},q}();function Qe(q,V){return q.replace(pt,function(J,le){var Q=V[le];return null!=Q?String(Q):"<"+le+"?>"})}var pt=/\{\$([^}]+)}/g;function Rt(q,V){return Object.prototype.hasOwnProperty.call(q,V)}function fr(q){for(var V in q)if(Object.prototype.hasOwnProperty.call(q,V))return!1;return!0}function gn(q,V){if(q===V)return!0;for(var J=Object.keys(q),le=Object.keys(V),Q=0,be=J;Q<be.length;Q++){if(!le.includes(rt=be[Q]))return!1;var It=q[rt],Dt=V[rt];if(zo(It)&&zo(Dt)){if(!gn(It,Dt))return!1}else if(It!==Dt)return!1}for(var wt=0,Gn=le;wt<Gn.length;wt++){var rt;if(!J.includes(rt=Gn[wt]))return!1}return!0}function zo(q){return null!==q&&"object"==typeof q}function Dr(q){for(var V=[],J=function(Dt,wt){Array.isArray(wt)?wt.forEach(function(Gn){V.push(encodeURIComponent(Dt)+"="+encodeURIComponent(Gn))}):V.push(encodeURIComponent(Dt)+"="+encodeURIComponent(wt))},le=0,Q=Object.entries(q);le<Q.length;le++){var be=Q[le];J(be[0],be[1])}return V.length?"&"+V.join("&"):""}function nr(q){var V={};return q.replace(/^\?/,"").split("&").forEach(function(le){if(le){var Q=le.split("="),rt=Q[1];V[decodeURIComponent(Q[0])]=decodeURIComponent(rt)}}),V}function qr(q){var V=q.indexOf("?");if(!V)return"";var J=q.indexOf("#",V);return q.substring(V,J>0?J:void 0)}function fi(q,V){var J=new pi(q,V);return J.subscribe.bind(J)}!function(){function q(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}q.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},q.prototype.compress_=function(V,J){J||(J=0);var le=this.W_;if("string"==typeof V)for(var Q=0;Q<16;Q++)le[Q]=V.charCodeAt(J)<<24|V.charCodeAt(J+1)<<16|V.charCodeAt(J+2)<<8|V.charCodeAt(J+3),J+=4;else for(Q=0;Q<16;Q++)le[Q]=V[J]<<24|V[J+1]<<16|V[J+2]<<8|V[J+3],J+=4;for(Q=16;Q<80;Q++)le[Q]=4294967295&((be=le[Q-3]^le[Q-8]^le[Q-14]^le[Q-16])<<1|be>>>31);var se,$,rt=this.chain_[0],It=this.chain_[1],Dt=this.chain_[2],wt=this.chain_[3],Gn=this.chain_[4];for(Q=0;Q<80;Q++){Q<40?Q<20?(se=wt^It&(Dt^wt),$=1518500249):(se=It^Dt^wt,$=1859775393):Q<60?(se=It&Dt|wt&(It|Dt),$=2400959708):(se=It^Dt^wt,$=3395469782);var be=(rt<<5|rt>>>27)+se+Gn+$+le[Q]&4294967295;Gn=wt,wt=Dt,Dt=4294967295&(It<<30|It>>>2),It=rt,rt=be}this.chain_[0]=this.chain_[0]+rt&4294967295,this.chain_[1]=this.chain_[1]+It&4294967295,this.chain_[2]=this.chain_[2]+Dt&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+Gn&4294967295},q.prototype.update=function(V,J){if(null!=V){void 0===J&&(J=V.length);for(var le=J-this.blockSize,Q=0,be=this.buf_,rt=this.inbuf_;Q<J;){if(0===rt)for(;Q<=le;)this.compress_(V,Q),Q+=this.blockSize;if("string"==typeof V){for(;Q<J;)if(be[rt]=V.charCodeAt(Q),++Q,++rt===this.blockSize){this.compress_(be),rt=0;break}}else for(;Q<J;)if(be[rt]=V[Q],++Q,++rt===this.blockSize){this.compress_(be),rt=0;break}}this.inbuf_=rt,this.total_+=J}},q.prototype.digest=function(){var V=[],J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&J,J/=256;this.compress_(this.buf_);var Q=0;for(le=0;le<5;le++)for(var be=24;be>=0;be-=8)V[Q]=this.chain_[le]>>be&255,++Q;return V}}();var pi=function(){function q(V,J){var le=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(function(){V(le)}).catch(function(Q){le.error(Q)})}return q.prototype.next=function(V){this.forEachObserver(function(J){J.next(V)})},q.prototype.error=function(V){this.forEachObserver(function(J){J.error(V)}),this.close(V)},q.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},q.prototype.subscribe=function(V,J,le){var be,Q=this;if(void 0===V&&void 0===J&&void 0===le)throw new Error("Missing Observer.");void 0===(be=function(q,V){if("object"!=typeof q||null===q)return!1;for(var J=0,le=["next","error","complete"];J<le.length;J++){var Q=le[J];if(Q in q&&"function"==typeof q[Q])return!0}return!1}(V)?V:{next:V,error:J,complete:le}).next&&(be.next=Ni),void 0===be.error&&(be.error=Ni),void 0===be.complete&&(be.complete=Ni);var rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Q.finalError?be.error(Q.finalError):be.complete()}catch(It){}}),this.observers.push(be),rt},q.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},q.prototype.forEachObserver=function(V){if(!this.finalized)for(var J=0;J<this.observers.length;J++)this.sendOne(J,V)},q.prototype.sendOne=function(V,J){var le=this;this.task.then(function(){if(void 0!==le.observers&&void 0!==le.observers[V])try{J(le.observers[V])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})},q.prototype.close=function(V){var J=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){J.observers=void 0,J.onNoObservers=void 0}))},q}();function Ni(){}function un(q){return q&&q._delegate?q._delegate:q}},7841:(Ye,Te,k)=>{"use strict";k.d(Te,{Z:()=>f.Z});var f=k(4486);f.Z.registerVersion("firebase","9.0.1","app-compat")},4828:(Ye,Te,k)=>{"use strict";k.r(Te);var f=k(8239),H=k(4486),F=k(5676),ie=k(4685),we=(k(5452),k(300),k(6034));function ge(){return window}function B(){return(B=(0,f.Z)(function*(se,$,W){var Ie;const{BuildInfo:je}=ge();(0,F.ap)($.sessionId,"AuthEvent did not contain a session ID");const at=yield ke($.sessionId),Tt={};return(0,F.aq)()?Tt.ibi=je.packageName:(0,F.ar)()?Tt.apn=je.packageName:(0,F.as)(se,"operation-not-supported-in-this-environment"),je.displayName&&(Tt.appDisplayName=je.displayName),Tt.sessionId=at,(0,F.at)(se,W,$.type,void 0,null!==(Ie=$.eventId)&&void 0!==Ie?Ie:void 0,Tt)})).apply(this,arguments)}function j(){return(j=(0,f.Z)(function*(se){const{BuildInfo:$}=ge(),W={};(0,F.aq)()?W.iosBundleId=$.packageName:(0,F.ar)()?W.androidPackageName=$.packageName:(0,F.as)(se,"operation-not-supported-in-this-environment"),yield(0,F.au)(se,W)})).apply(this,arguments)}function oe(){return(oe=(0,f.Z)(function*(se,$,W){const{cordova:Ie}=ge();let je=()=>{};try{yield new Promise((at,Tt)=>{let St=null;function Pn(){var Lt;at();const gi=null===(Lt=Ie.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof gi&&gi(),"function"==typeof(null==W?void 0:W.close)&&W.close()}function rr(){St||(St=window.setTimeout(()=>{Tt((0,F.av)(se,"redirect-cancelled-by-user"))},2e3))}function ir(){"visible"===(null==document?void 0:document.visibilityState)&&rr()}$.addPassiveListener(Pn),document.addEventListener("resume",rr,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",ir,!1),je=()=>{$.removePassiveListener(Pn),document.removeEventListener("resume",rr,!1),document.removeEventListener("visibilitychange",ir,!1),St&&window.clearTimeout(St)}})}finally{je()}})).apply(this,arguments)}function ke(se){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,f.Z)(function*(se){const $=Se(se),W=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(W)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Se(se){if((0,F.ap)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(se);const $=new ArrayBuffer(se.length),W=new Uint8Array($);for(let Ie=0;Ie<se.length;Ie++)W[Ie]=se.charCodeAt(Ie);return W}class Ge extends F.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(W=>W($)),super.onEvent($)}initialized(){var $=this;return(0,f.Z)(function*(){yield $.initPromise})()}}function At(se){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(se){const $=yield he()._get(me(se));return $&&(yield he()._remove(me(se))),$})).apply(this,arguments)}function ye(){const se=[],$="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let W=0;W<20;W++){const Ie=Math.floor(Math.random()*$.length);se.push($.charAt(Ie))}return se.join("")}function he(){return(0,F.ax)(F.b)}function me(se){return(0,F.ay)("authEvent",se.config.apiKey,se.name)}function Fe(se){if(!(null==se?void 0:se.includes("?")))return{};const[$,...W]=se.split("?");return(0,ie.zd)(W.join("?"))}function gt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.av)("no-auth-event")}}function Kt(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function $n(se=(0,ie.z$)()){return!("file:"!==Kt()&&"ionic:"!==Kt()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dr(){try{const se=self.localStorage,$=F.aG();if(se)return se.setItem($,"1"),se.removeItem($),!function(se=(0,ie.z$)()){return(0,ie.w1)()&&11===(null==document?void 0:document.documentMode)||function(se=(0,ie.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,ie.hl)()}catch(se){return nr()&&(0,ie.hl)()}return!1}function nr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function qr(){return("http:"===Kt()||"https:"===Kt()||(0,ie.ru)()||$n())&&!((0,ie.b$)()||(0,ie.UG)())&&Dr()&&!nr()}function ro(){return $n()&&"undefined"!=typeof document}function pi(){return(pi=(0,f.Z)(function*(){return!!ro()&&new Promise(se=>{const $=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),se(!0)})})})).apply(this,arguments)}const kt={LOCAL:"local",NONE:"none",SESSION:"session"},qn=F.aw,Ni="persistence";function Ne(se){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,f.Z)(function*(se){yield se._initializationPromise;const $=mn(),W=F.ay(Ni,se.config.apiKey,se.name);(null==$?void 0:$.sessionStorage)&&$.sessionStorage.setItem(W,se._getPersistence())})).apply(this,arguments)}function mn(){return"undefined"!=typeof window?window:null}const bt=F.aw;class $e{constructor(){this.browserResolver=F.ax(F.k),this.cordovaResolver=F.ax(class{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aA}_initialize($){var W=this;return(0,f.Z)(function*(){const Ie=$._key();let je=W.eventManagers.get(Ie);return je||(je=new Ge($),W.eventManagers.set(Ie,je),W.attachCallbackListeners($,je)),je})()}_openPopup($){(0,F.as)($,"operation-not-supported-in-this-environment")}_openRedirect($,W,Ie,je){var at=this;return(0,f.Z)(function*(){!function(se){var $,W,Ie,je,at,Tt,St,Pn,rr,ir;const Lt=ge();(0,F.aw)("function"==typeof(null===($=null==Lt?void 0:Lt.universalLinks)||void 0===$?void 0:$.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aw)(void 0!==(null===(W=null==Lt?void 0:Lt.BuildInfo)||void 0===W?void 0:W.packageName),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aw)("function"==typeof(null===(at=null===(je=null===(Ie=null==Lt?void 0:Lt.cordova)||void 0===Ie?void 0:Ie.plugins)||void 0===je?void 0:je.browsertab)||void 0===at?void 0:at.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aw)("function"==typeof(null===(Pn=null===(St=null===(Tt=null==Lt?void 0:Lt.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===St?void 0:St.browsertab)||void 0===Pn?void 0:Pn.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aw)("function"==typeof(null===(ir=null===(rr=null==Lt?void 0:Lt.cordova)||void 0===rr?void 0:rr.InAppBrowser)||void 0===ir?void 0:ir.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const Tt=yield at._initialize($);yield Tt.initialized(),Tt.resetRedirect(),(0,F.aB)(),yield at._originValidation($);const St=function(se,$,W=null){return{type:$,eventId:W,urlResponse:null,sessionId:ye(),postBody:null,tenantId:se.tenantId,error:(0,F.av)(se,"no-auth-event")}}($,Ie,je);yield function(se,$){return he()._set(me(se),$)}($,St);const Pn=yield function(se,$,W){return B.apply(this,arguments)}($,St,W),rr=yield function(se){const{cordova:$}=ge();return new Promise(W=>{$.plugins.browsertab.isAvailable(Ie=>{let je=null;Ie?$.plugins.browsertab.openUrl(se):je=$.InAppBrowser.open(se,(0,F.ao)()?"_blank":"_system","location=yes"),W(je)})})}(Pn);return function(se,$,W){return oe.apply(this,arguments)}($,Tt,rr)})()}_isIframeWebStorageSupported($,W){throw new Error("Method not implemented.")}_originValidation($){const W=$._key();return this.originValidationPromises[W]||(this.originValidationPromises[W]=function(se){return j.apply(this,arguments)}($)),this.originValidationPromises[W]}attachCallbackListeners($,W){const{universalLinks:Ie,handleOpenURL:je,BuildInfo:at}=ge(),Tt=setTimeout((0,f.Z)(function*(){yield At($),W.onEvent(gt())}),500),St=function(){var ir=(0,f.Z)(function*(Lt){clearTimeout(Tt);const gi=yield At($);let kn=null;gi&&(null==Lt?void 0:Lt.url)&&(kn=function(se,$){var W,Ie;const je=function(se){const $=Fe(se),W=$.link?decodeURIComponent($.link):void 0,Ie=Fe(W).link,je=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return Fe(je).link||je||Ie||W||se}($);if(je.includes("/__/auth/callback")){const at=Fe(je),Tt=at.firebaseError?function(se){try{return JSON.parse(se)}catch($){return null}}(decodeURIComponent(at.firebaseError)):null,St=null===(Ie=null===(W=null==Tt?void 0:Tt.code)||void 0===W?void 0:W.split("auth/"))||void 0===Ie?void 0:Ie[1],Pn=St?(0,F.av)(St):null;return Pn?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:Pn,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:je,postBody:null}}return null}(gi,Lt.url)),W.onEvent(kn||gt())});return function(gi){return ir.apply(this,arguments)}}();void 0!==Ie&&"function"==typeof Ie.subscribe&&Ie.subscribe(null,St);const Pn=je,rr=`${at.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var ir=(0,f.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(rr)&&St({url:Lt}),"function"==typeof Pn)try{Pn(Lt)}catch(gi){console.error(gi)}});return function(Lt){return ir.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aA}_initialize($){var W=this;return(0,f.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._initialize($)})()}_openPopup($,W,Ie,je){var at=this;return(0,f.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup($,W,Ie,je)})()}_openRedirect($,W,Ie,je){var at=this;return(0,f.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect($,W,Ie,je)})()}_isIframeWebStorageSupported($,W){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,W)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return ro()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,f.Z)(function*(){if($.underlyingResolver)return;const W=yield function(){return pi.apply(this,arguments)}();$.underlyingResolver=W?$.cordovaResolver:$.browserResolver})()}}function Ke(se){return se.unwrap()}function Ps(se){return rn(se)}function gr(se,$){var W;const Ie=null===(W=$.customData)||void 0===W?void 0:W._tokenResponse;if("auth/multi-factor-auth-required"===$.code)$.resolver=new V(se,F.am(se,$));else if(Ie){const je=rn($),at=$;je&&(at.credential=je,at.tenantId=Ie.tenantId||void 0,at.email=Ie.email||void 0,at.phoneNumber=Ie.phoneNumber||void 0)}}function rn(se){const{_tokenResponse:$}=se instanceof ie.ZR?se.customData:se;if(!$)return null;if(!(se instanceof ie.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return F.P.credentialFromResult(se);const W=$.providerId;if(!W||W===F.o.PASSWORD)return null;let Ie;switch(W){case F.o.GOOGLE:Ie=F.N;break;case F.o.FACEBOOK:Ie=F.M;break;case F.o.GITHUB:Ie=F.Q;break;case F.o.TWITTER:Ie=F.V;break;default:const{oauthIdToken:je,oauthAccessToken:at,oauthTokenSecret:Tt,pendingToken:St,nonce:Pn}=$;return at||Tt||je||St?St?W.startsWith("saml.")?F.aJ._create(W,St):F.I._fromParams({providerId:W,signInMethod:W,pendingToken:St,idToken:je,accessToken:at}):new F.T(W).credential({idToken:je,accessToken:at,rawNonce:Pn}):null}return se instanceof ie.ZR?Ie.credentialFromError(se):Ie.credentialFromResult(se)}function sn(se,$){return us.apply(this,arguments)}function us(){return(us=(0,f.Z)(function*(se,$){let W;try{W=yield $}catch(at){throw at instanceof ie.ZR&&gr(se,at),at}const{operationType:Ie,user:je}=W;return{operationType:Ie,credential:Ps(W),additionalUserInfo:F.ak(W),user:J.getOrCreate(je)}})).apply(this,arguments)}function un(se,$){return q.apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(se,$){const W=yield $;return{verificationId:W.verificationId,confirm:Ie=>sn(se,W.confirm(Ie))}})).apply(this,arguments)}class V{constructor($,W){this.resolver=W,this.auth=$.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return sn(Ke(this.auth),this.resolver.resolveSignIn($))}}class J{constructor($){this._delegate=$,this.multiFactor=F.an($)}static getOrCreate($){return J.USER_MAP.has($)||J.USER_MAP.set($,new J($)),J.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var W=this;return(0,f.Z)(function*(){return sn(W.auth,F.Y(W._delegate,$))})()}linkWithPhoneNumber($,W){var Ie=this;return(0,f.Z)(function*(){return un(Ie.auth,F.l(Ie._delegate,$,W))})()}linkWithPopup($){var W=this;return(0,f.Z)(function*(){return sn(W.auth,F.d(W._delegate,$,$e))})()}linkWithRedirect($){var W=this;return(0,f.Z)(function*(){return yield Ne(F.aC(W.auth)),F.g(W._delegate,$,$e)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var W=this;return(0,f.Z)(function*(){return sn(W.auth,F.Z(W._delegate,$))})()}reauthenticateWithPhoneNumber($,W){return un(this.auth,F.r(this._delegate,$,W))}reauthenticateWithPopup($){return sn(this.auth,F.e(this._delegate,$,$e))}reauthenticateWithRedirect($){var W=this;return(0,f.Z)(function*(){return yield Ne(F.aC(W.auth)),F.h(W._delegate,$,$e)})()}sendEmailVerification($){return F.aa(this._delegate,$)}unlink($){var W=this;return(0,f.Z)(function*(){return yield F.aj(W._delegate,$),W})()}updateEmail($){return F.af(this._delegate,$)}updatePassword($){return F.ag(this._delegate,$)}updatePhoneNumber($){return F.u(this._delegate,$)}updateProfile($){return F.ae(this._delegate,$)}verifyBeforeUpdateEmail($,W){return F.ab(this._delegate,$,W)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}J.USER_MAP=new WeakMap;const le=F.aw;let Q=(()=>{class se{constructor(W,Ie){if(this.app=W,Ie.isInitialized())return this._delegate=Ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=W.options;le(je,"invalid-api-key",{appName:W.name});let at=[F.K];if("undefined"!=typeof window){at=function(se,$){const W=mn();if(!(null==W?void 0:W.sessionStorage))return[];const Ie=F.ay(Ni,se,$);switch(W.sessionStorage.getItem(Ie)){case kt.NONE:return[F.K];case kt.LOCAL:return[F.i,F.a];case kt.SESSION:return[F.a];default:return[]}}(je,W.name);for(const St of[F.i,F.b,F.a])at.includes(St)||at.push(St)}le(je,"invalid-api-key",{appName:W.name});const Tt="undefined"!=typeof window?$e:void 0;this._delegate=Ie.initialize({options:{persistence:at,popupRedirectResolver:Tt}}),this._delegate._updateErrorMap(F.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?J.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(W){this._delegate.languageCode=W}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(W){this._delegate.tenantId=W}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(W,Ie){F.E(this._delegate,W,Ie)}applyActionCode(W){return F.a1(this._delegate,W)}checkActionCode(W){return F.a2(this._delegate,W)}confirmPasswordReset(W,Ie){return F.a0(this._delegate,W,Ie)}createUserWithEmailAndPassword(W,Ie){var je=this;return(0,f.Z)(function*(){return sn(je._delegate,F.a4(je._delegate,W,Ie))})()}fetchProvidersForEmail(W){return this.fetchSignInMethodsForEmail(W)}fetchSignInMethodsForEmail(W){return F.a9(this._delegate,W)}isSignInWithEmailLink(W){return F.a7(this._delegate,W)}getRedirectResult(){var W=this;return(0,f.Z)(function*(){le(qr(),W._delegate,"operation-not-supported-in-this-environment");const Ie=yield F.j(W._delegate,$e);return Ie?sn(W._delegate,Promise.resolve(Ie)):{credential:null,user:null}})()}addFrameworkForLogging(W){!function(se,$){(0,F.aC)(se)._logFramework($)}(this._delegate,W)}onAuthStateChanged(W,Ie,je){const{next:at,error:Tt,complete:St}=be(W,Ie,je);return this._delegate.onAuthStateChanged(at,Tt,St)}onIdTokenChanged(W,Ie,je){const{next:at,error:Tt,complete:St}=be(W,Ie,je);return this._delegate.onIdTokenChanged(at,Tt,St)}sendSignInLinkToEmail(W,Ie){return F.a6(this._delegate,W,Ie)}sendPasswordResetEmail(W,Ie){return F.$(this._delegate,W,Ie||void 0)}setPersistence(W){var Ie=this;return(0,f.Z)(function*(){let je;switch(function(se,$){qn(Object.values(kt).includes($),se,"invalid-persistence-type"),(0,ie.b$)()?qn($!==kt.SESSION,se,"unsupported-persistence-type"):(0,ie.UG)()?qn($===kt.NONE,se,"unsupported-persistence-type"):nr()?qn($===kt.NONE||$===kt.LOCAL&&(0,ie.hl)(),se,"unsupported-persistence-type"):qn($===kt.NONE||Dr(),se,"unsupported-persistence-type")}(Ie._delegate,W),W){case kt.SESSION:je=F.a;break;case kt.LOCAL:je=(yield F.ax(F.i)._isAvailable())?F.i:F.b;break;case kt.NONE:je=F.K;break;default:return F.as("argument-error",{appName:Ie._delegate.name})}return Ie._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(W){return this.signInWithCredential(W)}signInAnonymously(){return sn(this._delegate,F.W(this._delegate))}signInWithCredential(W){return sn(this._delegate,F.X(this._delegate,W))}signInWithCustomToken(W){return sn(this._delegate,F._(this._delegate,W))}signInWithEmailAndPassword(W,Ie){return sn(this._delegate,F.a5(this._delegate,W,Ie))}signInWithEmailLink(W,Ie){return sn(this._delegate,F.a8(this._delegate,W,Ie))}signInWithPhoneNumber(W,Ie){return un(this._delegate,F.s(this._delegate,W,Ie))}signInWithPopup(W){var Ie=this;return(0,f.Z)(function*(){return le(qr(),Ie._delegate,"operation-not-supported-in-this-environment"),sn(Ie._delegate,F.c(Ie._delegate,W,$e))})()}signInWithRedirect(W){var Ie=this;return(0,f.Z)(function*(){return le(qr(),Ie._delegate,"operation-not-supported-in-this-environment"),yield Ne(Ie._delegate),F.f(Ie._delegate,W,$e)})()}updateCurrentUser(W){return this._delegate.updateCurrentUser(W)}verifyPasswordResetCode(W){return F.a3(this._delegate,W)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=kt,se})();function be(se,$,W){let Ie=se;"function"!=typeof se&&({next:Ie,error:$,complete:W}=se);const je=Ie;return{next:Tt=>je(Tt&&J.getOrCreate(Tt)),error:$,complete:W}}class rt{constructor(){this.providerId="phone",this._delegate=new F.P(Ke(H.Z.auth()))}static credential($,W){return F.P.credential($,W)}verifyPhoneNumber($,W){return this._delegate.verifyPhoneNumber($,W)}unwrap(){return this._delegate}}rt.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,rt.PROVIDER_ID=F.P.PROVIDER_ID;const It=F.aw;var se;(se=H.Z).INTERNAL.registerComponent(new we.wA("auth-compat",$=>{const W=$.getProvider("app-compat").getImmediate(),Ie=$.getProvider("auth");return new Q(W,Ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.L,FacebookAuthProvider:F.M,GithubAuthProvider:F.Q,GoogleAuthProvider:F.N,OAuthProvider:F.T,PhoneAuthProvider:rt,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:class{constructor($,W,Ie=H.Z.app()){var je;It(null===(je=Ie.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:Ie.name}),this._delegate=new F.R($,W,Ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:F.V,Auth:Q,AuthCredential:F.G,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.1.1")},7574:(Ye,Te,k)=>{"use strict";k.d(Te,{y:()=>B});var f=k(7393),F=k(9181),ie=k(6490),ce=k(6554),we=k(4487);var L=k(2494);let B=(()=>{class j{constructor(fe){this._isScalar=!1,fe&&(this._subscribe=fe)}lift(fe){const oe=new j;return oe.source=this,oe.operator=fe,oe}subscribe(fe,oe,ae){const{operator:ke}=this,Ae=function(j,z,fe){if(j){if(j instanceof f.L)return j;if(j[F.b])return j[F.b]()}return j||z||fe?new f.L(j,z,fe):new f.L(ie.c)}(fe,oe,ae);if(Ae.add(ke?ke.call(Ae,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),L.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(fe){try{return this._subscribe(fe)}catch(oe){L.v.useDeprecatedSynchronousErrorHandling&&(fe.syncErrorThrown=!0,fe.syncErrorValue=oe),function(j){for(;j;){const{closed:z,destination:fe,isStopped:oe}=j;if(z||oe)return!1;j=fe&&fe instanceof f.L?fe:null}return!0}(fe)?fe.error(oe):console.warn(oe)}}forEach(fe,oe){return new(oe=G(oe))((ae,ke)=>{let Ae;Ae=this.subscribe(Se=>{try{fe(Se)}catch(Ve){ke(Ve),Ae&&Ae.unsubscribe()}},ke,ae)})}_subscribe(fe){const{source:oe}=this;return oe&&oe.subscribe(fe)}[ce.L](){return this}pipe(...fe){return 0===fe.length?this:function(j){return 0===j.length?we.y:1===j.length?j[0]:function(fe){return j.reduce((oe,ae)=>ae(oe),fe)}}(fe)(this)}toPromise(fe){return new(fe=G(fe))((oe,ae)=>{let ke;this.subscribe(Ae=>ke=Ae,Ae=>ae(Ae),()=>oe(ke))})}}return j.create=z=>new j(z),j})();function G(j){if(j||(j=L.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},6490:(Ye,Te,k)=>{"use strict";k.d(Te,{c:()=>F});var f=k(2494),H=k(4449);const F={closed:!0,next(ie){},error(ie){if(f.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,H.z)(ie)},complete(){}}},9765:(Ye,Te,k)=>{"use strict";k.d(Te,{Yc:()=>we,xQ:()=>ge});var f=k(7574),H=k(7393),F=k(5319),ie=k(7971),ve=k(8858),ce=k(9181);class we extends H.L{constructor(B){super(B),this.destination=B}}let ge=(()=>{class L extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new we(this)}lift(G){const j=new K(this,this);return j.operator=G,j}next(G){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:j}=this,z=j.length,fe=j.slice();for(let oe=0;oe<z;oe++)fe[oe].next(G)}}error(G){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:j}=this,z=j.length,fe=j.slice();for(let oe=0;oe<z;oe++)fe[oe].error(G);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:G}=this,j=G.length,z=G.slice();for(let fe=0;fe<j;fe++)z[fe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new ie.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new ie.N;return this.hasError?(G.error(this.thrownError),F.w.EMPTY):this.isStopped?(G.complete(),F.w.EMPTY):(this.observers.push(G),new ve.W(this,G))}asObservable(){const G=new f.y;return G.source=this,G}}return L.create=(B,G)=>new K(B,G),L})();class K extends ge{constructor(B,G){super(),this.destination=B,this.source=G}next(B){const{destination:G}=this;G&&G.next&&G.next(B)}error(B){const{destination:G}=this;G&&G.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:G}=this;return G?this.source.subscribe(B):F.w.EMPTY}}},8858:(Ye,Te,k)=>{"use strict";k.d(Te,{W:()=>H});var f=k(5319);class H extends f.w{constructor(ie,ve){super(),this.subject=ie,this.subscriber=ve,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,ve=ie.observers;if(this.subject=null,!ve||0===ve.length||ie.isStopped||ie.closed)return;const ce=ve.indexOf(this.subscriber);-1!==ce&&ve.splice(ce,1)}}},7393:(Ye,Te,k)=>{"use strict";k.d(Te,{L:()=>we});var f=k(9105),H=k(6490),F=k(5319),ie=k(9181),ve=k(2494),ce=k(4449);class we extends F.w{constructor(L,B,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=H.c;break;case 1:if(!L){this.destination=H.c;break}if("object"==typeof L){L instanceof we?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new ge(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new ge(this,L,B,G)}}[ie.b](){return this}static create(L,B,G){const j=new we(L,B,G);return j.syncErrorThrowable=!1,j}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class ge extends we{constructor(L,B,G,j){super(),this._parentSubscriber=L;let z,fe=this;(0,f.m)(B)?z=B:B&&(z=B.next,G=B.error,j=B.complete,B!==H.c&&(fe=Object.create(B),(0,f.m)(fe.unsubscribe)&&this.add(fe.unsubscribe.bind(fe)),fe.unsubscribe=this.unsubscribe.bind(this))),this._context=fe,this._next=z,this._error=G,this._complete=j}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ve.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:G}=ve.v;if(this._error)G&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(B.syncErrorThrowable)G?(B.syncErrorValue=L,B.syncErrorThrown=!0):(0,ce.z)(L),this.unsubscribe();else{if(this.unsubscribe(),G)throw L;(0,ce.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const B=()=>this._complete.call(this._context);ve.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,B){try{L.call(this._context,B)}catch(G){if(this.unsubscribe(),ve.v.useDeprecatedSynchronousErrorHandling)throw G;(0,ce.z)(G)}}__tryOrSetError(L,B,G){if(!ve.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,G)}catch(j){return ve.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=j,L.syncErrorThrown=!0,!0):((0,ce.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(Ye,Te,k)=>{"use strict";k.d(Te,{w:()=>ce});var f=k(9796),H=k(1555),F=k(9105);const ve=(()=>{function ge(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((L,B)=>`${B+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return ge.prototype=Object.create(Error.prototype),ge})();class ce{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:B,_unsubscribe:G,_subscriptions:j}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ce)L.remove(this);else if(null!==L)for(let z=0;z<L.length;++z)L[z].remove(this);if((0,F.m)(G)){B&&(this._unsubscribe=void 0);try{G.call(this)}catch(z){K=z instanceof ve?we(z.errors):[z]}}if((0,f.k)(j)){let z=-1,fe=j.length;for(;++z<fe;){const oe=j[z];if((0,H.K)(oe))try{oe.unsubscribe()}catch(ae){K=K||[],ae instanceof ve?K=K.concat(we(ae.errors)):K.push(ae)}}}if(K)throw new ve(K)}add(K){let L=K;if(!K)return ce.EMPTY;switch(typeof K){case"function":L=new ce(K);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ce)){const j=L;L=new ce,L._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:B}=L;if(null===B)L._parentOrParents=this;else if(B instanceof ce){if(B===this)return L;L._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return L;B.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[L]:G.push(L),L}remove(K){const L=this._subscriptions;if(L){const B=L.indexOf(K);-1!==B&&L.splice(B,1)}}}var ge;function we(ge){return ge.reduce((K,L)=>K.concat(L instanceof ve?L.errors:L),[])}ce.EMPTY=((ge=new ce).closed=!0,ge)},2494:(Ye,Te,k)=>{"use strict";k.d(Te,{v:()=>H});let f=!1;const H={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=F},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(Ye,Te,k)=>{"use strict";k.d(Te,{IY:()=>ie,Ds:()=>ce,ft:()=>ge});var f=k(7393),H=k(7574),F=k(7444);class ie extends f.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends f.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function ge(K,L){if(L.closed)return;if(K instanceof H.y)return K.subscribe(L);let B;try{B=(0,F.s)(K)(L)}catch(G){L.error(G)}return B}},2441:(Ye,Te,k)=>{"use strict";k.d(Te,{c:()=>ve,N:()=>ce});var f=k(9765),H=k(7574),F=k(5319),ie=k(1307);class ve extends H.y{constructor(B,G){super(),this.source=B,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new F.w,B.add(this.source.subscribe(new we(this.getSubject(),this))),B.closed&&(this._connection=null,B=F.w.EMPTY)),B}refCount(){return(0,ie.x)()(this)}}const ce=(()=>{const L=ve.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class we extends f.Yc{constructor(B,G){super(B),this.connectable=G}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const G=B._connection;B._refCount=0,B._subject=null,B._connection=null,G&&G.unsubscribe()}}}},9193:(Ye,Te,k)=>{"use strict";k.d(Te,{E:()=>H,c:()=>F});var f=k(7574);const H=new f.y(ve=>ve.complete());function F(ve){return ve?function(ve){return new f.y(ce=>ve.schedule(()=>ce.complete()))}(ve):H}},4402:(Ye,Te,k)=>{"use strict";k.d(Te,{D:()=>fe});var f=k(7574),H=k(7444),F=k(5319),ie=k(6554),we=k(4087),ge=k(377),B=k(4072),G=k(9489);function fe(oe,ae){return ae?function(oe,ae){if(null!=oe){if(function(oe){return oe&&"function"==typeof oe[ie.L]}(oe))return function(oe,ae){return new f.y(ke=>{const Ae=new F.w;return Ae.add(ae.schedule(()=>{const Se=oe[ie.L]();Ae.add(Se.subscribe({next(Ve){Ae.add(ae.schedule(()=>ke.next(Ve)))},error(Ve){Ae.add(ae.schedule(()=>ke.error(Ve)))},complete(){Ae.add(ae.schedule(()=>ke.complete()))}}))})),Ae})}(oe,ae);if((0,B.t)(oe))return function(oe,ae){return new f.y(ke=>{const Ae=new F.w;return Ae.add(ae.schedule(()=>oe.then(Se=>{Ae.add(ae.schedule(()=>{ke.next(Se),Ae.add(ae.schedule(()=>ke.complete()))}))},Se=>{Ae.add(ae.schedule(()=>ke.error(Se)))}))),Ae})}(oe,ae);if((0,G.z)(oe))return(0,we.r)(oe,ae);if(function(oe){return oe&&"function"==typeof oe[ge.hZ]}(oe)||"string"==typeof oe)return function(oe,ae){if(!oe)throw new Error("Iterable cannot be null");return new f.y(ke=>{const Ae=new F.w;let Se;return Ae.add(()=>{Se&&"function"==typeof Se.return&&Se.return()}),Ae.add(ae.schedule(()=>{Se=oe[ge.hZ](),Ae.add(ae.schedule(function(){if(ke.closed)return;let Ve,Ge;try{const te=Se.next();Ve=te.value,Ge=te.done}catch(te){return void ke.error(te)}Ge?ke.complete():(ke.next(Ve),this.schedule())}))})),Ae})}(oe,ae)}throw new TypeError((null!==oe&&typeof oe||oe)+" is not observable")}(oe,ae):oe instanceof f.y?oe:new f.y((0,H.s)(oe))}},6693:(Ye,Te,k)=>{"use strict";k.d(Te,{n:()=>ie});var f=k(7574),H=k(5015),F=k(4087);function ie(ve,ce){return ce?(0,F.r)(ve,ce):new f.y((0,H.V)(ve))}},6682:(Ye,Te,k)=>{"use strict";k.d(Te,{T:()=>ve});var f=k(7574),H=k(4869),F=k(3282),ie=k(6693);function ve(...ce){let we=Number.POSITIVE_INFINITY,ge=null,K=ce[ce.length-1];return(0,H.K)(K)?(ge=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(we=ce.pop())):"number"==typeof K&&(we=ce.pop()),null===ge&&1===ce.length&&ce[0]instanceof f.y?ce[0]:(0,F.J)(we)((0,ie.n)(ce,ge))}},5917:(Ye,Te,k)=>{"use strict";k.d(Te,{of:()=>ie});var f=k(4869),H=k(6693),F=k(4087);function ie(...ve){let ce=ve[ve.length-1];return(0,f.K)(ce)?(ve.pop(),(0,F.r)(ve,ce)):(0,H.n)(ve)}},8002:(Ye,Te,k)=>{"use strict";k.d(Te,{U:()=>H});var f=k(7393);function H(ve,ce){return function(ge){if("function"!=typeof ve)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ge.lift(new F(ve,ce))}}class F{constructor(ce,we){this.project=ce,this.thisArg=we}call(ce,we){return we.subscribe(new ie(ce,this.project,this.thisArg))}}class ie extends f.L{constructor(ce,we,ge){super(ce),this.project=we,this.count=0,this.thisArg=ge||this}_next(ce){let we;try{we=this.project.call(this.thisArg,ce,this.count++)}catch(ge){return void this.destination.error(ge)}this.destination.next(we)}}},3282:(Ye,Te,k)=>{"use strict";k.d(Te,{J:()=>F});var f=k(9773),H=k(4487);function F(ie=Number.POSITIVE_INFINITY){return(0,f.zg)(H.y,ie)}},9773:(Ye,Te,k)=>{"use strict";k.d(Te,{zg:()=>ie});var f=k(8002),H=k(4402),F=k(5345);function ie(ge,K,L=Number.POSITIVE_INFINITY){return"function"==typeof K?B=>B.pipe(ie((G,j)=>(0,H.D)(ge(G,j)).pipe((0,f.U)((z,fe)=>K(G,z,j,fe))),L)):("number"==typeof K&&(L=K),B=>B.lift(new ve(ge,L)))}class ve{constructor(K,L=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=L}call(K,L){return L.subscribe(new ce(K,this.project,this.concurrent))}}class ce extends F.Ds{constructor(K,L,B=Number.POSITIVE_INFINITY){super(K),this.project=L,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let L;const B=this.index++;try{L=this.project(K,B)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(L)}_innerSub(K){const L=new F.IY(this),B=this.destination;B.add(L);const G=(0,F.ft)(K,L);G!==L&&B.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ye,Te,k)=>{"use strict";k.d(Te,{ht:()=>B,QV:()=>K});var f=k(7393),H=k(9193),F=k(5917),ie=k(7574);class ge{constructor(z,fe,oe){this.kind=z,this.value=fe,this.error=oe,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,fe,oe){switch(this.kind){case"N":return z&&z(this.value);case"E":return fe&&fe(this.error);case"C":return oe&&oe()}}accept(z,fe,oe){return z&&"function"==typeof z.next?this.observe(z):this.do(z,fe,oe)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return j=this.error,new ie.y(fe=>fe.error(j));case"C":return(0,H.c)()}var j;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new ge("N",z):ge.undefinedValueNotification}static createError(z){return new ge("E",void 0,z)}static createComplete(){return ge.completeNotification}}function K(j,z=0){return function(oe){return oe.lift(new L(j,z))}}ge.completeNotification=new ge("C"),ge.undefinedValueNotification=new ge("N",void 0);class L{constructor(z,fe=0){this.scheduler=z,this.delay=fe}call(z,fe){return fe.subscribe(new B(z,this.scheduler,this.delay))}}class B extends f.L{constructor(z,fe,oe=0){super(z),this.scheduler=fe,this.delay=oe}static dispatch(z){const{notification:fe,destination:oe}=z;fe.observe(oe),this.unsubscribe()}scheduleMessage(z){this.destination.add(this.scheduler.schedule(B.dispatch,this.delay,new G(z,this.destination)))}_next(z){this.scheduleMessage(ge.createNext(z))}_error(z){this.scheduleMessage(ge.createError(z)),this.unsubscribe()}_complete(){this.scheduleMessage(ge.createComplete()),this.unsubscribe()}}class G{constructor(z,fe){this.notification=z,this.destination=fe}}},1307:(Ye,Te,k)=>{"use strict";k.d(Te,{x:()=>H});var f=k(7393);function H(){return function(ce){return ce.lift(new F(ce))}}class F{constructor(ce){this.connectable=ce}call(ce,we){const{connectable:ge}=this;ge._refCount++;const K=new ie(ce,ge),L=we.subscribe(K);return K.closed||(K.connection=ge.connect()),L}}class ie extends f.L{constructor(ce,we){super(ce),this.connectable=we}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const we=ce._refCount;if(we<=0)return void(this.connection=null);if(ce._refCount=we-1,we>1)return void(this.connection=null);const{connection:ge}=this,K=ce._connection;this.connection=null,K&&(!ge||K===ge)&&K.unsubscribe()}}},3101:(Ye,Te,k)=>{"use strict";k.d(Te,{R:()=>ae});var f=k(7574);let H=1;const F=Promise.resolve(),ie={};function ve(Ae){return Ae in ie&&(delete ie[Ae],!0)}const ce={setImmediate(Ae){const Se=H++;return ie[Se]=!0,F.then(()=>ve(Se)&&Ae()),Se},clearImmediate(Ae){ve(Ae)}};var ge=k(6465),L=k(6102);const j=new class extends L.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:Ve}=this;let Ge,te=-1,it=Ve.length;Se=Se||Ve.shift();do{if(Ge=Se.execute(Se.state,Se.delay))break}while(++te<it&&(Se=Ve.shift()));if(this.active=!1,Ge){for(;++te<it&&(Se=Ve.shift());)Se.unsubscribe();throw Ge}}}(class extends ge.o{constructor(Se,Ve){super(Se,Ve),this.scheduler=Se,this.work=Ve}requestAsyncId(Se,Ve,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId(Se,Ve,Ge):(Se.actions.push(this),Se.scheduled||(Se.scheduled=ce.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,Ve,Ge=0){if(null!==Ge&&Ge>0||null===Ge&&this.delay>0)return super.recycleAsyncId(Se,Ve,Ge);0===Se.actions.length&&(ce.clearImmediate(Ve),Se.scheduled=void 0)}});var z=k(9796);class oe extends f.y{constructor(Se,Ve=0,Ge=j){var Ae;super(),this.source=Se,this.delayTime=Ve,this.scheduler=Ge,(!(!(0,z.k)(Ae=Ve)&&Ae-parseFloat(Ae)+1>=0)||Ve<0)&&(this.delayTime=0),(!Ge||"function"!=typeof Ge.schedule)&&(this.scheduler=j)}static create(Se,Ve=0,Ge=j){return new oe(Se,Ve,Ge)}static dispatch(Se){const{source:Ve,subscriber:Ge}=Se;return this.add(Ve.subscribe(Ge))}_subscribe(Se){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function ae(Ae,Se=0){return function(Ge){return Ge.lift(new ke(Ae,Se))}}class ke{constructor(Se,Ve){this.scheduler=Se,this.delay=Ve}call(Se,Ve){return new oe(Ve,this.delay,this.scheduler).subscribe(Se)}}},3342:(Ye,Te,k)=>{"use strict";k.d(Te,{b:()=>ie});var f=k(7393);function H(){}var F=k(9105);function ie(we,ge,K){return function(B){return B.lift(new ve(we,ge,K))}}class ve{constructor(ge,K,L){this.nextOrObserver=ge,this.error=K,this.complete=L}call(ge,K){return K.subscribe(new ce(ge,this.nextOrObserver,this.error,this.complete))}}class ce extends f.L{constructor(ge,K,L,B){super(ge),this._tapNext=H,this._tapError=H,this._tapComplete=H,this._tapError=L||H,this._tapComplete=B||H,(0,F.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||H,this._tapError=K.error||H,this._tapComplete=K.complete||H)}_next(ge){try{this._tapNext.call(this._context,ge)}catch(K){return void this.destination.error(K)}this.destination.next(ge)}_error(ge){try{this._tapError.call(this._context,ge)}catch(K){return void this.destination.error(K)}this.destination.error(ge)}_complete(){try{this._tapComplete.call(this._context)}catch(ge){return void this.destination.error(ge)}return this.destination.complete()}}},4087:(Ye,Te,k)=>{"use strict";k.d(Te,{r:()=>F});var f=k(7574),H=k(5319);function F(ie,ve){return new f.y(ce=>{const we=new H.w;let ge=0;return we.add(ve.schedule(function(){ge!==ie.length?(ce.next(ie[ge++]),ce.closed||we.add(this.schedule())):ce.complete()})),we})}},6465:(Ye,Te,k)=>{"use strict";k.d(Te,{o:()=>F});var f=k(5319);class H extends f.w{constructor(ve,ce){super()}schedule(ve,ce=0){return this}}class F extends H{constructor(ve,ce){super(ve,ce),this.scheduler=ve,this.work=ce,this.pending=!1}schedule(ve,ce=0){if(this.closed)return this;this.state=ve;const we=this.id,ge=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(ge,we,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(ge,this.id,ce),this}requestAsyncId(ve,ce,we=0){return setInterval(ve.flush.bind(ve,this),we)}recycleAsyncId(ve,ce,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return ce;clearInterval(ce)}execute(ve,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ve,ce);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,ce){let ge,we=!1;try{this.work(ve)}catch(K){we=!0,ge=!!K&&K||new Error(K)}if(we)return this.unsubscribe(),ge}_unsubscribe(){const ve=this.id,ce=this.scheduler,we=ce.actions,ge=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ge&&we.splice(ge,1),null!=ve&&(this.id=this.recycleAsyncId(ce,ve,null)),this.delay=null}}},6102:(Ye,Te,k)=>{"use strict";k.d(Te,{v:()=>H});let f=(()=>{class F{constructor(ve,ce=F.now){this.SchedulerAction=ve,this.now=ce}schedule(ve,ce=0,we){return new this.SchedulerAction(this,ve).schedule(we,ce)}}return F.now=()=>Date.now(),F})();class H extends f{constructor(ie,ve=f.now){super(ie,()=>H.delegate&&H.delegate!==this?H.delegate.now():ve()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,ve=0,ce){return H.delegate&&H.delegate!==this?H.delegate.schedule(ie,ve,ce):super.schedule(ie,ve,ce)}flush(ie){const{actions:ve}=this;if(this.active)return void ve.push(ie);let ce;this.active=!0;do{if(ce=ie.execute(ie.state,ie.delay))break}while(ie=ve.shift());if(this.active=!1,ce){for(;ie=ve.shift();)ie.unsubscribe();throw ce}}}},3637:(Ye,Te,k)=>{"use strict";k.d(Te,{z:()=>F});var f=k(6465);const F=new(k(6102).v)(f.o)},7771:(Ye,Te,k)=>{"use strict";k.d(Te,{c:()=>ce,N:()=>ve});var f=k(6465),F=k(6102);const ve=new class extends F.v{}(class extends f.o{constructor(ge,K){super(ge,K),this.scheduler=ge,this.work=K}schedule(ge,K=0){return K>0?super.schedule(ge,K):(this.delay=K,this.state=ge,this.scheduler.flush(this),this)}execute(ge,K){return K>0||this.closed?super.execute(ge,K):this._execute(ge,K)}requestAsyncId(ge,K,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(ge,K,L):ge.flush(this)}}),ce=ve},377:(Ye,Te,k)=>{"use strict";k.d(Te,{hZ:()=>H});const H="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,Te,k)=>{"use strict";k.d(Te,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,Te,k)=>{"use strict";k.d(Te,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,Te,k)=>{"use strict";k.d(Te,{N:()=>H});const H=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(Ye,Te,k)=>{"use strict";function f(H){setTimeout(()=>{throw H},0)}k.d(Te,{z:()=>f})},4487:(Ye,Te,k)=>{"use strict";function f(H){return H}k.d(Te,{y:()=>f})},9796:(Ye,Te,k)=>{"use strict";k.d(Te,{k:()=>f});const f=Array.isArray||(H=>H&&"number"==typeof H.length)},9489:(Ye,Te,k)=>{"use strict";k.d(Te,{z:()=>f});const f=H=>H&&"number"==typeof H.length&&"function"!=typeof H},9105:(Ye,Te,k)=>{"use strict";function f(H){return"function"==typeof H}k.d(Te,{m:()=>f})},1555:(Ye,Te,k)=>{"use strict";function f(H){return null!==H&&"object"==typeof H}k.d(Te,{K:()=>f})},4072:(Ye,Te,k)=>{"use strict";function f(H){return!!H&&"function"!=typeof H.subscribe&&"function"==typeof H.then}k.d(Te,{t:()=>f})},4869:(Ye,Te,k)=>{"use strict";function f(H){return H&&"function"==typeof H.schedule}k.d(Te,{K:()=>f})},7444:(Ye,Te,k)=>{"use strict";k.d(Te,{s:()=>B});var f=k(5015),H=k(4449),ie=k(377),ce=k(6554),ge=k(9489),K=k(4072),L=k(1555);const B=G=>{if(G&&"function"==typeof G[ce.L])return(G=>j=>{const z=G[ce.L]();if("function"!=typeof z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return z.subscribe(j)})(G);if((0,ge.z)(G))return(0,f.V)(G);if((0,K.t)(G))return(G=>j=>(G.then(z=>{j.closed||(j.next(z),j.complete())},z=>j.error(z)).then(null,H.z),j))(G);if(G&&"function"==typeof G[ie.hZ])return(G=>j=>{const z=G[ie.hZ]();for(;;){let fe;try{fe=z.next()}catch(oe){return j.error(oe),j}if(fe.done){j.complete();break}if(j.next(fe.value),j.closed)break}return"function"==typeof z.return&&j.add(()=>{z.return&&z.return()}),j})(G);{const z=`You provided ${(0,L.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(z)}}},5015:(Ye,Te,k)=>{"use strict";k.d(Te,{V:()=>f});const f=H=>F=>{for(let ie=0,ve=H.length;ie<ve&&!F.closed;ie++)F.next(H[ie]);F.complete()}},2450:(Ye,Te,k)=>{"use strict";var f=k(3018);let H=null;function F(){return H}const we=new f.OlP("DocumentToken");let ge=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,f.Yz7)({factory:K,token:i,providedIn:"platform"}),i})();function K(){return(0,f.LFG)(B)}const L=new f.OlP("Location Initialized");let B=(()=>{class i extends ge{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(r){const a=F().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=F().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,l){G()?this._history.pushState(r,a,l):this.location.hash=l}replaceState(r,a,l){G()?this._history.replaceState(r,a,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(we))},i.\u0275prov=(0,f.Yz7)({factory:j,token:i,providedIn:"platform"}),i})();function G(){return!!window.history.pushState}function j(){return new B((0,f.LFG)(we))}function z(i,e){if(0==i.length)return e;if(0==e.length)return i;let r=0;return i.endsWith("/")&&r++,e.startsWith("/")&&r++,2==r?i+e.substring(1):1==r?i+e:i+"/"+e}function fe(i){const e=i.match(/#|\?|$/),r=e&&e.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function oe(i){return i&&"?"!==i[0]?"?"+i:i}let ae=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,f.Yz7)({factory:ke,token:i,providedIn:"root"}),i})();function ke(i){const e=(0,f.LFG)(we).location;return new Se((0,f.LFG)(ge),e&&e.origin||"")}const Ae=new f.OlP("appBaseHref");let Se=(()=>{class i extends ae{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return z(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+oe(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${a}${l}`:a}pushState(r,a,l,h){const m=this.prepareExternalUrl(l+oe(h));this._platformLocation.pushState(r,a,m)}replaceState(r,a,l,h){const m=this.prepareExternalUrl(l+oe(h));this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ge),f.LFG(Ae,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Ve=(()=>{class i extends ae{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=z(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,l,h){let m=this.prepareExternalUrl(l+oe(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,a,m)}replaceState(r,a,l,h){let m=this.prepareExternalUrl(l+oe(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ge),f.LFG(Ae,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Ge=(()=>{class i{constructor(r,a){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=fe(At(l)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+oe(a))}normalize(r){return i.stripTrailingSlash(function(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,At(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",l=null){this._platformStrategy.pushState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+oe(a)),l)}replaceState(r,a="",l=null){this._platformStrategy.replaceState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+oe(a)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformStrategy).historyGo)||void 0===l||l.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(l=>l(r,a))}subscribe(r,a,l){return this._subject.subscribe({next:r,error:a,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ae),f.LFG(ge))},i.normalizeQueryParams=oe,i.joinWithSlash=z,i.stripTrailingSlash=fe,i.\u0275prov=(0,f.Yz7)({factory:te,token:i,providedIn:"root"}),i})();function te(){return new Ge((0,f.LFG)(ae),(0,f.LFG)(ge))}function At(i){return i.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Zero=0]="Zero",ye[ye.One=1]="One",ye[ye.Two=2]="Two",ye[ye.Few=3]="Few",ye[ye.Many=4]="Many",ye[ye.Other=5]="Other",ye))();const nr=f.kL8;class mi{}let Ja=(()=>{class i extends mi{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(nr(a||this.locale)(r)){case ye.Zero:return"zero";case ye.One:return"one";case ye.Two:return"two";case ye.Few:return"few";case ye.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.soG))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class Xa{constructor(e,r,a,l){this.$implicit=e,this.ngForOf=r,this.index=a,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fs=(()=>{class i{constructor(r,a,l){this._viewContainer=r,this._template=a,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=[];r.forEachOperation((l,h,m)=>{if(null==l.previousIndex){const w=this._viewContainer.createEmbeddedView(this._template,new Xa(null,this._ngForOf,-1,-1),null===m?void 0:m),D=new sr(l,w);a.push(D)}else if(null==m)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const w=this._viewContainer.get(h);this._viewContainer.move(w,m);const D=new sr(l,w);a.push(D)}});for(let l=0;l<a.length;l++)this._perViewChange(a[l].view,a[l].record);for(let l=0,h=this._viewContainer.length;l<h;l++){const m=this._viewContainer.get(l);m.context.index=l,m.context.count=h,m.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,a){r.context.$implicit=a.item}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class sr{constructor(e,r){this.record=e,this.view=r}}let Zr=(()=>{class i{constructor(r,a){this._viewContainer=r,this._context=new yi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Yt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Yt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.s_b),f.Y36(f.Rgc))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class yi{constructor(){this.$implicit=null,this.ngIf=null}}function Yt(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Ip=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[{provide:mi,useClass:Ja}]}),i})();function Ed(i){return"server"===i}let Gl=(()=>{class i{}return i.\u0275prov=(0,f.Yz7)({token:i,providedIn:"root",factory:()=>new Gy((0,f.LFG)(we),window)}),i})();class Gy{constructor(e,r){this.document=e,this.window=r,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const r=function(i,e){const r=i.getElementById(e)||i.getElementsByName(e)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=a.currentNode;for(;l;){const h=l.shadowRoot;if(h){const m=h.getElementById(e)||h.querySelector(`[name="${e}"]`);if(m)return m}l=a.nextNode()}}return null}(this.document,e);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=e)}}scrollToElement(e){const r=e.getBoundingClientRect(),a=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(a-h[0],l-h[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xo(this.window.history)||Xo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Xo(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ea extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new ea,H||(H=i)}onAndCancel(e,r,a){return e.addEventListener(r,a,!1),()=>{e.removeEventListener(r,a,!1)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return(r=r||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return"window"===r?window:"document"===r?e:"body"===r?e.body:null}getBaseHref(e){const r=(uo=uo||document.querySelector("base"),uo?uo.getAttribute("href"):null);return null==r?null:function(i){iu=iu||document.createElement("a"),iu.setAttribute("href",i);const e=iu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(r)}resetBaseElement(){uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(i,e){e=encodeURIComponent(e);for(const r of i.split(";")){const a=r.indexOf("="),[l,h]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(l.trim()===e)return decodeURIComponent(h)}return null}(document.cookie,e)}}let iu,uo=null;const bd=new f.OlP("TRANSITION_ID"),Dd=[{provide:f.ip1,useFactory:function(i,e,r){return()=>{r.get(f.CZH).donePromise.then(()=>{const a=F(),l=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<l.length;h++)a.remove(l[h])})}},deps:[bd,we,f.zs3],multi:!0}];class wn{static init(){(0,f.VLi)(new wn)}addToWindow(e){f.dqk.getAngularTestability=(a,l=!0)=>{const h=e.findTestabilityInTree(a,l);if(null==h)throw new Error("Could not find testability for element.");return h},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(a=>{const l=f.dqk.getAllAngularTestabilities();let h=l.length,m=!1;const w=function(D){m=m||D,h--,0==h&&a(m)};l.forEach(function(D){D.whenStable(w)})})}findTestabilityInTree(e,r,a){if(null==r)return null;const l=e.getTestability(r);return null!=l?l:a?F().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null}}let Td=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const au=new f.OlP("EventManagerPlugins");let na=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}addGlobalEventListener(r,a,l){return this._findPluginFor(a).addGlobalEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const l=this._plugins;for(let h=0;h<l.length;h++){const m=l[h];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(au),f.LFG(f.R0b))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class Ad{constructor(e){this._doc=e}addGlobalEventListener(e,r,a){const l=F().getGlobalEventTarget(this._doc,e);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,a)}}let uu=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),a.add(l))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),lu=(()=>{class i extends uu{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,l){r.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,l.push(a.appendChild(m))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(Rp),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,l)=>{this._addStylesToHost(r,l,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Rp))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(we))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function Rp(i){F().remove(i)}const xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xt=/%COMP%/g;function ra(i,e,r){for(let a=0;a<e.length;a++){let l=e[a];Array.isArray(l)?ra(i,l,r):(l=l.replace(xt,i),r.push(l))}return r}function xd(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ls=(()=>{class i{constructor(r,a,l){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new ia(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case f.ifc.Emulated:{let l=this.rendererByCompId.get(a.id);return l||(l=new sa(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,l)),l.applyToHost(r),l}case 1:case f.ifc.ShadowDom:return new ps(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const l=ra(a.id,a.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(na),f.LFG(lu),f.LFG(f.AFp))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class ia{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,r){return r?document.createElementNS(xe[r]||r,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,r){e.appendChild(r)}insertBefore(e,r,a){e&&e.insertBefore(r,a)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let a="string"==typeof e?document.querySelector(e):e;if(!a)throw new Error(`The selector "${e}" did not match any elements`);return r||(a.textContent=""),a}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,a,l){if(l){r=l+":"+r;const h=xe[l];h?e.setAttributeNS(h,r,a):e.setAttribute(r,a)}else e.setAttribute(r,a)}removeAttribute(e,r,a){if(a){const l=xe[a];l?e.removeAttributeNS(l,r):e.removeAttribute(`${a}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,a,l){l&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(r,a,l&f.JOm.Important?"important":""):e.style[r]=a}removeStyle(e,r,a){a&f.JOm.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,a){e[r]=a}setValue(e,r){e.nodeValue=r}listen(e,r,a){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,r,xd(a)):this.eventManager.addEventListener(e,r,xd(a))}}class sa extends ia{constructor(e,r,a,l){super(e),this.component=a;const h=ra(l+"-"+a.id,a.styles,[]);r.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(xt,l+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(xt,i)}(l+"-"+a.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,r){const a=super.createElement(e,r);return super.setAttribute(a,this.contentAttr,""),a}}class ps extends ia{constructor(e,r,a,l){super(e),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=ra(l.id,l.styles,[]);for(let m=0;m<h.length;m++){const w=document.createElement("style");w.textContent=h[m],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,a){return super.insertBefore(this.nodeOrShadowRoot(e),r,a)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Pp=(()=>{class i extends Ad{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(we))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const hu=["alt","control","meta","shift"],Ky={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fn={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Pi=(()=>{class i extends Ad{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,l){const h=i.parseEventName(a),m=i.eventCallback(h.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(r,h.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),l=a.shift();if(0===a.length||"keydown"!==l&&"keyup"!==l)return null;const h=i._normalizeKey(a.pop());let m="";if(hu.forEach(D=>{const S=a.indexOf(D);S>-1&&(a.splice(S,1),m+=D+".")}),m+=h,0!=a.length||0===h.length)return null;const w={};return w.domEventName=l,w.fullKey=m,w}static getEventFullKey(r){let a="",l=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&Lp.hasOwnProperty(e)&&(e=Lp[e]))}return Ky[e]||e}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),hu.forEach(h=>{h!=l&&Fn[h](r)&&(a+=h+".")}),a+=l,a}static eventCallback(r,a,l){return h=>{i.getEventFullKey(h)===r&&l.runGuarded(()=>a(h))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(we))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const ow=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){ea.makeCurrent(),wn.init()},multi:!0},{provide:we,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),gs=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:au,useClass:Pp,multi:!0,deps:[we,f.R0b,f.Lbi]},{provide:au,useClass:Pi,multi:!0,deps:[we]},[],{provide:Ls,useClass:Ls,deps:[na,lu,f.AFp]},{provide:f.FYo,useExisting:Ls},{provide:uu,useExisting:lu},{provide:lu,useClass:lu,deps:[we]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:na,useClass:na,deps:[au,f.R0b]},{provide:class{},useClass:Td,deps:[]},[]];let Yl=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:f.AFp,useValue:r.appId},{provide:bd,useExisting:f.AFp},Dd]}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(i,12))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:gs,imports:[Ip,f.hGG]}),i})();"undefined"!=typeof window&&window;var hn=k(4402),Ei=k(7574),mu=k(9796),ft=k(8002),Ud=k(1555);function ua(i,e){return new Ei.y(r=>{const a=i.length;if(0===a)return void r.complete();const l=new Array(a);let h=0,m=0;for(let w=0;w<a;w++){const D=(0,hn.D)(i[w]);let S=!1;r.add(D.subscribe({next:M=>{S||(S=!0,m++),l[w]=M},error:M=>r.error(M),complete:()=>{h++,(h===a||!S)&&(m===a&&r.next(e?e.reduce((M,P,Y)=>(M[P]=l[Y],M),{}):l),r.complete())}}))}})}let la=(()=>{class i{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.Qsj),f.Y36(f.SBq))},i.\u0275dir=f.lG2({type:i}),i})(),po=(()=>{class i extends la{}return i.\u0275fac=function(){let e;return function(a){return(e||(e=f.n5z(i)))(a||i)}}(),i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})();const wi=new f.OlP("NgValueAccessor"),Qp={provide:wi,useExisting:(0,f.Gpc)(()=>ys),multi:!0},Xp=new f.OlP("CompositionEventMode");let ys=(()=>{class i extends la{constructor(r,a,l){super(r,a),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=F()?F().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Xp,8))},i.\u0275dir=f.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&f.NdJ("input",function(h){return a._handleInput(h.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(h){return a._compositionEnd(h.target.value)})},features:[f._Bn([Qp]),f.qOj]}),i})();const or=new f.OlP("NgValidators"),_s=new f.OlP("NgAsyncValidators");function Hd(i){return null!=i}function eg(i){const e=(0,f.QGY)(i)?(0,hn.D)(i):i;return(0,f.CqO)(e),e}function $d(i){let e={};return i.forEach(r=>{e=null!=r?Object.assign(Object.assign({},e),r):e}),0===Object.keys(e).length?null:e}function tg(i,e){return e.map(r=>r(i))}function ng(i){return i.map(e=>function(i){return!i.validate}(e)?e:r=>e.validate(r))}function Eu(i){return null!=i?function(i){if(!i)return null;const e=i.filter(Hd);return 0==e.length?null:function(r){return $d(tg(r,e))}}(ng(i)):null}function rg(i){return null!=i?function(i){if(!i)return null;const e=i.filter(Hd);return 0==e.length?null:function(r){return function(...i){if(1===i.length){const e=i[0];if((0,mu.k)(e))return ua(e,null);if((0,Ud.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e);return ua(r.map(a=>e[a]),r)}}if("function"==typeof i[i.length-1]){const e=i.pop();return ua(i=1===i.length&&(0,mu.k)(i[0])?i[0]:i,null).pipe((0,ft.U)(r=>e(...r)))}return ua(i,null)}(tg(r,e).map(eg)).pipe((0,ft.U)($d))}}(ng(i)):null}function Gd(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function tc(i){return i?Array.isArray(i)?i:[i]:[]}function Zd(i,e){return Array.isArray(i)?i.includes(e):i===e}function t_(i,e){const r=tc(e);return tc(i).forEach(l=>{Zd(r,l)||r.push(l)}),r}function da(i,e){return tc(e).filter(r=>!Zd(i,r))}let Wd=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Eu(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=rg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,a){return!!this.control&&this.control.hasError(r,a)}getError(r,a){return this.control?this.control.getError(r,a):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i}),i})(),Vt=(()=>{class i extends Wd{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let e;return function(a){return(e||(e=f.n5z(i)))(a||i)}}(),i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})();class Ci extends Wd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ar=(()=>{class i extends class{constructor(e){this._cd=e}is(e){var r,a,l;return"submitted"===e?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===l?void 0:l[e])}}{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Ci,2))},i.\u0275dir=f.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&f.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[f.qOj]}),i})();function fa(i,e){(function(i,e){const r=function(i){return i._rawValidators}(i);null!==e.validator?i.setValidators(Gd(r,e.validator)):"function"==typeof r&&i.setValidators([r]);const a=function(i){return i._rawAsyncValidators}(i);null!==e.asyncValidator?i.setAsyncValidators(Gd(a,e.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const l=()=>i.updateValueAndValidity();rc(e._rawValidators,l),rc(e._rawAsyncValidators,l)})(i,e),e.valueAccessor.writeValue(i.value),function(i,e){e.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Du(i,e)})}(i,e),function(i,e){const r=(a,l)=>{e.valueAccessor.writeValue(a),l&&e.viewToModelUpdate(a)};i.registerOnChange(r),e._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,e),function(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Du(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function(i,e){if(e.valueAccessor.setDisabledState){const r=a=>{e.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(r),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,e)}function rc(i,e){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Du(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ma(i,e){const r=i.indexOf(e);r>-1&&i.splice(r,1)}const oi="VALID",sc="INVALID",fn="PENDING",ya="DISABLED";function vs(i){return(Co(i)?i.validators:i)||null}function _a(i){return Array.isArray(i)?Eu(i):i||null}function oc(i,e){return(Co(e)?e.asyncValidators:i)||null}function Xd(i){return Array.isArray(i)?rg(i):i||null}function Co(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class ag{constructor(e,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=r,this._composedValidatorFn=_a(this._rawValidators),this._composedAsyncValidatorFn=Xd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===oi}get invalid(){return this.status===sc}get pending(){return this.status==fn}get disabled(){return this.status===ya}get enabled(){return this.status!==ya}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=_a(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Xd(e)}addValidators(e){this.setValidators(t_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(t_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(da(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(da(e,this._rawAsyncValidators))}hasValidator(e){return Zd(this._rawValidators,e)}hasAsyncValidator(e){return Zd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=ya,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=oi,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oi||this.status===fn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ya:oi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fn,this._hasOwnPendingAsyncValidator=!0;const r=eg(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(!1!==r.emitEvent)}get(e){return function(i,e,r){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let a=i;return e.forEach(l=>{a=a instanceof bi?a.controls.hasOwnProperty(l)?a.controls[l]:null:a instanceof ac&&a.at(l)||null}),a}(this,e)}getError(e,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?ya:this.errors?sc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fn)?fn:this._anyControlsHaveStatus(sc)?sc:oi}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Co(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Es extends ag{constructor(e=null,r,a){super(vs(r),oc(a,r)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=null,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ma(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ma(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class bi extends ag{constructor(e,r,a){super(vs(r),oc(a,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,a={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,a={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(e[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){null!=e&&(Object.keys(e).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(e[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((a,l)=>{a.reset(e[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,a)=>(e[a]=r instanceof Es?r.value:r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&e(a,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&e(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,r,a)=>((r.enabled||this.disabled)&&(e[a]=r.value),e))}_reduceChildren(e,r){let a=e;return this._forEachChild((l,h)=>{a=r(a,l,h)}),a}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((r,a)=>{if(void 0===e[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class ac extends ag{constructor(e,r,a){super(vs(r),oc(a,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,a={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,a={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),r&&(this.controls.splice(e,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){this._checkAllValuesPresent(e),e.forEach((a,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){null!=e&&(e.forEach((a,l)=>{this.at(l)&&this.at(l).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((a,l)=>{a.reset(e[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e instanceof Es?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((r,a)=>{e(r,a)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((r,a)=>{if(void 0===e[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const fw={provide:Ci,useExisting:(0,f.Gpc)(()=>uc)},ug=(()=>Promise.resolve(null))();let uc=(()=>{class i extends Ci{constructor(r,a,l,h){super(),this.control=new Es,this._registered=!1,this.update=new f.vpe,this._parent=r,this._setValidators(a),this._setAsyncValidators(l),this.valueAccessor=function(i,e){if(!e)return null;let r,a,l;return Array.isArray(e),e.forEach(h=>{h.constructor===ys?r=h:function(i){return Object.getPrototypeOf(i.constructor)===po}(h)?a=h:l=h}),l||a||r||null}(0,h)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(i,e){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(e,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,e){return[...e.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){ug.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const a=r.isDisabled.currentValue,l=""===a||a&&"false"!==a;ug.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Vt,9),f.Y36(or,10),f.Y36(_s,10),f.Y36(wi,10))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([fw]),f.qOj,f.TTD]}),i})(),Io=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();const hc={provide:or,useExisting:(0,f.Gpc)(()=>fc),multi:!0};let fc=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(r){this._required=null!=r&&!1!==r&&"false"!=`${r}`,this._onChange&&this._onChange()}validate(r){return this.required?function(i){return function(i){return null==i||0===i.length}(i.value)?{required:!0}:null}(r):null}registerOnValidatorChange(r){this._onChange=r}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,a){2&r&&f.uIk("required",a.required?"":null)},inputs:{required:"required"},features:[f._Bn([hc])]}),i})(),gw=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Io]]}),i})(),mw=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[gw]}),i})();var qe=k(5917),Do=k(9765),_w=k(7971);class Di extends Do.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const r=super._subscribe(e);return r&&!r.closed&&e.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _w.N;return this._value}next(e){super.next(this._value=e)}}var p_=k(4869),ws=k(7393);class aT extends ws.L{notifyNext(e,r,a,l,h){this.destination.next(r)}notifyError(e,r){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class uT extends ws.L{constructor(e,r,a){super(),this.parent=e,this.outerValue=r,this.outerIndex=a,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var lT=k(7444);function cT(i,e,r,a,l=new uT(i,r,a)){if(!l.closed)return e instanceof Ei.y?e.subscribe(l):(0,lT.s)(e)(l)}var tN=k(6693);const dT={};class Yr{constructor(e){this.resultSelector=e}call(e,r){return r.subscribe(new g_(e,this.resultSelector))}}class g_ extends aT{constructor(e,r){super(e),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(dT),this.observables.push(e)}_complete(){const e=this.observables,r=e.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(cT(this,e[a],void 0,a))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,r,a){const l=this.values,m=this.toRespond?l[a]===dT?--this.toRespond:this.toRespond:0;l[a]=r,0===m&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(e){let r;try{r=this.resultSelector.apply(this,e)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const uh=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var ur=k(3282);function ch(...i){return(0,ur.J)(1)((0,qe.of)(...i))}var ba=k(9193);function vw(i){return new Ei.y(e=>{let r;try{r=i()}catch(l){return void e.error(l)}return(r?(0,hn.D)(r):(0,ba.c)()).subscribe(e)})}var Ew=k(2441),pc=k(5345);function Ar(i,e){return"function"==typeof e?r=>r.pipe(Ar((a,l)=>(0,hn.D)(i(a,l)).pipe((0,ft.U)((h,m)=>e(a,h,l,m))))):r=>r.lift(new fT(i))}class fT{constructor(e){this.project=e}call(e,r){return r.subscribe(new ww(e,this.project))}}class ww extends pc.Ds{constructor(e,r){super(e),this.project=r,this.index=0}_next(e){let r;const a=this.index++;try{r=this.project(e,a)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(e){const r=this.innerSubscription;r&&r.unsubscribe();const a=new pc.IY(this),l=this.destination;l.add(a),this.innerSubscription=(0,pc.ft)(e,a),this.innerSubscription!==a&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Cw=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function m_(i){return e=>0===i?(0,ba.c)():e.lift(new bw(i))}class bw{constructor(e){if(this.total=e,this.total<0)throw new Cw}call(e,r){return r.subscribe(new y_(e,this.total))}}class y_ extends ws.L{constructor(e,r){super(e),this.total=r,this.count=0}_next(e){const r=this.total,a=++this.count;a<=r&&(this.destination.next(e),a===r&&(this.destination.complete(),this.unsubscribe()))}}function dh(...i){const e=i[i.length-1];return(0,p_.K)(e)?(i.pop(),r=>ch(i,r,e)):r=>ch(i,r)}function hh(i,e){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new rN(i,e,r))}}class rN{constructor(e,r,a=!1){this.accumulator=e,this.seed=r,this.hasSeed=a}call(e,r){return r.subscribe(new Iw(e,this.accumulator,this.seed,this.hasSeed))}}class Iw extends ws.L{constructor(e,r,a,l){super(e),this.accumulator=r,this._seed=a,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const r=this.index++;let a;try{a=this.accumulator(this.seed,e,r)}catch(l){this.destination.error(l)}this.seed=a,this.destination.next(a)}}function Li(i,e){return function(a){return a.lift(new pT(i,e))}}class pT{constructor(e,r){this.predicate=e,this.thisArg=r}call(e,r){return r.subscribe(new gT(e,this.predicate,this.thisArg))}}class gT extends ws.L{constructor(e,r,a){super(e),this.predicate=r,this.thisArg=a,this.count=0}_next(e){let r;try{r=this.predicate.call(this.thisArg,e,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(e)}}function Vi(i){return function(r){const a=new mT(i),l=r.lift(a);return a.caught=l}}class mT{constructor(e){this.selector=e}call(e,r){return r.subscribe(new yT(e,this.selector,this.caught))}}class yT extends pc.Ds{constructor(e,r,a){super(e),this.selector=r,this.caught=a}error(e){if(!this.isStopped){let r;try{r=this.selector(e,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const a=new pc.IY(this);this.add(a);const l=(0,pc.ft)(r,a);l!==a&&this.add(l)}}}var Qr=k(9773);function fh(i,e){return(0,Qr.zg)(i,e,1)}function __(i){return function(r){return 0===i?(0,ba.c)():r.lift(new yg(i))}}class yg{constructor(e){if(this.total=e,this.total<0)throw new Cw}call(e,r){return r.subscribe(new Ui(e,this.total))}}class Ui extends ws.L{constructor(e,r){super(e),this.total=r,this.ring=new Array,this.count=0}_next(e){const r=this.ring,a=this.total,l=this.count++;r.length<a?r.push(e):r[l%a]=e}_complete(){const e=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,l=this.ring;for(let h=0;h<a;h++){const m=r++%a;e.next(l[m])}}e.complete()}}function v_(i=Dw){return e=>e.lift(new _T(i))}class _T{constructor(e){this.errorFactory=e}call(e,r){return r.subscribe(new vT(e,this.errorFactory))}}class vT extends ws.L{constructor(e,r){super(e),this.errorFactory=r,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(r){e=r}this.destination.error(e)}}}function Dw(){return new uh}function ET(i=null){return e=>e.lift(new Tw(i))}class Tw{constructor(e){this.defaultValue=e}call(e,r){return r.subscribe(new wT(e,this.defaultValue))}}class wT extends ws.L{constructor(e,r){super(e),this.defaultValue=r,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Aw=k(4487);function ji(i,e){const r=arguments.length>=2;return a=>a.pipe(i?Li((l,h)=>i(l,h,a)):Aw.y,m_(1),r?ET(e):v_(()=>new uh))}var Un=k(3342),iN=k(1307),bT=k(5319);class sN{constructor(e){this.callback=e}call(e,r){return r.subscribe(new Gs(e,this.callback))}}class Gs extends ws.L{constructor(e,r){super(e),this.add(new bT.w(r))}}class Cs{constructor(e,r){this.id=e,this.url=r}}class ph extends Cs{constructor(e,r,a="imperative",l=null){super(e,r),this.navigationTrigger=a,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gh extends Cs{constructor(e,r,a){super(e,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class E_ extends Cs{constructor(e,r,a){super(e,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mh extends Cs{constructor(e,r,a){super(e,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xw extends Cs{constructor(e,r,a,l){super(e,r),this.urlAfterRedirects=a,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nw extends Cs{constructor(e,r,a,l){super(e,r),this.urlAfterRedirects=a,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w_ extends Cs{constructor(e,r,a,l,h){super(e,r),this.urlAfterRedirects=a,this.state=l,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C_ extends Cs{constructor(e,r,a,l){super(e,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mw extends Cs{constructor(e,r,a,l){super(e,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ku{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class b_{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rw{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DT{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I_{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ow{constructor(e,r,a){this.routerEvent=e,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nt="primary";class TT{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function gc(i){return new TT(i)}const Pw="ngNavigationCancelingError";function D_(i){const e=Error("NavigationCancelingError: "+i);return e[Pw]=!0,e}function T_(i,e,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(e.hasChildren()||a.length<i.length))return null;const l={};for(let h=0;h<a.length;h++){const m=a[h],w=i[h];if(m.startsWith(":"))l[m.substring(1)]=w;else if(m!==w.path)return null}return{consumed:i.slice(0,a.length),posParams:l}}function Bi(i,e){const r=i?Object.keys(i):void 0,a=e?Object.keys(e):void 0;if(!r||!a||r.length!=a.length)return!1;let l;for(let h=0;h<r.length;h++)if(l=r[h],!Lw(i[l],e[l]))return!1;return!0}function Lw(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const r=[...i].sort(),a=[...e].sort();return r.every((l,h)=>a[h]===l)}return i===e}function Vw(i){return Array.prototype.concat.apply([],i)}function A_(i){return i.length>0?i[i.length-1]:null}function Ln(i,e){for(const r in i)i.hasOwnProperty(r)&&e(i[r],r)}function bs(i){return(0,f.CqO)(i)?i:(0,f.QGY)(i)?(0,hn.D)(Promise.resolve(i)):(0,qe.of)(i)}const ST={exact:function S_(i,e,r){if(!To(i.segments,e.segments)||!Fu(i.segments,e.segments,r)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const a in e.children)if(!i.children[a]||!S_(i.children[a],e.children[a],r))return!1;return!0},subset:_g},yh={exact:function(i,e){return Bi(i,e)},subset:function(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(r=>Lw(i[r],e[r]))},ignored:()=>!0};function jw(i,e,r){return ST[r.paths](i.root,e.root,r.matrixParams)&&yh[r.queryParams](i.queryParams,e.queryParams)&&!("exact"===r.fragment&&i.fragment!==e.fragment)}function _g(i,e,r){return x_(i,e,e.segments,r)}function x_(i,e,r,a){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!To(l,r)||e.hasChildren()||!Fu(l,r,a))}if(i.segments.length===r.length){if(!To(i.segments,r)||!Fu(i.segments,r,a))return!1;for(const l in e.children)if(!i.children[l]||!_g(i.children[l],e.children[l],a))return!1;return!0}{const l=r.slice(0,i.segments.length),h=r.slice(i.segments.length);return!!(To(i.segments,l)&&Fu(i.segments,l,a)&&i.children[Nt])&&x_(i.children[Nt],e,h,a)}}function Fu(i,e,r){return e.every((a,l)=>yh[r](i[l].parameters,a.parameters))}class Zs{constructor(e,r,a){this.root=e,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gc(this.queryParams)),this._queryParamMap}toString(){return xT.serialize(this)}}class Ot{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Ln(r,(a,l)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vg(this)}}class Lu{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=gc(this.parameters)),this._parameterMap}toString(){return qw(this)}}function To(i,e){return i.length===e.length&&i.every((r,a)=>r.path===e[a].path)}class N_{}class M_{parse(e){const r=new Gw(e);return new Zs(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){var i;return`${`/${mc(e.root,!0)}`}${function(i){const e=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(l=>`${vh(r)}=${vh(l)}`).join("&"):`${vh(r)}=${vh(a)}`}).filter(r=>!!r);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${i=e.fragment,encodeURI(i)}`:""}`}}const xT=new M_;function vg(i){return i.segments.map(e=>qw(e)).join("/")}function mc(i,e){if(!i.hasChildren())return vg(i);if(e){const r=i.children[Nt]?mc(i.children[Nt],!1):"",a=[];return Ln(i.children,(l,h)=>{h!==Nt&&a.push(`${h}:${mc(l,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,e){let r=[];return Ln(i.children,(a,l)=>{l===Nt&&(r=r.concat(e(a,l)))}),Ln(i.children,(a,l)=>{l!==Nt&&(r=r.concat(e(a,l)))}),r}(i,(a,l)=>l===Nt?[mc(i.children[Nt],!1)]:[`${l}:${mc(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Nt]?`${vg(i)}/${r[0]}`:`${vg(i)}/(${r.join("//")})`}}function Eg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vh(i){return Eg(i).replace(/%3B/gi,";")}function wg(i){return Eg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cg(i){return decodeURIComponent(i)}function R_(i){return Cg(i.replace(/\+/g,"%20"))}function qw(i){return`${wg(i.path)}${function(i){return Object.keys(i).map(e=>`;${wg(e)}=${wg(i[e])}`).join("")}(i.parameters)}`}const MT=/^[^\/()?;=#]+/;function Eh(i){const e=i.match(MT);return e?e[0]:""}const RT=/^[^=?&#]+/,PT=/^[^?&#]+/;class Gw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(a[Nt]=new Ot(e,r)),a}parseSegment(){const e=Eh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Lu(Cg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const r=Eh(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const l=Eh(this.remaining);l&&(a=l,this.capture(a))}e[Cg(r)]=Cg(a)}parseQueryParam(e){const r=function(i){const e=i.match(RT);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const m=function(i){const e=i.match(PT);return e?e[0]:""}(this.remaining);m&&(a=m,this.capture(a))}const l=R_(r),h=R_(a);if(e.hasOwnProperty(l)){let m=e[l];Array.isArray(m)||(m=[m],e[l]=m),m.push(h)}else e[l]=h}parseParens(e){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=Eh(this.remaining),l=this.remaining[a.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let h;a.indexOf(":")>-1?(h=a.substr(0,a.indexOf(":")),this.capture(h),this.capture(":")):e&&(h=Nt);const m=this.parseChildren();r[h]=1===Object.keys(m).length?m[Nt]:new Ot([],m),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Zw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){const r=O_(e,this._root);return r?r.children.map(a=>a.value):[]}firstChild(e){const r=O_(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){const r=P_(e,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==e)}pathFromRoot(e){return P_(e,this._root).map(r=>r.value)}}function O_(i,e){if(i===e.value)return e;for(const r of e.children){const a=O_(i,r);if(a)return a}return null}function P_(i,e){if(i===e.value)return[e];for(const r of e.children){const a=P_(i,r);if(a.length)return a.unshift(e),a}return[]}class st{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}}function yc(i){const e={};return i&&i.children.forEach(r=>e[r.value.outlet]=r),e}class k_ extends Zw{constructor(e,r){super(e),this.snapshot=r,Ig(this,e)}toString(){return this.snapshot.toString()}}function wh(i,e){const r=function(i,e){const m=new Hi([],{},{},"",{},Nt,e,null,i.root,-1,{});return new bg("",new st(m,[]))}(i,e),a=new Di([new Lu("",{})]),l=new Di({}),h=new Di({}),m=new Di({}),w=new Di(""),D=new Vu(a,l,m,w,h,Nt,e,r.root);return D.snapshot=r.root,new k_(new st(D,[]),r)}class Vu{constructor(e,r,a,l,h,m,w,D){this.url=e,this.params=r,this.queryParams=a,this.fragment=l,this.data=h,this.outlet=m,this.component=w,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>gc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>gc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ww(i,e="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==e)for(a=r.length-1;a>=1;){const l=r[a],h=r[a-1];if(l.routeConfig&&""===l.routeConfig.path)a--;else{if(h.component)break;a--}}return function(i){return i.reduce((e,r)=>({params:Object.assign(Object.assign({},e.params),r.params),data:Object.assign(Object.assign({},e.data),r.data),resolve:Object.assign(Object.assign({},e.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class Hi{constructor(e,r,a,l,h,m,w,D,S,M,P){this.url=e,this.params=r,this.queryParams=a,this.fragment=l,this.data=h,this.outlet=m,this.component=w,this.routeConfig=D,this._urlSegment=S,this._lastPathIndex=M,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bg extends Zw{constructor(e,r){super(r),this.url=e,Ig(this,r)}toString(){return Dg(this._root)}}function Ig(i,e){e.value._routerState=i,e.children.forEach(r=>Ig(i,r))}function Dg(i){const e=i.children.length>0?` { ${i.children.map(Dg).join(", ")} } `:"";return`${i.value}${e}`}function zw(i){if(i.snapshot){const e=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Bi(e.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),e.fragment!==r.fragment&&i.fragment.next(r.fragment),Bi(e.params,r.params)||i.params.next(r.params),function(i,e){if(i.length!==e.length)return!1;for(let r=0;r<i.length;++r)if(!Bi(i[r],e[r]))return!1;return!0}(e.url,r.url)||i.url.next(r.url),Bi(e.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Tg(i,e){return Bi(i.params,e.params)&&function(i,e){return To(i,e)&&i.every((r,a)=>Bi(r.parameters,e[a].parameters))}(i.url,e.url)&&!(!i.parent!=!e.parent)&&(!i.parent||Tg(i.parent,e.parent))}function $i(i,e,r){if(r&&i.shouldReuseRoute(e.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=e.value;const l=function(i,e,r){return e.children.map(a=>{for(const l of r.children)if(i.shouldReuseRoute(a.value,l.value.snapshot))return $i(i,a,l);return $i(i,a)})}(i,e,r);return new st(a,l)}{if(i.shouldAttach(e.value)){const h=i.retrieve(e.value);if(null!==h){const m=h.route;return Ch(e,m),m}}const a=function(i){return new Vu(new Di(i.url),new Di(i.params),new Di(i.queryParams),new Di(i.fragment),new Di(i.data),i.outlet,i.component,i)}(e.value),l=e.children.map(h=>$i(i,h));return new st(a,l)}}function Ch(i,e){if(i.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Ch(i.children[r],e.children[r])}function Sg(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function _c(i){return"object"==typeof i&&null!=i&&i.outlets}function Kw(i,e,r,a,l){let h={};return a&&Ln(a,(m,w)=>{h[w]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),new Zs(r.root===i?e:Yw(r.root,i,e),h,l)}function Yw(i,e,r){const a={};return Ln(i.children,(l,h)=>{a[h]=l===e?r:Yw(l,e,r)}),new Ot(i.segments,a)}class FT{constructor(e,r,a){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=a,e&&a.length>0&&Sg(a[0]))throw new Error("Root segment cannot have matrix parameters");const l=a.find(_c);if(l&&l!==A_(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xg{constructor(e,r,a){this.segmentGroup=e,this.processChildren=r,this.index=a}}function VT(i,e,r){if(i||(i=new Ot([],{})),0===i.segments.length&&i.hasChildren())return U_(i,e,r);const a=function(i,e,r){let a=0,l=e;const h={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(a>=r.length)return h;const m=i.segments[l],w=r[a];if(_c(w))break;const D=`${w}`,S=a<r.length-1?r[a+1]:null;if(l>0&&void 0===D)break;if(D&&S&&"object"==typeof S&&void 0===S.outlets){if(!jT(D,S,m))return h;a+=2}else{if(!jT(D,{},m))return h;a++}l++}return{match:!0,pathIndex:l,commandIndex:a}}(i,e,r),l=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const h=new Ot(i.segments.slice(0,a.pathIndex),{});return h.children[Nt]=new Ot(i.segments.slice(a.pathIndex),i.children),U_(h,0,l)}return a.match&&0===l.length?new Ot(i.segments,{}):a.match&&!i.hasChildren()?Jw(i,e,r):a.match?U_(i,0,l):Jw(i,e,r)}function U_(i,e,r){if(0===r.length)return new Ot(i.segments,{});{const a=function(i){return _c(i[0])?i[0].outlets:{[Nt]:i}}(r),l={};return Ln(a,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(l[m]=VT(i.children[m],e,h))}),Ln(i.children,(h,m)=>{void 0===a[m]&&(l[m]=h)}),new Ot(i.segments,l)}}function Jw(i,e,r){const a=i.segments.slice(0,e);let l=0;for(;l<r.length;){const h=r[l];if(_c(h)){const D=dN(h.outlets);return new Ot(a,D)}if(0===l&&Sg(r[0])){a.push(new Lu(i.segments[e].path,UT(r[0]))),l++;continue}const m=_c(h)?h.outlets[Nt]:`${h}`,w=l<r.length-1?r[l+1]:null;m&&w&&Sg(w)?(a.push(new Lu(m,UT(w))),l+=2):(a.push(new Lu(m,{})),l++)}return new Ot(a,{})}function dN(i){const e={};return Ln(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(e[a]=Jw(new Ot([],{}),0,r))}),e}function UT(i){const e={};return Ln(i,(r,a)=>e[a]=`${r}`),e}function jT(i,e,r){return i==r.path&&Bi(e,r.parameters)}class fN{constructor(e,r,a,l){this.routeReuseStrategy=e,this.futureState=r,this.currState=a,this.forwardEvent=l}activate(e){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,e),zw(this.futureState.root),this.activateChildRoutes(r,a,e)}deactivateChildRoutes(e,r,a){const l=yc(r);e.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,l[m],a),delete l[m]}),Ln(l,(h,m)=>{this.deactivateRouteAndItsChildren(h,a)})}deactivateRoutes(e,r,a){const l=e.value,h=r?r.value:null;if(l===h)if(l.component){const m=a.getContext(l.outlet);m&&this.deactivateChildRoutes(e,r,m.children)}else this.deactivateChildRoutes(e,r,a);else h&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(e,r){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){const a=r.getContext(e.value.outlet);if(a&&a.outlet){const l=a.outlet.detach(),h=a.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,r){const a=r.getContext(e.value.outlet),l=a&&e.value.component?a.children:r,h=yc(e);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],l);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(e,r,a){const l=yc(r);e.children.forEach(h=>{this.activateRoutes(h,l[h.value.outlet],a),this.forwardEvent(new I_(h.value.snapshot))}),e.children.length&&this.forwardEvent(new Rw(e.value.snapshot))}activateRoutes(e,r,a){const l=e.value,h=r?r.value:null;if(zw(l),l===h)if(l.component){const m=a.getOrCreateContext(l.outlet);this.activateChildRoutes(e,r,m.children)}else this.activateChildRoutes(e,r,a);else if(l.component){const m=a.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const w=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),m.children.onOutletReAttached(w.contexts),m.attachRef=w.componentRef,m.route=w.route.value,m.outlet&&m.outlet.attach(w.componentRef,w.route.value),BT(w.route)}else{const w=function(i){for(let e=i.parent;e;e=e.parent){const r=e.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),D=w?w.module.componentFactoryResolver:null;m.attachRef=null,m.route=l,m.resolver=D,m.outlet&&m.outlet.activateWith(l,D),this.activateChildRoutes(e,null,m.children)}}else this.activateChildRoutes(e,null,a)}}function BT(i){zw(i.value),i.children.forEach(BT)}class bh{constructor(e,r){this.routes=e,this.module=r}}function Da(i){return"function"==typeof i}function Ao(i){return i instanceof Zs}const vc=Symbol("INITIAL_VALUE");function Ih(){return Ar(i=>function(...i){let e,r;return(0,p_.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(e=i.pop()),1===i.length&&(0,mu.k)(i[0])&&(i=i[0]),(0,tN.n)(i,r).lift(new Yr(e))}(i.map(e=>e.pipe(m_(1),dh(vc)))).pipe(hh((e,r)=>{let a=!1;return r.reduce((l,h,m)=>l!==vc?l:(h===vc&&(a=!0),a||!1!==h&&m!==r.length-1&&!Ao(h)?l:h),e)},vc),Li(e=>e!==vc),(0,ft.U)(e=>Ao(e)?e:!0===e),m_(1)))}let $T=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&f._UZ(0,"router-outlet")},directives:function(){return[Nh]},encapsulation:2}),i})();function Ng(i,e=""){for(let r=0;r<i.length;r++){const a=i[r];qT(a,tC(e,a))}}function qT(i,e){i.children&&Ng(i.children,e)}function tC(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function B_(i){const e=i.children&&i.children.map(B_),r=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!r.component&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Nt&&(r.component=$T),r}function qi(i){return i.outlet||Nt}function Ec(i,e){const r=i.filter(a=>qi(a)===e);return r.push(...i.filter(a=>qi(a)!==e)),r}const Uu={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function wc(i,e,r){var a;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},Uu):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(e.matcher||T_)(r,i,e);if(!h)return Object.assign({},Uu);const m={};Ln(h.posParams,(D,S)=>{m[S]=D.path});const w=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:w,positionalParamSegments:null!==(a=h.posParams)&&void 0!==a?a:{}}}function So(i,e,r,a,l="corrected"){if(r.length>0&&function(i,e,r){return r.some(a=>Th(i,e,a)&&qi(a)!==Nt)}(i,r,a)){const m=new Ot(e,function(i,e,r,a){const l={};l[Nt]=a,a._sourceSegment=i,a._segmentIndexShift=e.length;for(const h of r)if(""===h.path&&qi(h)!==Nt){const m=new Ot([],{});m._sourceSegment=i,m._segmentIndexShift=e.length,l[qi(h)]=m}return l}(i,e,a,new Ot(r,i.children)));return m._sourceSegment=i,m._segmentIndexShift=e.length,{segmentGroup:m,slicedSegments:[]}}if(0===r.length&&function(i,e,r){return r.some(a=>Th(i,e,a))}(i,r,a)){const m=new Ot(i.segments,function(i,e,r,a,l,h){const m={};for(const w of a)if(Th(i,r,w)&&!l[qi(w)]){const D=new Ot([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===h?i.segments.length:e.length,m[qi(w)]=D}return Object.assign(Object.assign({},l),m)}(i,e,r,a,i.children,l));return m._sourceSegment=i,m._segmentIndexShift=e.length,{segmentGroup:m,slicedSegments:r}}const h=new Ot(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:r}}function Th(i,e,r){return(!(i.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path}function Mg(i,e,r,a){return!!(qi(i)===a||a!==Nt&&Th(e,r,i))&&("**"===i.path||wc(e,i,r).matched)}function Rg(i,e,r){return 0===e.length&&!i.children[r]}class bc{constructor(e){this.segmentGroup=e||null}}class Ah{constructor(e){this.urlTree=e}}function Og(i){return new Ei.y(e=>e.error(new bc(i)))}function H_(i){return new Ei.y(e=>e.error(new Ah(i)))}function pN(i){return new Ei.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class ZT{constructor(e,r,a,l,h){this.configLoader=r,this.urlSerializer=a,this.urlTree=l,this.config=h,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=So(this.urlTree.root,[],[],this.config).segmentGroup,r=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,r,Nt).pipe((0,ft.U)(h=>this.createUrlTree($_(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vi(h=>{if(h instanceof Ah)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof bc?this.noMatchError(h):h}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Nt).pipe((0,ft.U)(l=>this.createUrlTree($_(l),e.queryParams,e.fragment))).pipe(Vi(l=>{throw l instanceof bc?this.noMatchError(l):l}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,r,a){const l=e.segments.length>0?new Ot([],{[Nt]:e}):e;return new Zs(l,r,a)}expandSegmentGroup(e,r,a,l){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(e,r,a).pipe((0,ft.U)(h=>new Ot([],h))):this.expandSegment(e,a,r,a.segments,l,!0)}expandChildren(e,r,a){const l=[];for(const h of Object.keys(a.children))"primary"===h?l.unshift(h):l.push(h);return(0,hn.D)(l).pipe(fh(h=>{const m=a.children[h],w=Ec(r,h);return this.expandSegmentGroup(e,w,m,h).pipe((0,ft.U)(D=>({segment:D,outlet:h})))}),hh((h,m)=>(h[m.outlet]=m.segment,h),{}),function(i,e){const r=arguments.length>=2;return a=>a.pipe(i?Li((l,h)=>i(l,h,a)):Aw.y,__(1),r?ET(e):v_(()=>new uh))}())}expandSegment(e,r,a,l,h,m){return(0,hn.D)(a).pipe(fh(w=>this.expandSegmentAgainstRoute(e,r,a,w,l,h,m).pipe(Vi(S=>{if(S instanceof bc)return(0,qe.of)(null);throw S}))),ji(w=>!!w),Vi((w,D)=>{if(w instanceof uh||"EmptyError"===w.name){if(Rg(r,l,h))return(0,qe.of)(new Ot([],{}));throw new bc(r)}throw w}))}expandSegmentAgainstRoute(e,r,a,l,h,m,w){return Mg(l,r,h,m)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(e,r,l,h,m):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,a,l,h,m):Og(r):Og(r)}expandSegmentAgainstRouteUsingRedirect(e,r,a,l,h,m){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,a,l,m):this.expandRegularSegmentAgainstRouteUsingRedirect(e,r,a,l,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,l){const h=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?H_(h):this.lineralizeSegments(a,h).pipe((0,Qr.zg)(m=>{const w=new Ot(m,{});return this.expandSegment(e,w,r,m,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,r,a,l,h,m){const{matched:w,consumedSegments:D,lastChild:S,positionalParamSegments:M}=wc(r,l,h);if(!w)return Og(r);const P=this.applyRedirectCommands(D,l.redirectTo,M);return l.redirectTo.startsWith("/")?H_(P):this.lineralizeSegments(l,P).pipe((0,Qr.zg)(Y=>this.expandSegment(e,r,a,Y.concat(h.slice(S)),m,!1)))}matchSegmentAgainstRoute(e,r,a,l,h){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,qe.of)(a._loadedConfig):this.configLoader.load(e.injector,a)).pipe((0,ft.U)(Y=>(a._loadedConfig=Y,new Ot(l,{})))):(0,qe.of)(new Ot(l,{}));const{matched:m,consumedSegments:w,lastChild:D}=wc(r,a,l);if(!m)return Og(r);const S=l.slice(D);return this.getChildConfig(e,a,l).pipe((0,Qr.zg)(P=>{const Y=P.module,ee=P.routes,{segmentGroup:De,slicedSegments:Be}=So(r,w,S,ee),Ze=new Ot(De.segments,De.children);if(0===Be.length&&Ze.hasChildren())return this.expandChildren(Y,ee,Ze).pipe((0,ft.U)(pn=>new Ot(w,pn)));if(0===ee.length&&0===Be.length)return(0,qe.of)(new Ot(w,{}));const Bt=qi(a)===h;return this.expandSegment(Y,Ze,ee,Be,Bt?Nt:h,!0).pipe((0,ft.U)(Mt=>new Ot(w.concat(Mt.segments),Mt.children)))}))}getChildConfig(e,r,a){return r.children?(0,qe.of)(new bh(r.children,e)):r.loadChildren?void 0!==r._loadedConfig?(0,qe.of)(r._loadedConfig):this.runCanLoadGuards(e.injector,r,a).pipe((0,Qr.zg)(l=>{return l?this.configLoader.load(e.injector,r).pipe((0,ft.U)(h=>(r._loadedConfig=h,h))):(i=r,new Ei.y(e=>e.error(D_(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,qe.of)(new bh([],e))}runCanLoadGuards(e,r,a){const l=r.canLoad;if(!l||0===l.length)return(0,qe.of)(!0);const h=l.map(m=>{const w=e.get(m);let D;if((i=w)&&Da(i.canLoad))D=w.canLoad(r,a);else{if(!Da(w))throw new Error("Invalid CanLoad guard");D=w(r,a)}var i;return bs(D)});return(0,qe.of)(h).pipe(Ih(),(0,Un.b)(m=>{if(!Ao(m))return;const w=D_(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw w.url=m,w}),(0,ft.U)(m=>!0===m))}lineralizeSegments(e,r){let a=[],l=r.root;for(;;){if(a=a.concat(l.segments),0===l.numberOfChildren)return(0,qe.of)(a);if(l.numberOfChildren>1||!l.children[Nt])return pN(e.redirectTo);l=l.children[Nt]}}applyRedirectCommands(e,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),e,a)}applyRedirectCreatreUrlTree(e,r,a,l){const h=this.createSegmentGroup(e,r.root,a,l);return new Zs(h,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){const a={};return Ln(e,(l,h)=>{if("string"==typeof l&&l.startsWith(":")){const w=l.substring(1);a[h]=r[w]}else a[h]=l}),a}createSegmentGroup(e,r,a,l){const h=this.createSegments(e,r.segments,a,l);let m={};return Ln(r.children,(w,D)=>{m[D]=this.createSegmentGroup(e,w,a,l)}),new Ot(h,m)}createSegments(e,r,a,l){return r.map(h=>h.path.startsWith(":")?this.findPosParam(e,h,l):this.findOrReturn(h,a))}findPosParam(e,r,a){const l=a[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${e}'. Cannot find '${r.path}'.`);return l}findOrReturn(e,r){let a=0;for(const l of r){if(l.path===e.path)return r.splice(a),l;a++}return e}}function $_(i){const e={};for(const a of Object.keys(i.children)){const h=$_(i.children[a]);(h.segments.length>0||h.hasChildren())&&(e[a]=h)}return function(i){if(1===i.numberOfChildren&&i.children[Nt]){const e=i.children[Nt];return new Ot(i.segments.concat(e.segments),e.children)}return i}(new Ot(i.segments,e))}class ai{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pg{constructor(e,r){this.component=e,this.route=r}}function zT(i,e,r){const a=i._root;return kg(a,e?e._root:null,r,[a.value])}function q_(i,e,r){const a=function(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const r=e.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(e);return(a?a.module.injector:r).get(i)}function kg(i,e,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=yc(e);return i.children.forEach(m=>{(function(i,e,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,m=e?e.value:null,w=r?r.getContext(i.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const D=function(i,e,r){if("function"==typeof r)return r(i,e);switch(r){case"pathParamsChange":return!To(i.url,e.url);case"pathParamsOrQueryParamsChange":return!To(i.url,e.url)||!Bi(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tg(i,e)||!Bi(i.queryParams,e.queryParams);case"paramsChange":default:return!Tg(i,e)}}(m,h,h.routeConfig.runGuardsAndResolvers);D?l.canActivateChecks.push(new ai(a)):(h.data=m.data,h._resolvedData=m._resolvedData),kg(i,e,h.component?w?w.children:null:r,a,l),D&&w&&w.outlet&&w.outlet.isActivated&&l.canDeactivateChecks.push(new Pg(w.outlet.component,m))}else m&&Ic(e,w,l),l.canActivateChecks.push(new ai(a)),kg(i,null,h.component?w?w.children:null:r,a,l)})(m,h[m.value.outlet],r,a.concat([m.value]),l),delete h[m.value.outlet]}),Ln(h,(m,w)=>Ic(m,r.getContext(w),l)),l}function Ic(i,e,r){const a=yc(i),l=i.value;Ln(a,(h,m)=>{Ic(h,l.component?e?e.children.getContext(m):null:e,r)}),r.canDeactivateChecks.push(new Pg(l.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,l))}class lC{}function Z_(i){return new Ei.y(e=>e.error(i))}class Ws{constructor(e,r,a,l,h,m){this.rootComponentType=e,this.config=r,this.urlTree=a,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const e=So(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,e,Nt);if(null===r)return null;const a=new Hi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new st(a,r),h=new bg(this.url,l);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(e){const r=e.value,a=Ww(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),e.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(e,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,r):this.processSegment(e,r,r.segments,a)}processChildren(e,r){const a=[];for(const h of Object.keys(r.children)){const m=r.children[h],w=Ec(e,h),D=this.processSegmentGroup(w,m,h);if(null===D)return null;a.push(...D)}const l=sA(a);return l.sort((e,r)=>e.value.outlet===Nt?-1:r.value.outlet===Nt?1:e.value.outlet.localeCompare(r.value.outlet)),l}processSegment(e,r,a,l){for(const h of e){const m=this.processSegmentAgainstRoute(h,r,a,l);if(null!==m)return m}return Rg(r,a,l)?[]:null}processSegmentAgainstRoute(e,r,a,l){if(e.redirectTo||!Mg(e,r,a,l))return null;let h,m=[],w=[];if("**"===e.path){const ee=a.length>0?A_(a).parameters:{};h=new Hi(a,ee,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hC(e),qi(e),e.component,e,cC(r),dC(r)+a.length,Fg(e))}else{const ee=wc(r,e,a);if(!ee.matched)return null;m=ee.consumedSegments,w=a.slice(ee.lastChild),h=new Hi(m,ee.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hC(e),qi(e),e.component,e,cC(r),dC(r)+m.length,Fg(e))}const D=(i=e).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:M}=So(r,m,w,D.filter(ee=>void 0===ee.redirectTo),this.relativeLinkResolution);var i;if(0===M.length&&S.hasChildren()){const ee=this.processChildren(D,S);return null===ee?null:[new st(h,ee)]}if(0===D.length&&0===M.length)return[new st(h,[])];const P=qi(e)===l,Y=this.processSegment(D,S,M,P?Nt:l);return null===Y?null:[new st(h,Y)]}}function iA(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sA(i){const e=[],r=new Set;for(const a of i){if(!iA(a)){e.push(a);continue}const l=e.find(h=>a.value.routeConfig===h.value.routeConfig);void 0!==l?(l.children.push(...a.children),r.add(l)):e.push(a)}for(const a of r){const l=sA(a.children);e.push(new st(a.value,l))}return e.filter(a=>!r.has(a))}function cC(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function dC(i){let e=i,r=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,r+=e._segmentIndexShift?e._segmentIndexShift:0;return r-1}function hC(i){return i.data||{}}function Fg(i){return i.resolve||{}}function Sh(i){return Ar(e=>{const r=i(e);return r?(0,hn.D)(r).pipe((0,ft.U)(()=>e)):(0,qe.of)(e)})}class cA extends class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}}{}const Y_=new f.OlP("ROUTES");class Vg{constructor(e,r,a,l){this.loader=e,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=l}load(e,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,ft.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);const m=h.create(e);return new bh(Vw(m.injector.get(Y_,void 0,f.XFs.Self|f.XFs.Optional)).map(B_),m)}),Vi(h=>{throw r._loader$=void 0,h}));return r._loader$=new Ew.c(l,()=>new Do.xQ).pipe((0,iN.x)()),r._loader$}loadModuleFactory(e){return"string"==typeof e?(0,hn.D)(this.loader.load(e)):bs(e()).pipe((0,Qr.zg)(r=>r instanceof f.YKP?(0,qe.of)(r):(0,hn.D)(this.compiler.compileModuleAsync(r))))}}class mN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dc,this.attachRef=null}}class Dc{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const a=this.getOrCreateContext(e);a.outlet=r,this.contexts.set(e,a)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new mN,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}class gC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}function mC(i){throw i}function yC(i,e,r){return e.parse("/")}function Q_(i,e){return(0,qe.of)(null)}const xo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ug={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _r=(()=>{class i{constructor(r,a,l,h,m,w,D,S){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=l,this.location=h,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Do.xQ,this.errorHandler=mC,this.malformedUriErrorHandler=yC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Q_,afterPreactivation:Q_},this.urlHandlingStrategy=new gC,this.routeReuseStrategy=new cA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(f.h0i),this.console=m.get(f.c2e);const Y=m.get(f.R0b);this.isNgZoneEnabled=Y instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Zs(new Ot([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vg(w,D,ee=>this.triggerEvent(new IT(ee)),ee=>this.triggerEvent(new ku(ee))),this.routerState=wh(this.currentUrlTree,this.rootComponentType),this.transitions=new Di({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(Li(l=>0!==l.id),(0,ft.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Ar(l=>{let h=!1,m=!1;return(0,qe.of)(l).pipe((0,Un.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ar(w=>{const D=!this.navigated||w.extractedUrl.toString()!==this.browserUrlTree.toString(),S=("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl);if(J_(w.source)&&(this.browserUrlTree=w.rawUrl),S)return(0,qe.of)(w).pipe(Ar(M=>{const P=this.transitions.getValue();return a.next(new ph(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),P!==this.transitions.getValue()?ba.E:Promise.resolve(M)}),function(i,e,r,a){return Ar(l=>function(i,e,r,a,l){return new ZT(i,e,r,a,l).apply()}(i,e,r,l.extractedUrl,a).pipe((0,ft.U)(h=>Object.assign(Object.assign({},l),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Un.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(i,e,r,a,l){return(0,Qr.zg)(h=>function(i,e,r,a,l="emptyOnly",h="legacy"){try{const m=new Ws(i,e,r,a,l,h).recognize();return null===m?Z_(new lC):(0,qe.of)(m)}catch(m){return Z_(m)}}(i,e,h.urlAfterRedirects,r(h.urlAfterRedirects),a,l).pipe((0,ft.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Un.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const P=new xw(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);a.next(P)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:Y,source:ee,restoredState:De,extras:Be}=w,Ze=new ph(P,this.serializeUrl(Y),ee,De);a.next(Ze);const Bt=wh(Y,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},w),{targetSnapshot:Bt,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},Be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),ba.E}),Sh(w=>{const{targetSnapshot:D,id:S,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:Y,replaceUrl:ee}}=w;return this.hooks.beforePreactivation(D,{navigationId:S,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!Y,replaceUrl:!!ee})}),(0,Un.b)(w=>{const D=new Nw(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),(0,ft.U)(w=>Object.assign(Object.assign({},w),{guards:zT(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(i,e){return(0,Qr.zg)(r=>{const{targetSnapshot:a,currentSnapshot:l,guards:{canActivateChecks:h,canDeactivateChecks:m}}=r;return 0===m.length&&0===h.length?(0,qe.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,e,r,a){return(0,hn.D)(i).pipe((0,Qr.zg)(l=>function(i,e,r,a,l){const h=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,qe.of)(!0);const m=h.map(w=>{const D=q_(w,e,l);let S;if(function(i){return i&&Da(i.canDeactivate)}(D))S=bs(D.canDeactivate(i,e,r,a));else{if(!Da(D))throw new Error("Invalid CanDeactivate guard");S=bs(D(i,e,r,a))}return S.pipe(ji())});return(0,qe.of)(m).pipe(Ih())}(l.component,l.route,r,e,a)),ji(l=>!0!==l,!0))}(m,a,l,i).pipe((0,Qr.zg)(w=>w&&function(i){return"boolean"==typeof i}(w)?function(i,e,r,a){return(0,hn.D)(e).pipe(fh(l=>ch(function(i,e){return null!==i&&e&&e(new b_(i)),(0,qe.of)(!0)}(l.route.parent,a),function(i,e){return null!==i&&e&&e(new DT(i)),(0,qe.of)(!0)}(l.route,a),function(i,e,r){const a=e[e.length-1],h=e.slice(0,e.length-1).reverse().map(m=>function(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(m)).filter(m=>null!==m).map(m=>vw(()=>{const w=m.guards.map(D=>{const S=q_(D,m.node,r);let M;if(function(i){return i&&Da(i.canActivateChild)}(S))M=bs(S.canActivateChild(a,i));else{if(!Da(S))throw new Error("Invalid CanActivateChild guard");M=bs(S(a,i))}return M.pipe(ji())});return(0,qe.of)(w).pipe(Ih())}));return(0,qe.of)(h).pipe(Ih())}(i,l.path,r),function(i,e,r){const a=e.routeConfig?e.routeConfig.canActivate:null;if(!a||0===a.length)return(0,qe.of)(!0);const l=a.map(h=>vw(()=>{const m=q_(h,e,r);let w;if(function(i){return i&&Da(i.canActivate)}(m))w=bs(m.canActivate(e,i));else{if(!Da(m))throw new Error("Invalid CanActivate guard");w=bs(m(e,i))}return w.pipe(ji())}));return(0,qe.of)(l).pipe(Ih())}(i,l.route,r))),ji(l=>!0!==l,!0))}(a,h,i,e):(0,qe.of)(w)),(0,ft.U)(w=>Object.assign(Object.assign({},r),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,Un.b)(w=>{if(Ao(w.guardsResult)){const S=D_(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw S.url=w.guardsResult,S}const D=new w_(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(D)}),Li(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),Sh(w=>{if(w.guards.canActivateChecks.length)return(0,qe.of)(w).pipe((0,Un.b)(D=>{const S=new C_(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}),Ar(D=>{let S=!1;return(0,qe.of)(D).pipe(function(i,e){return(0,Qr.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,qe.of)(r);let h=0;return(0,hn.D)(l).pipe(fh(m=>function(i,e,r,a){return function(i,e,r,a){const l=Object.keys(i);if(0===l.length)return(0,qe.of)({});const h={};return(0,hn.D)(l).pipe((0,Qr.zg)(m=>function(i,e,r,a){const l=q_(i,e,a);return bs(l.resolve?l.resolve(e,r):l(e,r))}(i[m],e,r,a).pipe((0,Un.b)(w=>{h[m]=w}))),__(1),(0,Qr.zg)(()=>Object.keys(h).length===l.length?(0,qe.of)(h):ba.E))}(i._resolve,i,e,a).pipe((0,ft.U)(h=>(i._resolvedData=h,i.data=Object.assign(Object.assign({},i.data),Ww(i,r).resolve),null)))}(m.route,a,i,e)),(0,Un.b)(()=>h++),__(1),(0,Qr.zg)(m=>h===l.length?(0,qe.of)(r):ba.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Un.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,Un.b)(D=>{const S=new Mw(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}))}),Sh(w=>{const{targetSnapshot:D,id:S,extractedUrl:M,rawUrl:P,extras:{skipLocationChange:Y,replaceUrl:ee}}=w;return this.hooks.afterPreactivation(D,{navigationId:S,appliedUrlTree:M,rawUrlTree:P,skipLocationChange:!!Y,replaceUrl:!!ee})}),(0,ft.U)(w=>{const D=function(i,e,r){const a=$i(i,e._root,r?r._root:void 0);return new k_(a,e)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:D})}),(0,Un.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((i,e,r)=>(0,ft.U)(a=>(new fN(e,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,Un.b)({next(){h=!0},complete(){h=!0}}),function(i){return e=>e.lift(new sN(i))}(()=>{if(!h&&!m){const w=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,w)):this.cancelNavigationTransition(l,w)}this.currentNavigation=null}),Vi(w=>{if(m=!0,function(i){return i&&i[Pw]}(w)){const D=Ao(w.url);D||(this.navigated=!0,this.restoreHistory(l,!0));const S=new E_(l.id,this.serializeUrl(l.extractedUrl),w.message);a.next(S),D?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),P={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||J_(l.source)};this.scheduleNavigation(M,"imperative",null,P,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const D=new mh(l.id,this.serializeUrl(l.extractedUrl),w);a.next(D);try{l.resolve(this.errorHandler(w))}catch(S){l.reject(S)}}return ba.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:l,state:h,urlTree:m}=a,w={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(w.state=D)}this.scheduleNavigation(m,l,h,w)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const l=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!l||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){Ng(r),this.config=r.map(B_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:l,queryParams:h,fragment:m,queryParamsHandling:w,preserveFragment:D}=a,S=l||this.routerState.root,M=D?this.currentUrlTree.fragment:m;let P=null;switch(w){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=h||null}return null!==P&&(P=this.removeEmptyProps(P)),function(i,e,r,a,l){if(0===r.length)return Kw(e.root,e.root,e,a,l);const h=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new FT(!0,0,i);let e=0,r=!1;const a=i.reduce((l,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const w={};return Ln(h.outlets,(D,S)=>{w[S]="string"==typeof D?D.split("/"):D}),[...l,{outlets:w}]}if(h.segmentPath)return[...l,h.segmentPath]}return"string"!=typeof h?[...l,h]:0===m?(h.split("/").forEach((w,D)=>{0==D&&"."===w||(0==D&&""===w?r=!0:".."===w?e++:""!=w&&l.push(w))}),l):[...l,h]},[]);return new FT(r,e,a)}(r);if(h.toRoot())return Kw(e.root,new Ot([],{}),e,a,l);const m=function(i,e,r){if(i.isAbsolute)return new xg(e.root,!0,0);if(-1===r.snapshot._lastPathIndex){const h=r.snapshot._urlSegment;return new xg(h,h===e.root,0)}const a=Sg(i.commands[0])?0:1;return function(i,e,r){let a=i,l=e,h=r;for(;h>l;){if(h-=l,a=a.parent,!a)throw new Error("Invalid number of '../'");l=a.segments.length}return new xg(a,!1,l-h)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(h,e,i),w=m.processChildren?U_(m.segmentGroup,m.index,h.commands):VT(m.segmentGroup,m.index,h.commands);return Kw(m.segmentGroup,w,e,a,l)}(S,this.currentUrlTree,r,P,null!=M?M:null)}navigateByUrl(r,a={skipLocationChange:!1}){const l=Ao(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let e=0;e<i.length;e++){const r=i[e];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${e}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(l){a=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return a}isActive(r,a){let l;if(l=!0===a?Object.assign({},xo):!1===a?Object.assign({},Ug):a,Ao(r))return jw(this.currentUrlTree,r,l);const h=this.parseUrl(r);return jw(this.currentUrlTree,h,l)}removeEmptyProps(r){return Object.keys(r).reduce((a,l)=>{const h=r[l];return null!=h&&(a[l]=h),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new gh(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,l,h,m){var w,D;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),M=J_(a)&&S&&!J_(S.source),ee=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===r.toString();if(M&&ee)return Promise.resolve(!0);let De,Be,Ze;m?(De=m.resolve,Be=m.reject,Ze=m.promise):Ze=new Promise((Mt,pn)=>{De=Mt,Be=pn});const Bt=++this.navigationId;let en;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),en=l&&l.\u0275routerPageId?l.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):en=0,this.setTransition({id:Bt,targetPageId:en,source:a,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:h,resolve:De,reject:Be,promise:Ze,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ze.catch(Mt=>Promise.reject(Mt))}setBrowserUrl(r,a){const l=this.urlSerializer.serialize(r),h=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(l)||a.extras.replaceUrl?this.location.replaceState(l,"",h):this.location.go(l,"",h)}restoreHistory(r,a=!1){var l,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const l=new E_(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.DyG),f.LFG(N_),f.LFG(Dc),f.LFG(Ge),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function J_(i){return"imperative"!==i}let Nh=(()=>{class i{constructor(r,a,l,h,m){this.parentContexts=r,this.location=a,this.resolver=l,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=h||Nt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const m=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,D=new _C(r,w,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Dc),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},i.\u0275dir=f.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class _C{constructor(e,r,a){this.route=e,this.childContexts=r,this.parent=a}get(e,r){return e===Vu?this.route:e===Dc?this.childContexts:this.parent.get(e,r)}}class vC{}class wC{preload(e,r){return(0,qe.of)(null)}}let Bg=(()=>{class i{constructor(r,a,l,h,m){this.router=r,this.injector=h,this.preloadingStrategy=m,this.loader=new Vg(a,l,S=>r.triggerEvent(new IT(S)),S=>r.triggerEvent(new ku(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Li(r=>r instanceof gh),fh(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(f.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const l=[];for(const h of a)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;l.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?l.push(this.preloadConfig(r,h)):h.children&&l.push(this.processRoutes(r,h.children));return(0,hn.D)(l).pipe((0,ur.J)(),(0,ft.U)(h=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,qe.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,Qr.zg)(h=>(a._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(_r),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(vC))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),X_=(()=>{class i{constructor(r,a,l={}){this.router=r,this.viewportScroller=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof ph?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof gh&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Ow&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new Ow(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(_r),f.LFG(Gl),f.LFG(void 0))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Sa=new f.OlP("ROUTER_CONFIGURATION"),ju=new f.OlP("ROUTER_FORROOT_GUARD"),fA=[Ge,{provide:N_,useClass:M_},{provide:_r,useFactory:function(i,e,r,a,l,h,m,w={},D,S){const M=new _r(null,i,e,r,a,l,h,Vw(m));return D&&(M.urlHandlingStrategy=D),S&&(M.routeReuseStrategy=S),function(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy)}(w,M),w.enableTracing&&M.events.subscribe(P=>{var Y,ee;null===(Y=console.group)||void 0===Y||Y.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(ee=console.groupEnd)||void 0===ee||ee.call(console)}),M},deps:[N_,Dc,Ge,f.zs3,f.v3s,f.Sil,Y_,Sa,[class{},new f.FiY],[class{},new f.FiY]]},Dc,{provide:Vu,useFactory:function(i){return i.routerState.root},deps:[_r]},{provide:f.v3s,useClass:f.EAV},Bg,wC,class{preload(e,r){return r().pipe(Vi(()=>(0,qe.of)(null)))}},{provide:Sa,useValue:{enableTracing:!1}}];function pA(){return new f.PXZ("Router",_r)}let Bu=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[fA,bC(r),{provide:ju,useFactory:yA,deps:[[_r,new f.FiY,new f.tp0]]},{provide:Sa,useValue:a||{}},{provide:ae,useFactory:mA,deps:[ge,[new f.tBr(Ae),new f.FiY],Sa]},{provide:X_,useFactory:gA,deps:[_r,Gl,Sa]},{provide:vC,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:wC},{provide:f.PXZ,multi:!0,useFactory:pA},[Qt,{provide:f.ip1,multi:!0,useFactory:ev,deps:[Qt]},{provide:Ks,useFactory:vN,deps:[Qt]},{provide:f.tb,multi:!0,useExisting:Ks}]]}}static forChild(r){return{ngModule:i,providers:[bC(r)]}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ju,8),f.LFG(_r,8))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();function gA(i,e,r){return r.scrollOffset&&e.setOffset(r.scrollOffset),new X_(i,e,r)}function mA(i,e,r={}){return r.useHash?new Ve(i,e):new Se(i,e)}function yA(i){return"guarded"}function bC(i){return[{provide:f.deG,multi:!0,useValue:i},{provide:Y_,multi:!0,useValue:i}]}let Qt=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Do.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const l=new Promise(w=>a=w),h=this.injector.get(_r),m=this.injector.get(Sa);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),a(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),h.initialNavigation()):a(!0),l})}bootstrapListener(r){const a=this.injector.get(Sa),l=this.injector.get(Bg),h=this.injector.get(X_),m=this.injector.get(_r),w=this.injector.get(f.z2F);r===w.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&m.initialNavigation(),l.setUpPreloading(),h.init(),m.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.zs3))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function ev(i){return i.appInitializer.bind(i)}function vN(i){return i.bootstrapListener.bind(i)}const Ks=new f.OlP("Router Initializer");var Hu=k(5676),Jt=k(4685),Mh=k(5452),xa=k(300),nv=k(6034),TC=k(6682),Tc=k(309),vA=k(7771),EA=k(8858);class Rh extends Do.xQ{constructor(e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new rv(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,h=a.length;let m;if(this.closed)throw new _w.N;if(this.isStopped||this.hasError?m=bT.w.EMPTY:(this.observers.push(e),m=new EA.W(this,e)),l&&e.add(e=new Tc.ht(e,l)),r)for(let w=0;w<h&&!e.closed;w++)e.next(a[w]);else for(let w=0;w<h&&!e.closed;w++)e.next(a[w].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),m}_getNow(){return(this.scheduler||vA.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),r=this._bufferSize,a=this._windowTime,l=this._events,h=l.length;let m=0;for(;m<h&&!(e-l[m].time<a);)m++;return h>r&&(m=Math.max(m,h-r)),m>0&&l.splice(0,m),l}}class rv{constructor(e,r){this.time=e,this.value=r}}function iv(i,e,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:e,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let l,m,h=0,w=!1,D=!1;return function(M){let P;h++,!l||w?(w=!1,l=new Rh(i,e,a),P=l.subscribe(this),m=M.subscribe({next(Y){l.next(Y)},error(Y){w=!0,l.error(Y)},complete(){D=!0,m=void 0,l.complete()}}),D&&(m=void 0)):P=l.subscribe(this),this.add(()=>{h--,P.unsubscribe(),P=void 0,m&&!D&&r&&0===h&&(m.unsubscribe(),m=void 0,l=void 0)})}}(a))}function sv(i,e){return e?Ar(()=>i,e):Ar(()=>i)}var Hg=k(3101),vr=k(9126),No=k(8939),SC=k(7841);const ov=new f.OlP("angularfire2.auth.use-emulator"),CA=new f.OlP("angularfire2.auth.settings"),av=new f.OlP("angularfire2.auth.tenant-id"),xC=new f.OlP("angularfire2.auth.langugage-code"),NC=new f.OlP("angularfire2.auth.use-device-language"),bA=new f.OlP("angularfire.auth.persistence"),IA=(i,e,r,a,l,h,m,w)=>(0,vr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=e.runOutsideAngular(()=>i.auth());if(r&&D.useEmulator(...r),a&&(D.tenantId=a),D.languageCode=l,h&&D.useDeviceLanguage(),m)for(const[S,M]of Object.entries(m))D.settings[S]=M;return w&&D.setPersistence(w),D},[r,a,l,h,m,w]);let Na=(()=>{class i{constructor(r,a,l,h,m,w,D,S,M,P,Y){const ee=new Do.xQ,De=(0,qe.of)(void 0).pipe((0,Tc.QV)(m.outsideAngular),Ar(()=>h.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4828)))),(0,ft.U)(()=>(0,No.on)(r,h,a)),(0,ft.U)(Be=>IA(Be,h,w,S,M,P,D,Y)),iv({bufferSize:1,refCount:!1}));if(Ed(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{De.pipe(ji()).subscribe();const Ze=De.pipe(Ar(Mt=>Mt.getRedirectResult().then(pn=>pn,()=>null)),vr.iC,iv({bufferSize:1,refCount:!1})),Bt=De.pipe(Ar(Mt=>new Ei.y(pn=>({unsubscribe:h.runOutsideAngular(()=>Mt.onAuthStateChanged(hi=>pn.next(hi),hi=>pn.error(hi),()=>pn.complete()))})))),en=De.pipe(Ar(Mt=>new Ei.y(pn=>({unsubscribe:h.runOutsideAngular(()=>Mt.onIdTokenChanged(hi=>pn.next(hi),hi=>pn.error(hi),()=>pn.complete()))}))));this.authState=Ze.pipe(sv(Bt),(0,Hg.R)(m.outsideAngular),(0,Tc.QV)(m.insideAngular)),this.user=Ze.pipe(sv(en),(0,Hg.R)(m.outsideAngular),(0,Tc.QV)(m.insideAngular)),this.idToken=this.user.pipe(Ar(Mt=>Mt?(0,hn.D)(Mt.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(Ar(Mt=>Mt?(0,hn.D)(Mt.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,TC.T)(Ze,ee,this.authState.pipe(Li(Mt=>!Mt))).pipe((0,ft.U)(Mt=>(null==Mt?void 0:Mt.user)?Mt:null),(0,Hg.R)(m.outsideAngular),(0,Tc.QV)(m.insideAngular))}return(0,No.pX)(this,De,h,{spy:{apply:(Be,Ze,Bt)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Bt.then(en=>ee.next(en))}}})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(No.Dh),f.LFG(No.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(vr.HU),f.LFG(ov,8),f.LFG(CA,8),f.LFG(av,8),f.LFG(xC,8),f.LFG(NC,8),f.LFG(bA,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),DA=(()=>{class i{constructor(){SC.Z.registerVersion("angularfire",vr.q4.full,"auth-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[Na]}),i})();function MC(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",18),f.NdJ("click",function(){return f.CHM(r),f.oxw(2).register()}),f._uU(1,"Register"),f.qZA()}}function RC(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",18),f.NdJ("click",function(){return f.CHM(r),f.oxw(2).login()}),f._uU(1,"Login"),f.qZA()}}function EN(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",18),f.NdJ("click",function(){return f.CHM(r),f.oxw(2).cerrarSession()}),f._uU(1,"Log Out"),f.qZA()}}function Ts(i,e){if(1&i&&(f.TgZ(0,"nav",1),f.TgZ(1,"a",2),f._uU(2,"Spirit"),f.qZA(),f.TgZ(3,"button",3),f._UZ(4,"span",4),f.qZA(),f.TgZ(5,"div",5),f.TgZ(6,"ul",6),f.TgZ(7,"li",7),f.TgZ(8,"a",8),f._uU(9,"Home "),f.TgZ(10,"span",9),f._uU(11,"(current)"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(12,"li",10),f.TgZ(13,"a",11),f._uU(14,"Ahorcado"),f.qZA(),f.qZA(),f.TgZ(15,"li",10),f.TgZ(16,"a",12),f._uU(17,"Mayor o Menor"),f.qZA(),f.qZA(),f.TgZ(18,"li",10),f.TgZ(19,"a",13),f._uU(20,"Preguntados"),f.qZA(),f.qZA(),f.TgZ(21,"li",10),f.TgZ(22,"a",14),f._uU(23,"Chat"),f.qZA(),f.qZA(),f.TgZ(24,"li",10),f.TgZ(25,"a",15),f._uU(26,"Quien Soy?"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(27,"li",10),f.TgZ(28,"a",16),f._uU(29),f.qZA(),f.qZA(),f.YNc(30,MC,2,0,"button",17),f.YNc(31,RC,2,0,"button",17),f.YNc(32,EN,2,0,"button",17),f.qZA(),f.qZA()),2&i){const r=f.oxw();f.xp6(29),f.hij("",r.saludo," "),f.xp6(1),f.Q6J("ngIf",r.isShown),f.xp6(1),f.Q6J("ngIf",r.isShown),f.xp6(1),f.Q6J("ngIf",r.isShowna)}}let Oh=(()=>{class i{constructor(r,a){this.router=r,this.autentificacion=a,this.ruta="",this.isShown=!0,this.isShowna=!1,this.isShowni=!0;try{this.auth=(0,Hu.n)(),this.user=this.auth.currentUser,null!=this.user?(this.saludo="hola "+this.user.email,this.isShown=!1,this.isShowna=!0):"true"==localStorage.getItem("logueado")&&(this.name=localStorage.getItem("name"),this.password=localStorage.getItem("password"),this.saludo="hola "+this.name,this.isShown=!1,this.isShowna=!0,this.autentificacion.signInWithEmailAndPassword(this.name,this.password))}catch(l){this.name=localStorage.getItem("name"),this.password=localStorage.getItem("password"),this.saludo="","true"==localStorage.getItem("logueado")&&a.signInWithEmailAndPassword(this.name,this.password),console.log(l)}}ngOnInit(){this.isShown=!0,this.isShowna=!1,this.isShowni=!0;try{this.auth=(0,Hu.n)(),this.user=this.auth.currentUser,null!=this.user?(this.saludo="hola "+this.user.email,this.isShown=!1,this.isShowna=!0):"true"==localStorage.getItem("logueado")&&(this.name=localStorage.getItem("name"),this.password=localStorage.getItem("password"),this.saludo="hola "+this.name,this.isShown=!1,this.isShowna=!0,this.autentificacion.signInWithEmailAndPassword(this.name,this.password))}catch(r){this.isShown=!0,this.isShowna=!1,this.name=localStorage.getItem("name"),this.password=localStorage.getItem("password"),this.saludo="","true"==localStorage.getItem("logueado")&&(this.saludo="hola "+this.name,this.isShown=!1,this.isShowna=!0,this.autentificacion.signInWithEmailAndPassword(this.name,this.password)),console.log(r)}}cerrarSession(){localStorage.removeItem("name"),localStorage.removeItem("password"),localStorage.removeItem("logueado"),this.autentificacion.signOut(),this.isShown=!0,this.isShowna=!1,this.saludo="",this.router.navigate([this.ruta])}register(){this.router.navigate(["./registro"])}login(){this.router.navigate(["./login"])}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(_r),f.Y36(Na))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-pagina"]],inputs:{ruta:"ruta"},decls:1,vars:1,consts:[["class","navbar navbar-expand-sm navbar-dark fixed-top bg-dark",4,"ngIf"],[1,"navbar","navbar-expand-sm","navbar-dark","fixed-top","bg-dark"],[1,"navbar-toggler"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["href","/",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["href","/Ahorcado",1,"nav-link"],["href","/MayorMenor",1,"nav-link"],["href","/preguntados",1,"nav-link"],["href","/chat",1,"nav-link"],["href","/QuienSoy",1,"nav-link"],[2,"color","white"],["class","btn btn-outline-success my-2 my-sm-0",3,"click",4,"ngIf"],[1,"btn","btn-outline-success","my-2","my-sm-0",3,"click"]],template:function(r,a){1&r&&f.YNc(0,Ts,33,4,"nav",0),2&r&&f.Q6J("ngIf",a.isShowni)},directives:[Zr],styles:[""]}),i})();function wN(i,e){if(1&i&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&i){const r=e.$implicit;f.xp6(1),f.hij("",r," ")}}function CN(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",13),f.NdJ("click",function(){return f.CHM(r),f.oxw().inicio()}),f._uU(1,"Iniciar"),f.qZA()}if(2&i){const r=f.oxw();f.Q6J("innerHTML",r.reset,f.oJD)}}function OC(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",14),f.NdJ("click",function(){return f.CHM(r),f.oxw().verPista()}),f._uU(1,"Dame una pista!"),f.qZA()}}function PC(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"div",7),f.TgZ(1,"button",17),f.NdJ("click",function(l){const m=f.CHM(r).$implicit;return f.oxw(2).intento(m,l)}),f._uU(2),f.qZA(),f.qZA()}if(2&i){const r=e.$implicit;f.xp6(2),f.Oqu(r)}}function kC(i,e){if(1&i&&(f.TgZ(0,"div",15),f.YNc(1,PC,3,1,"div",16),f._UZ(2,"div",7),f.qZA()),2&i){const r=f.oxw();f.xp6(1),f.Q6J("ngForOf",r.letras)}}let TA=(()=>{class i{constructor(){this.palabra="",this.palabras=[["atlantico","Un oc\xe9ano"],["ordenador","Una m\xe1quina"],["cordoba","provincia"],["plaza","Espacio p\xfablico"],["celular","Gran invento"],["mandarina","Una fruta"],["efootball","Un juego"],["Velasco","jugador inutil de independiente"],["everest","Un monte"],["relampago","Antecede al trueno"],["jirafa","Un animal"],["alemania","Un pa\xeds"],["uruguay","Un pa\xeds"],["ilustracion","Representaci\xf3n gr\xe1fica"],["excursion","Actividad en la naturaleza"],["pan","De la panader\xeda"],["factura","De la panaderia"],["colegio","Lugar para estudiar"],["carrera","Competici\xf3n"],["mantecol","dulce"]],this.hueco=[],this.rand=0,this.abcdario="",this.acierto="",this.letras=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","\xf1","o","p","q","r","s","t","u","v","w","x","y","z"],this.ver=!1,this.msgfinal="",this.reset="Iniciar",this.verPisto=!1,this.verIniciar=!0,this.cont=0,this.pista=""}ngOnInit(){this.cont=0,this.pista=""}inicio(){"true"==localStorage.logueado?(this.generaPalabra(),this.cont=6,this.pintarGuiones(this.palabra.length),this.ver=!0,this.reset="Elegir otra palabra",this.msgfinal="",this.verPisto=!0,this.verIniciar=!1,this.acierto=""):this.acierto="ten\xe9s que iniciar sessi\xf3n"}verPista(){this.pista="Pista: "+this.palabras[this.rand][1],"true"!=localStorage.logueado&&(this.verPisto=!1,this.verIniciar=!0,this.cont=0,this.ver=!1,this.hueco=[],this.pista="ten\xe9s que iniciar sessi\xf3n",this.msgfinal="",this.acierto="")}generaPalabra(){this.rand=Number.parseInt((19*Math.random()).toFixed(0)),this.palabra=this.palabras[this.rand][0].toLowerCase()}intento(r,a){try{if("true"==localStorage.logueado){if(a.target.disabled=!0,-1!=this.palabra.indexOf(r)){for(var l=0;l<this.palabra.length;l++)this.palabra[l]==r&&(this.hueco[l]=r);this.acierto="Bien!"}else this.cont--,this.acierto="Fallo!";console.log(r),this.compruebaFin()}else this.verPisto=!1,this.verIniciar=!0,this.cont=0,this.ver=!1,this.hueco=[],this.pista="",this.msgfinal="",this.acierto="ten\xe9s que iniciar sessi\xf3n"}catch(h){alert("no funciona"),console.log(h)}}compruebaFin(){-1==this.hueco.indexOf("_ ")?(this.msgfinal="Felicidades !!",this.verPisto=!1,this.verIniciar=!0,this.ver=!1,this.reset="Elegir otra palabra",this.acierto=""):0==this.cont&&(this.msgfinal="Game Over",this.ver=!1,this.verPisto=!1,this.verIniciar=!0,this.reset="Elegir otra palabra",this.acierto="")}pintarGuiones(r){this.hueco=[];for(var a=0;a<r;a++)this.hueco.push("_ ")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-ahorcado"]],decls:25,vars:8,consts:[["ruta","/Ahorcado"],[1,"main-container"],[1,"titulo"],[3,"innerHTML"],[1,"flex-row","no-wrap"],["id","palabra",1,"palabra"],["id","turnos",1,"flex-row"],[1,"col"],["id","intentos"],[4,"ngFor","ngForOf"],[3,"innerHTML","click",4,"ngIf"],["id","pista",3,"click",4,"ngIf"],["class","flex-row",4,"ngIf"],[3,"innerHTML","click"],["id","pista",3,"click"],[1,"flex-row"],["class","col",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,a){1&r&&(f._UZ(0,"app-pagina",0),f._UZ(1,"br"),f._UZ(2,"br"),f.TgZ(3,"div",1),f.TgZ(4,"h1",2),f._uU(5,"Juego del Ahorcado"),f.qZA(),f._UZ(6,"h1",3),f._UZ(7,"h3",3),f.TgZ(8,"div",4),f._UZ(9,"h2",5),f.qZA(),f.TgZ(10,"div",6),f.TgZ(11,"div",7),f.TgZ(12,"h3"),f._uU(13,"Intentos restantes: "),f.TgZ(14,"span",8),f._uU(15),f.qZA(),f.qZA(),f.qZA(),f.TgZ(16,"div",7),f.YNc(17,wN,2,1,"span",9),f._UZ(18,"br"),f.TgZ(19,"span"),f._uU(20),f.qZA(),f._UZ(21,"br"),f.YNc(22,CN,2,1,"button",10),f.YNc(23,OC,2,0,"button",11),f.qZA(),f.qZA(),f.YNc(24,kC,3,1,"div",12),f.qZA()),2&r&&(f.xp6(6),f.Q6J("innerHTML",a.msgfinal,f.oJD),f.xp6(1),f.Q6J("innerHTML",a.acierto,f.oJD),f.xp6(8),f.Oqu(a.cont),f.xp6(2),f.Q6J("ngForOf",a.hueco),f.xp6(3),f.hij("",a.pista," "),f.xp6(2),f.Q6J("ngIf",a.verIniciar),f.xp6(1),f.Q6J("ngIf",a.verPisto),f.xp6(1),f.Q6J("ngIf",a.ver))},directives:[Oh,Fs,Zr],styles:[".main-container[_ngcontent-%COMP%]{max-width:800px;margin:auto}h1.titulo[_ngcontent-%COMP%]{margin:50px auto 80px;text-align:center;font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif}h1#msg-final[_ngcontent-%COMP%]{text-align:center;color:#dc143c;transition:all .5s ease;transform:scale(0);min-height:50px;margin-bottom:0}.zoom-in[_ngcontent-%COMP%]{transform:scale(1)!important}#acierto[_ngcontent-%COMP%]{text-align:center;min-height:24px;transform:scale(0)}.acierto[_ngcontent-%COMP%]{animation:zoomInOut 1s ease}.rojo[_ngcontent-%COMP%]{color:red}.verde[_ngcontent-%COMP%]{color:green}@keyframes zoomInOut{0%{transform:scale(0)}50%{transform:scale(1)}70%{transform:scale(1)}to{transform:scale(0)}}h2.palabra[_ngcontent-%COMP%]{margin:0 auto 25px;text-align:center;color:#4169e1;text-transform:uppercase;letter-spacing:6px}.flex-row[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin:10px auto}.no-wrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.col[_ngcontent-%COMP%]{width:50%;text-align:center}#turnos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:auto}h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff4500}.letra[_ngcontent-%COMP%]:disabled{color:#ff000080}picture[_ngcontent-%COMP%]{position:relative}picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:-203px;left:-205px;height:225px}#image5[_ngcontent-%COMP%], #image4[_ngcontent-%COMP%], #image3[_ngcontent-%COMP%], #image2[_ngcontent-%COMP%], #image1[_ngcontent-%COMP%], #image0[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.fade-in[_ngcontent-%COMP%]{opacity:1!important}.encuadre[_ngcontent-%COMP%]{border:2px dashed crimson;padding:3px 2px 2px 6px}"]}),i})();var Ce=k(8239),$g=function(i,e){return($g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])})(i,e)};function FC(i){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&i[e],a=0;if(r)return r.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var We,lv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},cv=cv||{},yt=lv||self;function qg(){}function dv(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ph(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ma="closure_uid_"+(1e9*Math.random()>>>0),LC=0;function As(i,e,r){return i.call.apply(i.bind,arguments)}function kh(i,e,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Sr(i,e,r){return(Sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?As:kh).apply(null,arguments)}function Zg(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function lr(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,l,h){for(var m=Array(arguments.length-2),w=2;w<arguments.length;w++)m[w-2]=arguments[w];return e.prototype[l].apply(a,m)}}function xr(){this.s=this.s,this.o=this.o}var Fr={};xr.prototype.s=!1,xr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Ma)&&i[Ma]||(i[Ma]=++LC)}(this);delete Fr[i]}},xr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ra=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(var r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},Lh=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){for(var a=i.length,l="string"==typeof i?i.split(""):i,h=0;h<a;h++)h in l&&e.call(r,l[h],h,i)};function Wg(i){return Array.prototype.concat.apply([],arguments)}function Oa(i){var e=i.length;if(0<e){for(var r=Array(e),a=0;a<e;a++)r[a]=i[a];return r}return[]}function Mo(i){return/^[\s\xa0]*$/.test(i)}var Qn,$u=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Yn(i,e){return-1!=i.indexOf(e)}function Pa(i,e){return i<e?-1:i>e?1:0}e:{var qu=yt.navigator;if(qu){var Gu=qu.userAgent;if(Gu){Qn=Gu;break e}}Qn=""}function ka(i,e,r){for(var a in i)e.call(r,i[a],a,i)}function hv(i){var e={};for(var r in i)e[r]=i[r];return e}var fv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pv(i,e){for(var r,a,l=1;l<arguments.length;l++){for(r in a=arguments[l])i[r]=a[r];for(var h=0;h<fv.length;h++)r=fv[h],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function zg(i){return zg[" "](i),i}zg[" "]=qg;var Yg,i,UC=Yn(Qn,"Opera"),Zu=Yn(Qn,"Trident")||Yn(Qn,"MSIE"),gv=Yn(Qn,"Edge"),Kg=gv||Zu,jC=Yn(Qn,"Gecko")&&!(Yn(Qn.toLowerCase(),"webkit")&&!Yn(Qn,"Edge"))&&!(Yn(Qn,"Trident")||Yn(Qn,"MSIE"))&&!Yn(Qn,"Edge"),BC=Yn(Qn.toLowerCase(),"webkit")&&!Yn(Qn,"Edge");function HC(){var i=yt.document;return i?i.documentMode:void 0}e:{var Qg="",mv=(i=Qn,jC?/rv:([^\);]+)(\)|;)/.exec(i):gv?/Edge\/([\d\.]+)/.exec(i):Zu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):BC?/WebKit\/(\S+)/.exec(i):UC?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(mv&&(Qg=mv?mv[1]:""),Zu){var $C=HC();if(null!=$C&&$C>parseFloat(Qg)){Yg=String($C);break e}}Yg=Qg}var AA={};function qC(){return e=AA,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var i=0,e=$u(String(Yg)).split("."),r=$u("9").split("."),a=Math.max(e.length,r.length),l=0;0==i&&l<a;l++){var h=e[l]||"",m=r[l]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;i=Pa(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||Pa(0==h[2].length,0==m[2].length)||Pa(h[2],m[2]),h=h[3],m=m[3]}while(0==i)}return 0<=i}();var e}var SA=yt.document&&Zu&&(HC()||parseInt(Yg,10))||void 0,xA=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{yt.addEventListener("test",qg,e),yt.removeEventListener("test",qg,e)}catch(r){}return i}();function Jr(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Vh(i,e){if(Jr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(jC){e:{try{zg(e.nodeName);var l=!0;break e}catch(h){}l=!1}l||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:GC[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Vh.Z.h.call(this)}}Jr.prototype.h=function(){this.defaultPrevented=!0},lr(Vh,Jr);var GC={2:"touch",3:"pen",4:"mouse"};Vh.prototype.h=function(){Vh.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Jg="closure_listenable_"+(1e6*Math.random()|0),bN=0;function IN(i,e,r,a,l){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!a,this.ia=l,this.key=++bN,this.ca=this.fa=!1}function Xg(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function vv(i){this.src=i,this.g={},this.h=0}function Ev(i,e){var r=e.type;if(r in i.g){var h,a=i.g[r],l=Ra(a,e);(h=0<=l)&&Array.prototype.splice.call(a,l,1),h&&(Xg(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function wv(i,e,r,a){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==e&&h.capture==!!r&&h.ia==a)return l}return-1}vv.prototype.add=function(i,e,r,a,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var m=wv(i,e,a,l);return-1<m?(e=i[m],r||(e.fa=!1)):((e=new IN(e,this.src,h,!!a,l)).fa=r,i.push(e)),e};var Uh="closure_lm_"+(1e6*Math.random()|0),jh={};function ZC(i,e,r,a,l){if(a&&a.once)return MA(i,e,r,a,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)ZC(i,e[h],r,a,l);return null}return r=tm(r),i&&i[Jg]?i.N(e,r,Ph(a)?!!a.capture:!!a,l):NA(i,e,r,!1,a,l)}function NA(i,e,r,a,l,h){if(!e)throw Error("Invalid event type");var m=Ph(l)?!!l.capture:!!l,w=Fa(i);if(w||(i[Uh]=w=new vv(i)),(r=w.add(e,r,a,m,h)).proxy)return r;if(a=function(){var e=OA;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)xA||(l=m),void 0===l&&(l=!1),i.addEventListener(e.toString(),a,l);else if(i.attachEvent)i.attachEvent(RA(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function MA(i,e,r,a,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)MA(i,e[h],r,a,l);return null}return r=tm(r),i&&i[Jg]?i.O(e,r,Ph(a)?!!a.capture:!!a,l):NA(i,e,r,!0,a,l)}function WC(i,e,r,a,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)WC(i,e[h],r,a,l);else a=Ph(a)?!!a.capture:!!a,r=tm(r),i&&i[Jg]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=wv(h=i.g[e],r,a,l))&&(Xg(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=Fa(i))&&(e=i.g[e.toString()],i=-1,e&&(i=wv(e,r,a,l)),(r=-1<i?e[i]:null)&&em(r))}function em(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Jg])Ev(e.i,i);else{var r=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(r,a,i.capture):e.detachEvent?e.detachEvent(RA(r),a):e.addListener&&e.removeListener&&e.removeListener(a),(r=Fa(e))?(Ev(r,i),0==r.h&&(r.src=null,e[Uh]=null)):Xg(i)}}}function RA(i){return i in jh?jh[i]:jh[i]="on"+i}function OA(i,e){if(i.ca)i=!0;else{e=new Vh(e,this);var r=i.listener,a=i.ia||i.src;i.fa&&em(i),i=r.call(a,e)}return i}function Fa(i){return(i=i[Uh])instanceof vv?i:null}var Cv="__closure_events_fn_"+(1e9*Math.random()>>>0);function tm(i){return"function"==typeof i?i:(i[Cv]||(i[Cv]=function(e){return i.handleEvent(e)}),i[Cv])}function Er(){xr.call(this),this.i=new vv(this),this.P=this,this.I=null}function wr(i,e){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=e.type||e,"string"==typeof e)e=new Jr(e,i);else if(e instanceof Jr)e.target=e.target||i;else{var l=e;pv(e=new Jr(a,i),l)}if(l=!0,r)for(var h=r.length-1;0<=h;h--){var m=e.g=r[h];l=Wu(m,a,!0,e)&&l}if(l=Wu(m=e.g=i,a,!0,e)&&l,l=Wu(m,a,!1,e)&&l,r)for(h=0;h<r.length;h++)l=Wu(m=e.g=r[h],a,!1,e)&&l}function Wu(i,e,r,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var m=e[h];if(m&&!m.ca&&m.capture==r){var w=m.listener,D=m.ia||m.src;m.fa&&Ev(i.i,m),l=!1!==w.call(D,a)&&l}}return l&&!a.defaultPrevented}lr(Er,xr),Er.prototype[Jg]=!0,Er.prototype.removeEventListener=function(i,e,r,a){WC(this,i,e,r,a)},Er.prototype.M=function(){if(Er.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],a=0;a<r.length;a++)Xg(r[a]);delete i.g[e],i.h--}}this.I=null},Er.prototype.N=function(i,e,r,a){return this.i.add(String(i),e,!1,r,a)},Er.prototype.O=function(i,e,r,a){return this.i.add(String(i),e,!0,r,a)};var bv=yt.JSON.stringify;function zC(){var i=Dv,e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var nm,PA=function(){function i(){this.h=this.g=null}return i.prototype.add=function(e,r){var a=KC.get();a.set(e,r),this.h?this.h.next=a:this.g=a,this.h=a},i}(),KC=new(function(){function i(e,r){this.i=e,this.j=r,this.h=0,this.g=null}return i.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},i}())(function(){return new kA},function(i){return i.reset()}),kA=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(e,r){this.h=e,this.g=r,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function FA(i){yt.setTimeout(function(){throw i},0)}function Iv(i,e){nm||function(){var i=yt.Promise.resolve(void 0);nm=function(){i.then(Tv)}}(),rm||(nm(),rm=!0),Dv.add(i,e)}var rm=!1,Dv=new PA;function Tv(){for(var i;i=zC();){try{i.h.call(i.g)}catch(r){FA(r)}var e=KC;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}rm=!1}function Av(i,e){Er.call(this),this.h=i||1,this.g=e||yt,this.j=Sr(this.kb,this),this.l=Date.now()}function Bh(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Sv(i,e,r){if("function"==typeof i)r&&(i=Sr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Sr(i.handleEvent,i)}return 2147483647<Number(e)?-1:yt.setTimeout(i,e||0)}function VA(i){i.g=Sv(function(){i.g=null,i.i&&(i.i=!1,VA(i))},i.j);var e=i.h;i.h=null,i.m.apply(null,e)}lr(Av,Er),(We=Av.prototype).da=!1,We.S=null,We.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wr(this,"tick"),this.da&&(Bh(this),this.start()))}},We.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.M=function(){Av.Z.M.call(this),Bh(this),delete this.g};var Hh=function(i){function e(r,a){var l=i.call(this)||this;return l.m=r,l.j=a,l.h=null,l.i=!1,l.g=null,l}return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=i}$g(i,e),i.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,i),e.prototype.l=function(r){this.h=arguments,this.g?this.i=!0:VA(this)},e.prototype.M=function(){i.prototype.M.call(this),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(xr);function $h(i){xr.call(this),this.h=i,this.g={}}lr($h,xr);var im=[];function sm(i,e,r,a){Array.isArray(r)||(r&&(im[0]=r.toString()),r=im);for(var l=0;l<r.length;l++){var h=ZC(e,r[l],a||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function YC(i){ka(i.g,function(e,r){this.g.hasOwnProperty(r)&&em(e)},i),i.g={}}function Ac(){this.g=!0}function qh(i,e,r,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<l.length;m++)l[m]=""}}}return bv(r)}catch(w){return e}}(i,r)+(a?" "+a:"")})}$h.prototype.M=function(){$h.Z.M.call(this),YC(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ac.prototype.Aa=function(){this.g=!1},Ac.prototype.info=function(){};var La={},XC=null;function Gh(){return XC=XC||new Er}function om(i){Jr.call(this,La.Ma,i)}function Sc(i){var e=Gh();wr(e,new om(e,i))}function am(i,e){Jr.call(this,La.STAT_EVENT,i),this.stat=e}function Nr(i){var e=Gh();wr(e,new am(e,i))}function Nv(i,e){Jr.call(this,La.Na,i),this.size=e}function Zh(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){i()},e)}La.Ma="serverreachability",lr(om,Jr),La.STAT_EVENT="statevent",lr(am,Jr),La.Na="timingevent",lr(Nv,Jr);var Wh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zh(){}function eb(){}zh.prototype.h=null;var Yh,Kh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ov(){Jr.call(this,"d")}function um(){Jr.call(this,"c")}function Qh(){}function xc(i,e,r,a){this.l=i,this.j=e,this.m=r,this.X=a||1,this.V=new $h(this),this.P=tb,this.W=new Av(i=Kg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Pv}function Pv(){this.i=null,this.g="",this.h=!1}lr(Ov,Jr),lr(um,Jr),lr(Qh,zh),Qh.prototype.g=function(){return new XMLHttpRequest},Qh.prototype.i=function(){return{}},Yh=new Qh;var tb=45e3,lm={},Jh={};function cm(i,e,r){i.K=1,i.v=fm(Ro(e)),i.s=r,i.U=!0,kv(i,null)}function kv(i,e){i.F=Date.now(),Nc(i),i.A=Ro(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),ub(r.h,"t",a),i.C=0,r=i.l.H,i.h=new Pv,i.g=ff(i.l,r?e:null,!i.s),0<i.O&&(i.L=new Hh(Sr(i.Ia,i,i.g),i.O)),sm(i.V,i.g,"readystatechange",i.gb),e=i.H?hv(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Sc(1),function(i,e,r,a,l,h){i.info(function(){if(i.g)if(h)for(var m="",w=h.split("&"),D=0;D<w.length;D++){var S=w[D].split("=");if(1<S.length){var M=S[0];S=S[1];var P=M.split("_");m=2<=P.length&&"type"==P[1]?m+(M+"=")+S+"&":m+(M+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+e+"\n"+r+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function jA(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function nb(i,e,r){for(var l,a=!0;!i.I&&i.C<r.length;){if((l=BA(i,r))==Jh){4==e&&(i.o=4,Nr(14),a=!1),qh(i.j,i.m,null,"[Incomplete Response]");break}if(l==lm){i.o=4,Nr(15),qh(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}qh(i.j,i.m,l,null),Fv(i,l)}jA(i)&&l!=Jh&&l!=lm&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,Nr(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),bb(e),e.L=!0,Nr(11))):(qh(i.j,i.m,r,"[Invalid Chunked Response]"),zu(i),Mc(i))}function BA(i,e){var r=i.C,a=e.indexOf("\n",r);return-1==a?Jh:(r=Number(e.substring(r,a)),isNaN(r)?lm:(a+=1)+r>e.length?Jh:(e=e.substr(a,r),i.C=a+r,e))}function Nc(i){i.Y=Date.now()+i.P,rb(i,i.P)}function rb(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Zh(Sr(i.eb,i),e)}function jn(i){i.B&&(yt.clearTimeout(i.B),i.B=null)}function Mc(i){0==i.l.G||i.I||eS(i.l,i)}function zu(i){jn(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Bh(i.W),YC(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Fv(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||Rc(r.i,i)))if(r.I=i.N,!i.J&&Rc(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(e)}catch(Ze){a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=Zh(Sr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;hf(r),af(r)}df(r),Nr(18)}if(1>=gm(r.i)&&r.ka){try{r.ka()}catch(Ze){}r.ka=void 0}}else el(r,11)}else if((i.J||r.g==i)&&hf(r),!Mo(e))for(l=r.Ca.g.parse(e),e=0;e<l.length;e++){var h=l[e];if(r.U=h[0],h=h[1],2==r.G)if("c"==h[0]){r.J=h[1],r.la=h[2];var m=h[3];null!=m&&(r.ma=m,r.h.info("VER="+r.ma));var w=h[4];null!=w&&(r.za=w,r.h.info("SVER="+r.za));var D=h[5];null!=D&&"number"==typeof D&&0<D&&(r.K=a=1.5*D,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;var S=i.g;if(S){var M=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var P=a.i;!P.g&&(Yn(M,"spdy")||Yn(M,"quic")||Yn(M,"h2"))&&(P.j=P.l,P.g=new Set,P.h&&(tf(P,P.h),P.h=null))}if(a.D){var Y=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(a.sa=Y,qt(a.F,a.D,Y))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var ee=i;if((a=r).oa=Db(a,a.H?a.la:null,a.W),ee.J){Hv(a.i,ee);var De=ee,Be=a.K;Be&&De.setTimeout(Be),De.B&&(jn(De),Nc(De)),a.g=ee}else XA(a);0<r.l.length&&lf(r)}else"stop"!=h[0]&&"close"!=h[0]||el(r,7);else 3==r.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?el(r,7):Em(r):"noop"!=h[0]&&r.j&&r.j.wa(h),r.A=0)}Sc(4)}catch(Ze){}}function Lv(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(dv(i)||"string"==typeof i)Lh(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(dv(i)||"string"==typeof i){r=[];for(var a=i.length,l=0;l<a;l++)r.push(l)}else for(l in r=[],a=0,i)r[a++]=l;l=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(dv(i)){for(var e=[],r=i.length,a=0;a<r;a++)e.push(i[a]);return e}for(a in e=[],r=0,i)e[r++]=i[a];return e}(i)).length;for(var h=0;h<l;h++)e.call(void 0,a[h],r&&r[h],i)}}function Ku(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof Ku)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function dm(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var a=i.g[e];Zi(i.h,a)&&(i.g[r++]=a),e++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=e=0;e<i.g.length;)Zi(l,a=i.g[e])||(i.g[r++]=a,l[a]=1),e++;i.g.length=r}}function Zi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(We=xc.prototype).setTimeout=function(i){this.P=i},We.gb=function(i){i=i.target;var e=this.L;e&&3==Qs(i)?e.l():this.Ia(i)},We.Ia=function(i){try{if(i==this.g)e:{var e=Qs(this.g),r=this.g.Da(),a=this.g.ba();if(!(3>e)&&(3!=e||Kg||this.g&&(this.h.h||this.g.ga()||Gv(this.g)))){this.I||4!=e||7==r||Sc(8==r||0>=a?3:2),jn(this);var l=this.g.ba();this.N=l;t:if(jA(this)){var h=Gv(this.g);i="";var m=h.length,w=4==Qs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zu(this),Mc(this);var D="";break t}this.h.i=new yt.TextDecoder}for(r=0;r<m;r++)this.h.h=!0,i+=this.h.i.decode(h[r],{stream:w&&r==m-1});h.splice(0,m),this.h.g+=i,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==l,function(i,e,r,a,l,h,m){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,e,l),this.i){if(this.$&&!this.J){t:{if(this.g){var S,M=this.g;if((S=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mo(S)){var P=S;break t}}P=null}if(!(l=P)){this.i=!1,this.o=3,Nr(12),zu(this),Mc(this);break e}qh(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fv(this,l)}this.U?(nb(this,e,D),Kg&&this.i&&3==e&&(sm(this.V,this.W,"tick",this.fb),this.W.start())):(qh(this.j,this.m,D,null),Fv(this,D)),4==e&&zu(this),this.i&&!this.I&&(4==e?eS(this.l,this):(this.i=!1,Nc(this)))}else 400==l&&0<D.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),zu(this),Mc(this)}}}catch(Y){}},We.fb=function(){if(this.g){var i=Qs(this.g),e=this.g.ga();this.C<e.length&&(jn(this),nb(this,i,e),this.i&&4!=i&&Nc(this))}},We.cancel=function(){this.I=!0,zu(this)},We.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Sc(3),Nr(17)),zu(this),this.o=2,Mc(this)):rb(this,this.Y-i)},(We=Ku.prototype).R=function(){dm(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},We.T=function(){return dm(this),this.g.concat()},We.get=function(i,e){return Zi(this.h,i)?this.h[i]:e},We.set=function(i,e){Zi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},We.forEach=function(i,e){for(var r=this.T(),a=0;a<r.length;a++){var l=r[a],h=this.get(l);i.call(e,h,l,this)}};var sb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Va(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Va){this.g=void 0!==e?e:i.g,Xh(this,i.j),this.s=i.s,Vv(this,i.i),ef(this,i.m),this.l=i.l,e=i.h;var r=new Yu;r.i=e.i,e.g&&(r.g=new Ku(e.g),r.h=e.h),hm(this,r),this.o=i.o}else i&&(r=String(i).match(sb))?(this.g=!!e,Xh(this,r[1]||"",!0),this.s=Xr(r[2]||""),Vv(this,r[3]||"",!0),ef(this,r[4]),this.l=Xr(r[5]||"",!0),hm(this,r[6]||"",!0),this.o=Xr(r[7]||"")):(this.g=!!e,this.h=new Yu(null,this.g))}function Ro(i){return new Va(i)}function Xh(i,e,r){i.j=r?Xr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Vv(i,e,r){i.i=r?Xr(e,!0):e}function ef(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function hm(i,e,r){e instanceof Yu?(i.h=e,function(i,e){e&&!i.j&&(Wi(i),i.i=null,i.g.forEach(function(r,a){var l=a.toLowerCase();a!=l&&(ab(this,a),ub(this,l,r))},i)),i.j=e}(i.h,i.g)):(r||(e=ei(e,ZA)),i.h=new Yu(e,i.g))}function qt(i,e,r){i.h.set(e,r)}function fm(i){return qt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Xr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ei(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,ob),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ob(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Va.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ei(e,Uv,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ei(e,Uv,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(ei(r,"/"==r.charAt(0)?GA:qA,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",ei(r,WA)),i.join("")};var Uv=/[#\/\?@]/g,qA=/[#\?:]/g,GA=/[#\?]/g,ZA=/[#\?@]/g,WA=/#/g;function Yu(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Wi(i){i.g||(i.g=new Ku,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),l=null;if(0<=a){var h=i[r].substring(0,a);l=i[r].substring(a+1)}else h=i[r];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function ab(i,e){Wi(i),e=Qu(i,e),Zi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Zi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&dm(i)))}function jv(i,e){return Wi(i),e=Qu(i,e),Zi(i.g.h,e)}function ub(i,e,r){ab(i,e),0<r.length&&(i.i=null,i.g.set(Qu(i,e),Oa(r)),i.h+=r.length)}function Qu(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(We=Yu.prototype).add=function(i,e){Wi(this),this.i=null,i=Qu(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},We.forEach=function(i,e){Wi(this),this.g.forEach(function(r,a){Lh(r,function(l){i.call(e,l,a,this)},this)},this)},We.T=function(){Wi(this);for(var i=this.g.R(),e=this.g.T(),r=[],a=0;a<e.length;a++)for(var l=i[a],h=0;h<l.length;h++)r.push(e[a]);return r},We.R=function(i){Wi(this);var e=[];if("string"==typeof i)jv(this,i)&&(e=Wg(e,this.g.get(Qu(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=Wg(e,i[r])}return e},We.set=function(i,e){return Wi(this),this.i=null,jv(this,i=Qu(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},We.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var a=e[r],l=encodeURIComponent(String(a));a=this.R(a);for(var h=0;h<a.length;h++){var m=l;""!==a[h]&&(m+="="+encodeURIComponent(String(a[h]))),i.push(m)}}return this.i=i.join("&")};var pm=function(e,r){this.h=e,this.g=r};function cb(i){this.l=i||db,i=yt.PerformanceNavigationTiming?0<(i=yt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(yt.g&&yt.g.Ea&&yt.g.Ea()&&yt.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var db=10;function Bv(i){return!!i.h||!!i.g&&i.g.size>=i.j}function gm(i){return i.h?1:i.g?i.g.size:0}function Rc(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function tf(i,e){i.g?i.g.add(e):i.h=e}function Hv(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function $v(i){var e,r;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var a=i.i;try{for(var l=FC(i.g.values()),h=l.next();!h.done;h=l.next())a=a.concat(h.value.D)}catch(w){e={error:w}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return a}return Oa(i.i)}function mm(){}function hb(){this.g=new mm}function fb(i,e,r){var a=r||"";try{Lv(i,function(l,h){var m=l;Ph(l)&&(m=bv(l)),e.push(a+h+"="+encodeURIComponent(m))})}catch(l){throw e.push(a+"type="+encodeURIComponent("_badmap")),l}}function nf(i,e,r,a,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(a)}catch(h){}}function rf(i){this.l=i.$b||null,this.j=i.ib||!1}function ym(i,e){Er.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cb.prototype.cancel=function(){var i,e;if(this.i=$v(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var r=FC(this.g.values()),a=r.next();!a.done;a=r.next())a.value.cancel()}catch(h){i={error:h}}finally{try{a&&!a.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}this.g.clear()}},mm.prototype.stringify=function(i){return yt.JSON.stringify(i,void 0)},mm.prototype.parse=function(i){return yt.JSON.parse(i,void 0)},lr(rf,zh),rf.prototype.g=function(){return new ym(this.l,this.j)},rf.prototype.i=function(i){return function(){return i}}({}),lr(ym,Er);var qv=0;function gb(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function sf(i){i.readyState=4,i.l=null,i.j=null,i.A=null,of(i)}function of(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(We=ym.prototype).open=function(i,e){if(this.readyState!=qv)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,of(this)},We.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||yt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sf(this)),this.readyState=qv},We.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,of(this)),this.g&&(this.readyState=3,of(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==yt.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gb(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},We.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?sf(this):of(this),3==this.readyState&&gb(this)}},We.Ua=function(i){this.g&&(this.response=this.responseText=i,sf(this))},We.Ta=function(i){this.g&&(this.response=i,sf(this))},We.ha=function(){this.g&&sf(this)},We.setRequestHeader=function(i,e){this.v.append(i,e)},We.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],e=this.h.entries(),r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(ym.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var zA=yt.JSON.parse;function Jn(i){Er.call(this),this.headers=new Ku,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mb,this.K=this.L=!1}lr(Jn,Er);var mb="",KA=/^https?$/i,YA=["POST","PUT"];function JA(i){return"content-type"==i.toLowerCase()}function yb(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,_b(i),_m(i)}function _b(i){i.D||(i.D=!0,wr(i,"complete"),wr(i,"error"))}function vb(i){if(i.h&&void 0!==cv&&(!i.C[1]||4!=Qs(i)||2!=i.ba()))if(i.v&&4==Qs(i))Sv(i.Fa,0,i);else if(wr(i,"readystatechange"),4==Qs(i)){i.h=!1;try{var a,e=i.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(a=r)){var l;if(l=0===e){var h=String(i.H).match(sb)[1]||null;if(!h&&yt.self&&yt.self.location){var m=yt.self.location.protocol;h=m.substr(0,m.length-1)}l=!KA.test(h?h.toLowerCase():"")}a=l}if(a)wr(i,"complete"),wr(i,"success");else{i.m=6;try{var w=2<Qs(i)?i.g.statusText:""}catch(D){w=""}i.j=w+" ["+i.ba()+"]",_b(i)}}finally{_m(i)}}}function _m(i,e){if(i.g){Eb(i);var r=i.g,a=i.C[0]?qg:null;i.g=null,i.C=null,e||wr(i,"ready");try{r.onreadystatechange=a}catch(l){}}}function Eb(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(yt.clearTimeout(i.A),i.A=null)}function Qs(i){return i.g?i.g.readyState:0}function Gv(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case mb:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function vm(i,e,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){var e="";return ka(i,function(r,a){e+=a,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):qt(i,e,r))}function Oc(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Zv(i){this.za=0,this.l=[],this.h=new Ac,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Oc("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Oc("baseRetryDelayMs",5e3,i),this.$a=Oc("retryDelaySeedMs",1e4,i),this.Ya=Oc("forwardChannelMaxRetries",2,i),this.ra=Oc("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new cb(i&&i.concurrentRequestLimit),this.Ca=new hb,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Em(i){if(Wv(i),3==i.G){var e=i.V++,r=Ro(i.F);qt(r,"SID",i.J),qt(r,"RID",e),qt(r,"TYPE","terminate"),cf(i,r),(e=new xc(i,i.h,e,void 0)).K=2,e.v=fm(Ro(r)),r=!1,yt.navigator&&yt.navigator.sendBeacon&&(r=yt.navigator.sendBeacon(e.v.toString(),"")),!r&&yt.Image&&((new Image).src=e.v,r=!0),r||(e.g=ff(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Nc(e)}Ib(i)}function af(i){i.g&&(bb(i),i.g.cancel(),i.g=null)}function Wv(i){af(i),i.u&&(yt.clearTimeout(i.u),i.u=null),hf(i),i.i.cancel(),i.m&&("number"==typeof i.m&&yt.clearTimeout(i.m),i.m=null)}function uf(i,e){i.l.push(new pm(i.Za++,e)),3==i.G&&lf(i)}function lf(i){Bv(i.i)||i.m||(i.m=!0,Iv(i.Ha,i),i.C=0)}function Cb(i,e){var r;r=e?e.m:i.V++;var a=Ro(i.F);qt(a,"SID",i.J),qt(a,"RID",r),qt(a,"AID",i.U),cf(i,a),i.o&&i.s&&vm(a,i.o,i.s),r=new xc(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Xu(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),tf(i.i,r),cm(r,a,e)}function cf(i,e){i.j&&Lv({},function(r,a){qt(e,a,r)})}function Xu(i,e,r){r=Math.min(i.l.length,r);var a=i.j?Sr(i.j.Oa,i.j,i):null;e:for(var l=i.l,h=-1;;){var m=["count="+r];-1==h?0<r?m.push("ofs="+(h=l[0].h)):h=0:m.push("ofs="+h);for(var w=!0,D=0;D<r;D++){var S=l[D].h,M=l[D].g;if(0>(S-=h))h=Math.max(0,l[D].h-100),w=!1;else try{fb(M,m,"req"+S+"_")}catch(P){a&&a(M)}}if(w){a=m.join("&");break e}}return i=i.l.splice(0,r),e.D=i,a}function XA(i){i.g||i.u||(i.Y=1,Iv(i.Ga,i),i.A=0)}function df(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Zh(Sr(i.Ga,i),ot(i,i.A)),i.A++,0))}function bb(i){null!=i.B&&(yt.clearTimeout(i.B),i.B=null)}function zv(i){i.g=new xc(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Ro(i.oa);qt(e,"RID","rpc"),qt(e,"SID",i.J),qt(e,"CI",i.N?"0":"1"),qt(e,"AID",i.U),cf(i,e),qt(e,"TYPE","xmlhttp"),i.o&&i.s&&vm(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=fm(Ro(e)),r.s=null,r.U=!0,kv(r,i)}function hf(i){null!=i.v&&(yt.clearTimeout(i.v),i.v=null)}function eS(i,e){var r=null;if(i.g==e){hf(i),bb(i),i.g=null;var a=2}else{if(!Rc(i.i,e))return;r=e.D,Hv(i.i,e),a=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==a){r=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;wr(a=Gh(),new Nv(a,r,e,l)),lf(i)}else XA(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==a&&function(i,e){return!(gm(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Zh(Sr(i.Ha,i,e),ot(i,i.C)),i.C++,0)))}(i,e)||2==a&&df(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),l){case 1:el(i,5);break;case 4:el(i,10);break;case 3:el(i,6);break;default:el(i,2)}}function ot(i,e){var r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function el(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var a=Sr(i.jb,i);r||(r=new Va("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||Xh(r,"https"),fm(r)),function(i,e){var r=new Ac;if(yt.Image){var a=new Image;a.onload=Zg(nf,r,a,"TestLoadImage: loaded",!0,e),a.onerror=Zg(nf,r,a,"TestLoadImage: error",!1,e),a.onabort=Zg(nf,r,a,"TestLoadImage: abort",!1,e),a.ontimeout=Zg(nf,r,a,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(r.toString(),a)}else Nr(2);i.G=0,i.j&&i.j.va(e),Ib(i),Wv(i)}function Ib(i){i.G=0,i.I=-1,i.j&&((0!=$v(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Oa(i.l),i.l.length=0),i.j.ua())}function Db(i,e,r){var a=function(i){return i instanceof Va?Ro(i):new Va(i,void 0)}(r);if(""!=a.i)e&&Vv(a,e+"."+a.i),ef(a,a.m);else{var l=yt.location;a=function(i,e,r,a){var l=new Va(null,void 0);return i&&Xh(l,i),e&&Vv(l,e),r&&ef(l,r),a&&(l.l=a),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&ka(i.aa,function(h,m){qt(a,m,h)}),r=i.sa,(e=i.D)&&r&&qt(a,e,r),qt(a,"VER",i.ma),cf(i,a),a}function ff(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jn(r&&i.Ba&&!i.qa?new rf({ib:!0}):i.qa)).L=i.H,e}function Tb(){}function tl(){if(Zu&&!(10<=Number(SA)))throw Error("Environmental error: no available transport.")}function Lr(i,e){Er.call(this),this.g=new Zv(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Mo(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mo(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new nl(this)}function Vn(i){Ov.call(this);var e=i.__sm__;if(e){e:{for(var r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function tS(){um.call(this),this.status=1}function nl(i){this.g=i}(We=Jn.prototype).ea=function(i,e,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yh.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:Yh),this.g.onreadystatechange=Sr(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void yb(this,h)}i=r||"";var l=new Ku(this.headers);a&&Lv(a,function(h,m){l.set(m,h)}),a=function(i){e:{for(var e=JA,r=i.length,a="string"==typeof i?i.split(""):i,l=0;l<r;l++)if(l in a&&e.call(void 0,a[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),r=yt.FormData&&i instanceof yt.FormData,!(0<=Ra(YA,e))||a||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Eb(this),0<this.B&&((this.K=function(i){return Zu&&qC()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.pa,this)):this.A=Sv(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){yb(this,h)}},We.pa=function(){void 0!==cv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wr(this,"timeout"),this.abort(8))},We.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,wr(this,"complete"),wr(this,"abort"),_m(this))},We.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),Jn.Z.M.call(this)},We.Fa=function(){this.s||(this.F||this.v||this.l?vb(this):this.cb())},We.cb=function(){vb(this)},We.ba=function(){try{return 2<Qs(this)?this.g.status:-1}catch(i){return-1}},We.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},We.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),zA(e)}},We.Da=function(){return this.m},We.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=Zv.prototype).ma=8,We.G=1,We.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},We.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var e=new xc(this,this.h,i,void 0),r=this.s;if(this.P&&(r?pv(r=hv(r),this.P):r=this.P),null===this.o&&(e.H=r),this.ja)e:{for(var a=0,l=0;l<this.l.length;l++){var h=this.l[l];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(a+=h)){a=l;break e}if(4096===a||l===this.l.length-1){a=l+1;break e}}a=1e3}else a=1e3;a=Xu(this,e,a),qt(l=Ro(this.F),"RID",i),qt(l,"CVER",22),this.D&&qt(l,"X-HTTP-Session-Id",this.D),cf(this,l),this.o&&r&&vm(l,this.o,r),tf(this.i,e),this.Ra&&qt(l,"TYPE","init"),this.ja?(qt(l,"$req",a),qt(l,"SID","null"),e.$=!0,cm(e,l,null)):cm(e,l,a),this.G=2}}else 3==this.G&&(i?Cb(this,i):0==this.l.length||Bv(this.i)||Cb(this))},We.Ga=function(){if(this.u=null,zv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Zh(Sr(this.bb,this),i)}},We.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nr(10),af(this),zv(this))},We.ab=function(){null!=this.v&&(this.v=null,af(this),df(this),Nr(19))},We.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Nr(2)):(this.h.info("Failed to ping google.com"),Nr(1))},(We=Tb.prototype).xa=function(){},We.wa=function(){},We.va=function(){},We.ua=function(){},We.Oa=function(){},tl.prototype.g=function(i,e){return new Lr(i,e)},lr(Lr,Er),Lr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Iv(Sr(i.hb,i,e))),Nr(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=Db(i,null,i.W),lf(i)},Lr.prototype.close=function(){Em(this.g)},Lr.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,uf(this.g,e)}else this.v?((e={}).__data__=bv(i),uf(this.g,e)):uf(this.g,i)},Lr.prototype.M=function(){this.g.j=null,delete this.j,Em(this.g),delete this.g,Lr.Z.M.call(this)},lr(Vn,Ov),lr(tS,um),lr(nl,Tb),nl.prototype.xa=function(){wr(this.g,"a")},nl.prototype.wa=function(i){wr(this.g,new Vn(i))},nl.prototype.va=function(i){wr(this.g,new tS(i))},nl.prototype.ua=function(){wr(this.g,"b")},tl.prototype.createWebChannel=tl.prototype.g,Lr.prototype.send=Lr.prototype.u,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,Wh.NO_ERROR=0,Wh.TIMEOUT=8,Wh.HTTP_ERROR=6,Mv.COMPLETE="complete",eb.EventType=Kh,Kh.OPEN="a",Kh.CLOSE="b",Kh.ERROR="c",Kh.MESSAGE="d",Er.prototype.listen=Er.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.La,Jn.prototype.getLastErrorCode=Jn.prototype.Da,Jn.prototype.getStatus=Jn.prototype.ba,Jn.prototype.getResponseJson=Jn.prototype.Qa,Jn.prototype.getResponseText=Jn.prototype.ga,Jn.prototype.send=Jn.prototype.ea;var pf=Wh,Kv=Mv,Yv=La,Cm_PROXY=10,Cm_NOPROXY=11,Sb=rf,gf=eb,xb=Jn;class Mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let Pc="9.0.1";const Ss=new xa.Yd("@firebase/firestore");function Im(){return Ss.logLevel}function Le(i,...e){if(Ss.logLevel<=xa.in.DEBUG){const r=e.map(rl);Ss.debug(`Firestore (${Pc}): ${i}`,...r)}}function Xn(i,...e){if(Ss.logLevel<=xa.in.ERROR){const r=e.map(rl);Ss.error(`Firestore (${Pc}): ${i}`,...r)}}function Oo(i,...e){if(Ss.logLevel<=xa.in.WARN){const r=e.map(rl);Ss.warn(`Firestore (${Pc}): ${i}`,...r)}}function rl(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function et(i="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+i;throw Xn(e),new Error(e)}function ht(i,e){i||et()}function Ue(i,e){return i}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(e,r){super(r),this.code=e,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Qv{constructor(e,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class rS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Mr.UNAUTHENTICATED))}shutdown(){}}class iS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class AN{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;let l=this.i;const h=D=>this.i!==l?(l=this.i,r(D)):Promise.resolve();let m=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Cr,e.enqueueRetryable(()=>h(this.currentUser))};const w=D=>{e.enqueueRetryable((0,Ce.Z)(function*(){Le("FirebaseCredentialsProvider","Auth detected"),a.auth=D,a.auth.addAuthTokenListener(a.o),yield m.promise,yield h(a.currentUser)}))};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(Le("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Cr)}},0),e.enqueueRetryable((0,Ce.Z)(function*(){0===a.i&&(yield m.promise,yield h(a.currentUser))}))}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(Le("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht("string"==typeof a.accessToken),new Qv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(null===e||"string"==typeof e),new Mr(e)}}class SN{constructor(e,r,a){this.h=e,this.l=r,this.m=a,this.type="FirstParty",this.user=Mr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(e.Authorization=r),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class xN{constructor(e,r,a){this.h=e,this.l=r,this.m=a}getToken(){return Promise.resolve(new SN(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zi{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Mb(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}zi.T=-1;class mf{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const l=Mb(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<r&&(a+=e.charAt(l[h]%e.length))}return a}}function jt(i,e){return i<e?-1:i>e?1:0}function kc(i,e,r){return i.length===e.length&&i.every((a,l)=>r(a,e[l]))}function Jv(i){return i+"\0"}class Bn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Bn(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Bn(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Rb(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function il(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Ob(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class yf{constructor(e,r,a){void 0===r?r=0:r>e.length&&et(),void 0===a?a=e.length-r:a>e.length-r&&et(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===yf.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yf?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let l=0;l<a;l++){const h=e.get(l),m=r.get(l);if(h<m)return-1;if(h>m)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Gt extends yf{construct(e,r,a){return new Gt(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new Gt(r)}static emptyPath(){return new Gt([])}}const sS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends yf{construct(e,r,a){return new Rr(e,r,a)}static isValidIdentifier(e){return sS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(e){const r=[];let a="",l=0;const h=()=>{if(0===a.length)throw new Oe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let m=!1;for(;l<e.length;){const w=e[l];if("\\"===w){if(l+1===e.length)throw new Oe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const D=e[l+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Oe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=D,l+=2}else"`"===w?(m=!m,l++):"."!==w||m?(a+=w,l++):(h(),l++)}if(h(),m)throw new Oe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(r)}static emptyPath(){return new Rr([])}}class xs{constructor(e){this.fields=e,e.sort(Rr.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return kc(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new cr(r)}static fromUint8Array(e){const r=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(e);return new cr(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const aS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(i){if(ht(!!i),"string"==typeof i){let e=0;const r=aS.exec(i);if(ht(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:er(i.seconds),nanos:er(i.nanos)}}function er(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function sl(i){return"string"==typeof i?cr.fromBase64String(i):cr.fromUint8Array(i)}function Xv(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Dm(i){const e=i.mapValue.fields.__previous_value__;return Xv(e)?Dm(e):e}function _f(i){const e=Po(i.mapValue.fields.__local_write_time__.timestampValue);return new Bn(e.seconds,e.nanos)}function Ua(i){return null==i}function vf(i){return 0===i&&1/i==-1/0}function Pb(i){return"number"==typeof i&&Number.isInteger(i)&&!vf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(Gt.fromString(e))}static fromName(e){return new Je(Gt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Gt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new Gt(e.slice()))}}function ol(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Xv(i)?4:10:et()}function Ki(i,e){const r=ol(i);if(r!==ol(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _f(i).isEqual(_f(e));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=Po(a.timestampValue),m=Po(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,sl(i.bytesValue).isEqual(sl(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,l){return er(a.geoPointValue.latitude)===er(l.geoPointValue.latitude)&&er(a.geoPointValue.longitude)===er(l.geoPointValue.longitude)}(i,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return er(a.integerValue)===er(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=er(a.doubleValue),m=er(l.doubleValue);return h===m?vf(h)===vf(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return kc(i.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:return function(a,l){const h=a.mapValue.fields||{},m=l.mapValue.fields||{};if(Rb(h)!==Rb(m))return!1;for(const w in h)if(h.hasOwnProperty(w)&&(void 0===m[w]||!Ki(h[w],m[w])))return!1;return!0}(i,e);default:return et()}var l}function Ef(i,e){return void 0!==(i.values||[]).find(r=>Ki(r,e))}function al(i,e){const r=ol(i),a=ol(e);if(r!==a)return jt(r,a);switch(r){case 0:return 0;case 1:return jt(i.booleanValue,e.booleanValue);case 2:return function(l,h){const m=er(l.integerValue||l.doubleValue),w=er(h.integerValue||h.doubleValue);return m<w?-1:m>w?1:m===w?0:isNaN(m)?isNaN(w)?0:-1:1}(i,e);case 3:return kb(i.timestampValue,e.timestampValue);case 4:return kb(_f(i),_f(e));case 5:return jt(i.stringValue,e.stringValue);case 6:return function(l,h){const m=sl(l),w=sl(h);return m.compareTo(w)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),w=h.split("/");for(let D=0;D<m.length&&D<w.length;D++){const S=jt(m[D],w[D]);if(0!==S)return S}return jt(m.length,w.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const m=jt(er(l.latitude),er(h.latitude));return 0!==m?m:jt(er(l.longitude),er(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const m=l.values||[],w=h.values||[];for(let D=0;D<m.length&&D<w.length;++D){const S=al(m[D],w[D]);if(S)return S}return jt(m.length,w.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){const m=l.fields||{},w=Object.keys(m),D=h.fields||{},S=Object.keys(D);w.sort(),S.sort();for(let M=0;M<w.length&&M<S.length;++M){const P=jt(w[M],S[M]);if(0!==P)return P;const Y=al(m[w[M]],D[S[M]]);if(0!==Y)return Y}return jt(w.length,S.length)}(i.mapValue,e.mapValue);default:throw et()}}function kb(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return jt(i,e);const r=Po(i),a=Po(e),l=jt(r.seconds,a.seconds);return 0!==l?l:jt(r.nanos,a.nanos)}function e0(i){return t0(i)}function t0(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const l=Po(a);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?sl(i.bytesValue).toBase64():"referenceValue"in i?Je.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let l="[",h=!0;for(const m of a.values||[])h?h=!1:l+=",",l+=t0(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(a){const l=Object.keys(a.fields||{}).sort();let h="{",m=!0;for(const w of l)m?m=!1:h+=",",h+=`${w}:${t0(a.fields[w])}`;return h+"}"}(i.mapValue):et();var e}function Tm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function n0(i){return!!i&&"integerValue"in i}function r0(i){return!!i&&"arrayValue"in i}function Fb(i){return!!i&&"nullValue"in i}function Lb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wf(i){return!!i&&"mapValue"in i}function Fc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return il(i.mapValue.fields,(r,a)=>e.mapValue.fields[r]=Fc(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Fc(i.arrayValue.values[r]);return e}return Object.assign({},i)}class Vr{constructor(e){this.value=e}static empty(){return new Vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!wf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(r)}setAll(e){let r=Rr.emptyPath(),a={},l=[];e.forEach((m,w)=>{if(!r.isImmediateParentOf(w)){const D=this.getFieldsMap(r);this.applyChanges(D,a,l),a={},l=[],r=w.popLast()}m?a[w.lastSegment()]=Fc(m):l.push(w.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,a,l)}delete(e){const r=this.field(e.popLast());wf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=r.mapValue.fields[e.get(a)];wf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,a){il(r,(l,h)=>e[l]=h);for(const l of a)delete e[l]}clone(){return new Vr(Fc(this.value))}}function Vb(i){const e=[];return il(i.fields,(r,a)=>{const l=new Rr([r]);if(wf(a)){const h=Vb(a.mapValue).fields;if(0===h.length)e.push(l);else for(const m of h)e.push(l.child(m))}else e.push(l)}),new xs(e)}class bn{constructor(e,r,a,l,h){this.key=e,this.documentType=r,this.version=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new bn(e,0,Et.min(),Vr.empty(),0)}static newFoundDocument(e,r,a){return new bn(e,1,r,a,0)}static newNoDocument(e,r){return new bn(e,2,r,Vr.empty(),0)}static newUnknownDocument(e,r){return new bn(e,3,r,Vr.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new bn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uS{constructor(e,r=null,a=[],l=[],h=null,m=null,w=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=m,this.endAt=w,this.A=null}}function Ub(i,e=null,r=[],a=[],l=null,h=null,m=null){return new uS(i,e,r,a,l,h,m)}function Cf(i){const e=Ue(i);if(null===e.A){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+e0(i.value)}(a)).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),Ua(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=Sm(e.startAt)),e.endAt&&(r+="|ub:",r+=Sm(e.endAt)),e.A=r}return e.A}function Lc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!NN(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(a=e.filters[l]).op||!r.field.isEqual(a.field)||!Ki(r.value,a.value))return!1;var r,a;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!If(i.startAt,e.startAt)&&If(i.endAt,e.endAt)}function bf(i){return Je.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Or extends class{}{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.R(e,r,a):new cS(e,r,a):"array-contains"===r?new hS(e,a):"in"===r?new jb(e,a):"not-in"===r?new Bb(e,a):"array-contains-any"===r?new Hb(e,a):new Or(e,r,a)}static R(e,r,a){return"in"===r?new s0(e,a):new dS(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.P(al(r,this.value)):null!==r&&ol(this.value)===ol(r)&&this.P(al(r,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cS extends Or{constructor(e,r,a){super(e,r,a),this.key=Je.fromName(a.referenceValue)}matches(e){const r=Je.comparator(e.key,this.key);return this.P(r)}}class s0 extends Or{constructor(e,r){super(e,"in",r),this.keys=o0(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class dS extends Or{constructor(e,r){super(e,"not-in",r),this.keys=o0(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function o0(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Je.fromName(a.referenceValue))}class hS extends Or{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return r0(r)&&Ef(r.arrayValue,this.value)}}class jb extends Or{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ef(this.value.arrayValue,r)}}class Bb extends Or{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ef(this.value.arrayValue,r)}}class Hb extends Or{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!r0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Ef(this.value.arrayValue,a))}}class Am{constructor(e,r){this.position=e,this.before=r}}function Sm(i){return`${i.before?"b":"a"}:${i.position.map(e=>e0(e)).join(",")}`}class Yi{constructor(e,r="asc"){this.field=e,this.dir=r}}function NN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function xm(i,e,r){let a=0;for(let l=0;l<i.position.length;l++){const h=e[l],m=i.position[l];if(a=h.field.isKeyField()?Je.comparator(Je.fromName(m.referenceValue),r.key):al(m,r.data.field(h.field)),"desc"===h.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function If(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ki(i.position[r],e.position[r]))return!1;return!0}class ko{constructor(e,r=null,a=[],l=[],h=null,m="F",w=null,D=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=m,this.startAt=w,this.endAt=D,this.V=null,this.S=null}}function ul(i,e,r,a,l,h,m,w){return new ko(i,e,r,a,l,h,m,w)}function Vc(i){return new ko(i)}function a0(i){return!Ua(i.limit)&&"F"===i.limitType}function Nm(i){return!Ua(i.limit)&&"L"===i.limitType}function Qi(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Mm(i){for(const e of i.filters)if(e.v())return e.field;return null}function $b(i){return null!==i.collectionGroup}function Fo(i){const e=Ue(i);if(null===e.V){e.V=[];const r=Mm(e),a=Qi(e);if(null!==r&&null===a)r.isKeyField()||e.V.push(new Yi(r)),e.V.push(new Yi(Rr.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.V.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Yi(Rr.keyField(),h))}}}return e.V}function Ji(i){const e=Ue(i);if(!e.S)if("F"===e.limitType)e.S=Ub(e.path,e.collectionGroup,Fo(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const h of Fo(e))r.push(new Yi(h.field,"desc"===h.dir?"asc":"desc"));const a=e.endAt?new Am(e.endAt.position,!e.endAt.before):null,l=e.startAt?new Am(e.startAt.position,!e.startAt.before):null;e.S=Ub(e.path,e.collectionGroup,r,e.filters,e.limit,a,l)}return e.S}function qb(i,e,r){return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Rm(i,e){return Lc(Ji(i),Ji(e))&&i.limitType===e.limitType}function Gb(i){return`${Cf(Ji(i))}|lt:${i.limitType}`}function u0(i){return`Query(target=${function(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${e0(a.value)}`;var a}).join(", ")}]`),Ua(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(e+=", startAt: "+Sm(i.startAt)),i.endAt&&(e+=", endAt: "+Sm(i.endAt)),`Target(${e})`}(Ji(i))}; limitType=${i.limitType})`}function Df(i,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Je.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,a){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(i,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,e)&&(a=e,!((r=i).startAt&&!xm(r.startAt,Fo(r),a)||r.endAt&&xm(r.endAt,Fo(r),a)));var r,a}function Om(i){return(e,r)=>{let a=!1;for(const l of Fo(i)){const h=Zb(l,e,r);if(0!==h)return h;a=a||l.field.isKeyField()}return 0}}function Zb(i,e,r){const a=i.field.isKeyField()?Je.comparator(e.key,r.key):function(l,h,m){const w=h.data.field(l),D=m.data.field(l);return null!==w&&null!==D?al(w,D):et()}(i.field,e,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return et()}}function Pm(i,e){if(i.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function l0(i){return{integerValue:""+i}}function Wb(i,e){return Pb(e)?l0(e):Pm(i,e)}class c0{constructor(){this._=void 0}}function fS(i,e,r){return i instanceof ll?function(a,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(r,e):i instanceof ja?d0(i,e):i instanceof cl?Kb(i,e):function(a,l){const h=zb(a,l),m=Tf(h)+Tf(a.C);return n0(h)&&n0(a.C)?l0(m):Pm(a.N,m)}(i,e)}function pS(i,e,r){return i instanceof ja?d0(i,e):i instanceof cl?Kb(i,e):r}function zb(i,e){return i instanceof dl?n0(r=e)||(a=r)&&"doubleValue"in a?e:{integerValue:0}:null;var a,r}class ll extends c0{}class ja extends c0{constructor(e){super(),this.elements=e}}function d0(i,e){const r=Yb(e);for(const a of i.elements)r.some(l=>Ki(l,a))||r.push(a);return{arrayValue:{values:r}}}class cl extends c0{constructor(e){super(),this.elements=e}}function Kb(i,e){let r=Yb(e);for(const a of i.elements)r=r.filter(l=>!Ki(l,a));return{arrayValue:{values:r}}}class dl extends c0{constructor(e,r){super(),this.N=e,this.C=r}}function Tf(i){return er(i.integerValue||i.doubleValue)}function Yb(i){return r0(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Uc{constructor(e,r){this.field=e,this.transform=r}}class Fm{constructor(e,r){this.version=e,this.transformResults=r}}class Mn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lm(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Vm{}function MN(i,e,r){i instanceof Af?function(a,l,h){const m=a.value.clone(),w=eI(a.fieldTransforms,l,h.transformResults);m.setAll(w),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,r):i instanceof Ba?function(a,l,h){if(!Lm(a.precondition,l))return void l.convertToUnknownDocument(h.version);const m=eI(a.fieldTransforms,l,h.transformResults),w=l.data;w.setAll(Xb(a)),w.setAll(m),l.convertToFoundDocument(h.version,w).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function h0(i,e,r){var l;i instanceof Af?function(a,l,h){if(!Lm(a.precondition,l))return;const m=a.value.clone(),w=tI(a.fieldTransforms,h,l);m.setAll(w),l.convertToFoundDocument(Jb(l),m).setHasLocalMutations()}(i,e,r):i instanceof Ba?function(a,l,h){if(!Lm(a.precondition,l))return;const m=tI(a.fieldTransforms,h,l),w=l.data;w.setAll(Xb(a)),w.setAll(m),l.convertToFoundDocument(Jb(l),w).setHasLocalMutations()}(i,e,r):Lm(i.precondition,l=e)&&l.convertToNoDocument(Et.min())}function gS(i,e){let r=null;for(const a of i.fieldTransforms){const l=e.data.field(a.field),h=zb(a.transform,l||null);null!=h&&(null==r&&(r=Vr.empty()),r.set(a.field,h))}return r||null}function Qb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&kc(r,a,(l,h)=>function(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(r=i.transform)instanceof ja&&a instanceof ja||r instanceof cl&&a instanceof cl?kc(r.elements,a.elements,Ki):r instanceof dl&&a instanceof dl?Ki(r.C,a.C):r instanceof ll&&a instanceof ll);var r,a}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,a}function Jb(i){return i.isFoundDocument()?i.version:Et.min()}class Af extends Vm{constructor(e,r,a,l=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}}class Ba extends Vm{constructor(e,r,a,l,h=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}}function Xb(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);e.set(r,a)}}),e}function eI(i,e,r){const a=new Map;ht(i.length===r.length);for(let l=0;l<r.length;l++){const h=i[l],m=h.transform,w=e.data.field(h.field);a.set(h.field,pS(m,w,r[l]))}return a}function tI(i,e,r){const a=new Map;for(const l of i){const h=l.transform,m=r.data.field(l.field);a.set(l.field,fS(h,m,e))}return a}class Um extends Vm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class f0 extends Vm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class Sf{constructor(e){this.count=e}}var tr,Ht;function nI(i){switch(i){case _e.OK:return et();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return et()}}function xf(i){if(void 0===i)return Xn("GRPC error has no .code"),_e.UNKNOWN;switch(i){case tr.OK:return _e.OK;case tr.CANCELLED:return _e.CANCELLED;case tr.UNKNOWN:return _e.UNKNOWN;case tr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case tr.INTERNAL:return _e.INTERNAL;case tr.UNAVAILABLE:return _e.UNAVAILABLE;case tr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case tr.NOT_FOUND:return _e.NOT_FOUND;case tr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case tr.ABORTED:return _e.ABORTED;case tr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case tr.DATA_LOSS:return _e.DATA_LOSS;default:return et()}}(Ht=tr||(tr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";class In{constructor(e,r){this.comparator=e,this.root=r||Pr.EMPTY}insert(e,r){return new In(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new In(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(0===l)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nf(this.root,e,this.comparator,!0)}}class Nf{constructor(e,r,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?a(e.key,r):1,l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,r,a,l,h){this.key=e,this.value=r,this.color=null!=a?a:Pr.RED,this.left=null!=l?l:Pr.EMPTY,this.right=null!=h?h:Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,l,h){return new Pr(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let l=this;const h=a(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,r,a),null):0===h?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Pr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(i,e,r,a,l){return this}insert(i,e,r){return new Pr(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new rI(this.data.getIterator())}getIteratorFrom(e){return new rI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=a.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Zn(this.comparator);return r.data=e,r}}class rI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const jm=new In(Je.comparator);function Xi(){return jm}const mS=new In(Je.comparator);function Bm(){return mS}const iI=new In(Je.comparator);function Hm(){return iI}const sI=new Zn(Je.comparator);function nn(...i){let e=sI;for(const r of i)e=e.add(r);return e}const yS=new Zn(jt);function $m(){return yS}class jc{constructor(e,r,a,l,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r){const a=new Map;return a.set(e,Mf.createSynthesizedTargetChangeForCurrentChange(e,r)),new jc(Et.min(),a,$m(),Xi(),nn())}}class Mf{constructor(e,r,a,l,h){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r){return new Mf(cr.EMPTY_BYTE_STRING,r,nn(),nn(),nn())}}class Rf{constructor(e,r,a,l){this.k=e,this.removedTargetIds=r,this.key=a,this.$=l}}class Of{constructor(e,r){this.targetId=e,this.O=r}}class Pf{constructor(e,r,a=cr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=l}}class _S{constructor(){this.F=0,this.M=Lo(),this.L=cr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=nn(),r=nn(),a=nn();return this.M.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:et()}}),new Mf(this.L,this.B,e,r,a)}G(){this.U=!1,this.M=Lo()}H(e,r){this.U=!0,this.M=this.M.insert(e,r)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class kf{constructor(e){this.tt=e,this.et=new Map,this.nt=Xi(),this.st=Xt(),this.it=new Zn(jt)}rt(e){for(const r of e.k)e.$&&e.$.isFoundDocument()?this.ot(r,e.$):this.at(r,e.key,e.$);for(const r of e.removedTargetIds)this.at(r,e.key,e.$)}ct(e){this.forEachTarget(e,r=>{const a=this.ut(r);switch(e.state){case 0:this.ht(r)&&a.j(e.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(e.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(e.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(e.resumeToken));break;default:et()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.et.forEach((a,l)=>{this.ht(l)&&r(l)})}ft(e){const r=e.targetId,a=e.O.count,l=this.dt(r);if(l){const h=l.target;if(bf(h))if(0===a){const m=new Je(h.path);this.at(r,m,bn.newNoDocument(m,Et.min()))}else ht(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(e){const r=new Map;this.et.forEach((h,m)=>{const w=this.dt(m);if(w){if(h.current&&bf(w.target)){const D=new Je(w.target.path);null!==this.nt.get(D)||this.gt(m,D)||this.at(m,D,bn.newNoDocument(D,e))}h.K&&(r.set(m,h.W()),h.G())}});let a=nn();this.st.forEach((h,m)=>{let w=!0;m.forEachWhile(D=>{const S=this.dt(D);return!S||2===S.purpose||(w=!1,!1)}),w&&(a=a.add(h))});const l=new jc(e,r,this.it,this.nt,a);return this.nt=Xi(),this.st=Xt(),this.it=new Zn(jt),l}ot(e,r){if(!this.ht(e))return;const a=this.gt(e,r.key)?2:0;this.ut(e).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(e))}at(e,r,a){if(!this.ht(e))return;const l=this.ut(e);this.gt(e,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(e)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(e){this.et.delete(e)}wt(e){const r=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let r=this.et.get(e);return r||(r=new _S,this.et.set(e,r)),r}yt(e){let r=this.st.get(e);return r||(r=new Zn(jt),this.st=this.st.insert(e,r)),r}ht(e){const r=null!==this.dt(e);return r||Le("WatchChangeAggregator","Detected inactive target",e),r}dt(e){const r=this.et.get(e);return r&&r.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new _S),this.tt.getRemoteKeysForTarget(e).forEach(r=>{this.at(e,r,null)})}gt(e,r){return this.tt.getRemoteKeysForTarget(e).has(r)}}function Xt(){return new In(Je.comparator)}function Lo(){return new In(Je.comparator)}const Bc={asc:"ASCENDING",desc:"DESCENDING"},Ff={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class RN{constructor(e,r){this.databaseId=e,this.D=r}}function lt(i,e){return i.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ti(i,e){return i.D?e.toBase64():e.toUint8Array()}function p0(i,e){return lt(i,e.toTimestamp())}function Rn(i){return ht(!!i),Et.fromTimestamp(function(e){const r=Po(e);return new Bn(r.seconds,r.nanos)}(i))}function oI(i,e){return(r=i,new Gt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function g0(i){const e=Gt.fromString(i);return ht(Vf(e)),e}function Hc(i,e){return oI(i.databaseId,e.path)}function Vo(i,e){const r=g0(e);if(r.get(1)!==i.databaseId.projectId)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Je(On(r))}function m0(i,e){return oI(i.databaseId,e)}function aI(i){const e=g0(i);return 4===e.length?Gt.emptyPath():On(e)}function Ur(i){return new Gt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function On(i){return ht(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function es(i,e,r){return{name:Hc(i,e),fields:r.value.mapValue.fields}}function y0(i,e,r){const a=Vo(i,e.name),l=Rn(e.updateTime),h=new Vr({mapValue:{fields:e.fields}}),m=bn.newFoundDocument(a,l,h);return r&&m.setHasCommittedMutations(),r?m.setHasCommittedMutations():m}function $c(i,e){let r;if(e instanceof Af)r={update:es(i,e.key,e.value)};else if(e instanceof Um)r={delete:Hc(i,e.key)};else if(e instanceof Ba)r={update:es(i,e.key,e.data),updateMask:gI(e.fieldMask)};else{if(!(e instanceof f0))return et();r={verify:Hc(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(l,h){const m=h.transform;if(m instanceof ll)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ja)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof dl)return{fieldPath:h.field.canonicalString(),increment:m.C};throw et()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:p0(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:et()),r;var l}function hl(i,e){const r=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Mn.updateTime(Rn(l.updateTime)):void 0!==l.exists?Mn.exists(l.exists):Mn.none():Mn.none(),a=e.updateTransforms?e.updateTransforms.map(l=>function(h,m){let w=null;"setToServerValue"in m?(ht("REQUEST_TIME"===m.setToServerValue),w=new ll):"appendMissingElements"in m?w=new ja(m.appendMissingElements.values||[]):"removeAllFromArray"in m?w=new cl(m.removeAllFromArray.values||[]):"increment"in m?w=new dl(h,m.increment):et();const D=Rr.fromServerFormat(m.fieldPath);return new Uc(D,w)}(i,l)):[];var l;if(e.update){const l=Vo(i,e.update.name),h=new Vr({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new xs((e.updateMask.fieldPaths||[]).map(S=>Rr.fromServerFormat(S)));return new Ba(l,h,m,r,a)}return new Af(l,h,r,a)}if(e.delete){const l=Vo(i,e.delete);return new Um(l,r)}if(e.verify){const l=Vo(i,e.verify);return new f0(l,r)}return et()}function lI(i,e){return{documents:[m0(i,e.path)]}}function Ha(i,e){const r={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(r.parent=m0(i,a),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=m0(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(w){if(0===w.length)return;const D=w.map(S=>function(M){if("=="===M.op){if(Lb(M.value))return{unaryFilter:{field:Zc(M.field),op:"IS_NAN"}};if(Fb(M.value))return{unaryFilter:{field:Zc(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Lb(M.value))return{unaryFilter:{field:Zc(M.field),op:"IS_NOT_NAN"}};if(Fb(M.value))return{unaryFilter:{field:Zc(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(M.field),op:Gc(M.op),value:M.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);l&&(r.structuredQuery.where=l);const h=function(w){if(0!==w.length)return w.map(D=>{return{field:Zc((S=D).field),direction:hI(S.dir)};var S})}(e.orderBy);h&&(r.structuredQuery.orderBy=h);const m=(D=e.limit,i.D||Ua(D)?D:{value:D});var D;return null!==m&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt=qc(e.startAt)),e.endAt&&(r.structuredQuery.endAt=qc(e.endAt)),r}function cI(i){let e=aI(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){ht(1===a);const M=r.from[0];M.allDescendants?l=M.collectionId:e=e.child(M.collectionId)}let h=[];r.where&&(h=qm(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(M=>{return new Yi(Uo((P=M).field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let w=null;r.limit&&(w=function(M){let P;return P="object"==typeof M?M.value:M,Ua(P)?null:P}(r.limit));let D=null;r.startAt&&(D=Gm(r.startAt));let S=null;return r.endAt&&(S=Gm(r.endAt)),ul(e,l,m,h,w,"F",D,S)}function qm(i){return i?void 0!==i.unaryFilter?[pI(i)]:void 0!==i.fieldFilter?[fI(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>qm(e)).reduce((e,r)=>e.concat(r)):et():[]}function qc(i){return{before:i.before,values:i.position}}function Gm(i){return new Am(i.values||[],!!i.before)}function hI(i){return Bc[i]}function Gc(i){return Ff[i]}function Zc(i){return{fieldPath:i.canonicalString()}}function Uo(i){return Rr.fromServerFormat(i.fieldPath)}function fI(i){return Or.create(Uo(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return et()}}(i.fieldFilter.op),i.fieldFilter.value)}function pI(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Uo(i.unaryFilter.field);return Or.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Uo(i.unaryFilter.field);return Or.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uo(i.unaryFilter.field);return Or.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Uo(i.unaryFilter.field);return Or.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return et()}}function gI(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Vf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ns(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Zm(e)),e=_0(i.get(r),e);return Zm(e)}function _0(i,e){let r=e;const a=i.length;for(let l=0;l<a;l++){const h=i.charAt(l);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function Zm(i){return i+"\x01\x01"}function $a(i){const e=i.length;if(ht(e>=2),2===e)return ht("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Gt.emptyPath();const r=e-2,a=[];let l="";for(let h=0;h<e;){const m=i.indexOf("\x01",h);switch((m<0||m>r)&&et(),i.charAt(m+1)){case"\x01":const w=i.substring(h,m);let D;0===l.length?D=w:(l+=w,D=l,l=""),a.push(D);break;case"\x10":l+=i.substring(h,m),l+="\0";break;case"\x11":l+=i.substring(h,m+1);break;default:et()}h=m+2}return new Gt(a)}class ON{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class nt{constructor(e,r,a){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}nt.store="owner",nt.key="owner";class fl{constructor(e,r,a){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}fl.store="mutationQueues",fl.keyPath="userId";class on{constructor(e,r,a,l,h){this.userId=e,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=h}}on.store="mutations",on.keyPath="batchId",on.userMutationsIndex="userMutationsIndex",on.userMutationsKeyPath=["userId","batchId"];class jr{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,Ns(r)]}static key(e,r,a){return[e,Ns(r),a]}}jr.store="documentMutations",jr.PLACEHOLDER=new jr;class ES{constructor(e,r){this.path=e,this.readTime=r}}class wS{constructor(e,r){this.path=e,this.version=r}}class Wn{constructor(e,r,a,l,h,m){this.unknownDocument=e,this.noDocument=r,this.document=a,this.hasCommittedMutations=l,this.readTime=h,this.parentPath=m}}Wn.store="remoteDocuments",Wn.readTimeIndex="readTimeIndex",Wn.readTimeIndexPath="readTime",Wn.collectionReadTimeIndex="collectionReadTimeIndex",Wn.collectionReadTimeIndexPath=["parentPath","readTime"];class jo{constructor(e){this.byteSize=e}}jo.store="remoteDocumentGlobal",jo.key="remoteDocumentGlobalKey";class ui{constructor(e,r,a,l,h,m,w){this.targetId=e,this.canonicalId=r,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=w}}ui.store="targets",ui.keyPath="targetId",ui.queryTargetsIndexName="queryTargetsIndex",ui.queryTargetsKeyPath=["canonicalId","targetId"];class Wt{constructor(e,r,a){this.targetId=e,this.path=r,this.sequenceNumber=a}}Wt.store="targetDocuments",Wt.keyPath=["targetId","path"],Wt.documentTargetsIndex="documentTargetsIndex",Wt.documentTargetsKeyPath=["path","targetId"];class Ai{constructor(e,r,a,l){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=l}}Ai.key="targetGlobalKey",Ai.store="targetGlobal";class pl{constructor(e,r){this.collectionId=e,this.parent=r}}pl.store="collectionParents",pl.keyPath=["collectionId","parent"];class Ms{constructor(e,r,a,l){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=l}}Ms.store="clientMetadata",Ms.keyPath="clientId";class Wc{constructor(e,r,a){this.bundleId=e,this.createTime=r,this.version=a}}Wc.store="bundles",Wc.keyPath="bundleId";class zc{constructor(e,r,a){this.name=e,this.readTime=r,this.bundledQuery=a}}zc.store="namedQueries",zc.keyPath="name";const CS=[fl.store,on.store,jr.store,Wn.store,ui.store,nt.store,Ai.store,Wt.store,Ms.store,jo.store,pl.store,Wc.store,zc.store],mI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Re((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(r,h).next(a,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Re?r:Re.resolve(r)}catch(r){return Re.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Re.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Re.reject(r)}static resolve(e){return new Re((r,a)=>{r(e)})}static reject(e){return new Re((r,a)=>{a(e)})}static waitFor(e){return new Re((r,a)=>{let l=0,h=0,m=!1;e.forEach(w=>{++l,w.next(()=>{++h,m&&h===l&&r()},D=>a(D))}),m=!0,h===l&&r()})}static or(e){let r=Re.resolve(!1);for(const a of e)r=r.next(l=>l?Re.resolve(l):a());return r}static forEach(e,r){const a=[];return e.forEach((l,h)=>{a.push(r.call(this,l,h))}),this.waitFor(a)}}class Kc{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.Tt=new Cr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Yc(e,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const l=v0(a.target.error);this.Tt.reject(new Yc(e,l))}}static open(e,r,a,l){try{return new Kc(r,e.transaction(l,a))}catch(h){throw new Yc(r,h)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const r=this.transaction.objectStore(e);return new IS(r)}}class Rs{constructor(e,r,a){this.name=e,this.version=r,this.At=a,12.2===Rs.Rt((0,Jt.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Qc(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Rs.bt())return!0;const e=(0,Jt.z$)(),r=Rs.Rt(e),a=0<r&&r<10,l=Rs.vt(e),h=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||h)}static bt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,r){return e.store(r)}static Rt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(e){const r=e.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(e){var r=this;return(0,Ce.Z)(function*(){return r.db||(Le("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,l)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=m=>{a(m.target.result)},h.onblocked=()=>{l(new Yc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const w=m.target.error;l("VersionError"===w.name?new Oe(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Yc(e,w))},h.onupgradeneeded=m=>{Le("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.At.Ct(m.target.result,h.transaction,m.oldVersion,r.version).next(()=>{Le("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,l){var h=this;return(0,Ce.Z)(function*(){const m="readonly"===r;let w=0;for(;;){++w;try{h.db=yield h.Dt(e);const D=Kc.open(h.db,e,m?"readonly":"readwrite",a),S=l(D).catch(M=>(D.abort(M),Re.reject(M))).toPromise();return S.catch(()=>{}),yield D.It,S}catch(D){const S="FirebaseError"!==D.name&&w<3;if(Le("SimpleDb","Transaction failed with error:",D.message,"Retrying:",S),h.close(),!S)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bS{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Qc(this.kt.delete())}}class Yc extends Oe{constructor(e,r){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Bo(i){return"IndexedDbTransactionError"===i.name}class IS{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(Le("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Qc(a)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Qc(this.store.add(e))}get(e){return Qc(this.store.get(e)).next(r=>(void 0===r&&(r=null),Le("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Qc(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Qc(this.store.count())}Lt(e,r){const a=this.cursor(this.options(e,r)),l=[];return this.Bt(a,(h,m)=>{l.push(m)}).next(()=>l)}Ut(e,r){Le("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.qt=!1;const l=this.cursor(a);return this.Bt(l,(h,m,w)=>w.delete())}Kt(e,r){let a;r?a=e:(a={},r=e);const l=this.cursor(a);return this.Bt(l,r)}jt(e){const r=this.cursor({});return new Re((a,l)=>{r.onerror=h=>{const m=v0(h.target.error);l(m)},r.onsuccess=h=>{const m=h.target.result;m?e(m.primaryKey,m.value).next(w=>{w?m.continue():a()}):a()}})}Bt(e,r){const a=[];return new Re((l,h)=>{e.onerror=m=>{h(m.target.error)},e.onsuccess=m=>{const w=m.target.result;if(!w)return void l();const D=new bS(w),S=r(w.primaryKey,w.value,D);if(S instanceof Re){const M=S.catch(P=>(D.done(),Re.reject(P)));a.push(M)}D.isDone?l():null===D.Ft?w.continue():w.continue(D.Ft)}}).next(()=>Re.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.qt?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Qc(i){return new Re((e,r)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const l=v0(a.target.error);r(l)}})}let _I=!1;function v0(i){const e=Rs.Rt((0,Jt.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _I||(_I=!0,setTimeout(()=>{throw a},0)),a}}return i}class vI extends yI{constructor(e,r){super(),this.Qt=e,this.currentSequenceNumber=r}}function li(i,e){const r=Ue(i);return Rs.St(r.Qt,e)}class E0{constructor(e,r,a,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&MN(h,e,a[l])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&h0(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&h0(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const a=e.get(r.key),l=a;this.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(Et.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),nn())}isEqual(e){return this.batchId===e.batchId&&kc(this.mutations,e.mutations,(r,a)=>Qb(r,a))&&kc(this.baseMutations,e.baseMutations,(r,a)=>Qb(r,a))}}class w0{constructor(e,r,a,l){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(e,r,a){ht(e.mutations.length===a.length);let l=Hm();const h=e.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,a[m].version);return new w0(e,r,a,l)}}class ts{constructor(e,r,a,l,h=Et.min(),m=Et.min(),w=cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=w}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class EI{constructor(e){this.Wt=e}}function C0(i,e){if(e.document)return y0(i.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const r=Je.fromSegments(e.noDocument.path),a=Jc(e.noDocument.readTime),l=bn.newNoDocument(r,a);return e.hasCommittedMutations?l.setHasCommittedMutations():l}if(e.unknownDocument){const r=Je.fromSegments(e.unknownDocument.path),a=Jc(e.unknownDocument.version);return bn.newUnknownDocument(r,a)}return et()}function b0(i,e,r){const a=gl(r),l=e.key.path.popLast().toArray();if(e.isFoundDocument()){const h={name:Hc(w=i.Wt,(D=e).key),fields:D.data.value.mapValue.fields,updateTime:lt(w,D.version.toTimestamp())};return new Wn(null,null,h,e.hasCommittedMutations,a,l)}var w,D;if(e.isNoDocument()){const h=e.key.path.toArray(),m=ml(e.version),w=e.hasCommittedMutations;return new Wn(null,new ES(h,m),null,w,a,l)}if(e.isUnknownDocument()){const h=e.key.path.toArray(),m=ml(e.version);return new Wn(new wS(h,m),null,null,!0,a,l)}return et()}function gl(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function DS(i){const e=new Bn(i[0],i[1]);return Et.fromTimestamp(e)}function ml(i){const e=i.toTimestamp();return new ON(e.seconds,e.nanoseconds)}function Jc(i){const e=new Bn(i.seconds,i.nanoseconds);return Et.fromTimestamp(e)}function Xc(i,e){const r=(e.baseMutations||[]).map(h=>hl(i.Wt,h));for(let h=0;h<e.mutations.length-1;++h){const m=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(m.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const a=e.mutations.map(h=>hl(i.Wt,h)),l=Bn.fromMillis(e.localWriteTimeMs);return new E0(e.batchId,l,r,a)}function Uf(i){const e=Jc(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Jc(i.lastLimboFreeSnapshotVersion):Et.min();let a;var l;return void 0!==i.query.documents?(ht(1===(l=i.query).documents.length),a=Ji(Vc(aI(l.documents[0])))):a=Ji(cI(i.query)),new ts(a,i.targetId,0,i.lastListenSequenceNumber,e,r,cr.fromBase64String(i.resumeToken))}function wI(i,e){const r=ml(e.snapshotVersion),a=ml(e.lastLimboFreeSnapshotVersion);let l;l=bf(e.target)?lI(i.Wt,e.target):Ha(i.Wt,e.target);const h=e.resumeToken.toBase64();return new ui(e.targetId,Cf(e.target),r,h,e.sequenceNumber,a,l)}function I0(i){const e=cI({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?qb(e,e.limit,"L"):e}class CI{getBundleMetadata(e,r){return bI(e).get(r).next(a=>{if(a)return{id:(l=a).bundleId,createTime:Jc(l.createTime),version:l.version};var l})}saveBundleMetadata(e,r){return bI(e).put({bundleId:(a=r).id,createTime:ml(Rn(a.createTime)),version:a.version});var a}getNamedQuery(e,r){return II(e).get(r).next(a=>{if(a)return{name:(l=a).name,query:I0(l.bundledQuery),readTime:Jc(l.readTime)};var l})}saveNamedQuery(e,r){return II(e).put({name:(a=r).name,readTime:ml(Rn(a.readTime)),bundledQuery:a.bundledQuery});var a}}function bI(i){return li(i,Wc.store)}function II(i){return li(i,zc.store)}class PN{constructor(){this.Gt=new DI}addToCollectionParentIndex(e,r){return this.Gt.add(r),Re.resolve()}getCollectionParents(e,r){return Re.resolve(this.Gt.getEntries(r))}}class DI{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r]||new Zn(Gt.comparator),h=!l.has(a);return this.index[r]=l.add(a),h}has(e){const r=e.lastSegment(),a=e.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Zn(Gt.comparator)).toArray()}}class kN{constructor(){this.zt=new DI}addToCollectionParentIndex(e,r){if(!this.zt.has(r)){const a=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.zt.add(r)});const h={collectionId:a,parent:Ns(l)};return Wm(e).put(h)}return Re.resolve()}getCollectionParents(e,r){const a=[],l=IDBKeyRange.bound([r,""],[Jv(r),""],!1,!0);return Wm(e).Lt(l).next(h=>{for(const m of h){if(m.collectionId!==r)break;a.push($a(m.parent))}return a})}}function Wm(i){return li(i,pl.store)}const TI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ci{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AI(i,e,r){const a=i.store(on.store),l=i.store(jr.store),h=[],m=IDBKeyRange.only(r.batchId);let w=0;const D=a.Kt({range:m},(M,P,Y)=>(w++,Y.delete()));h.push(D.next(()=>{ht(1===w)}));const S=[];for(const M of r.mutations){const P=jr.key(e,M.key.path,r.batchId);h.push(l.delete(P)),S.push(M.key)}return Re.waitFor(h).next(()=>S)}function zm(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw et();e=i.noDocument}return JSON.stringify(e).length}ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(41943040,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);class D0{constructor(e,r,a,l){this.userId=e,this.N=r,this.Ht=a,this.referenceDelegate=l,this.Jt={}}static Yt(e,r,a,l){ht(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new D0(h,r,a,l)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ho(e).Kt({index:on.userMutationsIndex,range:a},(l,h,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(e,r,a,l){const h=qa(e),m=Ho(e);return m.add({}).next(w=>{ht("number"==typeof w);const D=new E0(w,r,a,l),S=function(Y,ee,De){const Be=De.baseMutations.map(Bt=>$c(Y.Wt,Bt)),Ze=De.mutations.map(Bt=>$c(Y.Wt,Bt));return new on(ee,De.batchId,De.localWriteTime.toMillis(),Be,Ze)}(this.N,this.userId,D),M=[];let P=new Zn((Y,ee)=>jt(Y.canonicalString(),ee.canonicalString()));for(const Y of l){const ee=jr.key(this.userId,Y.key.path,w);P=P.add(Y.key.path.popLast()),M.push(m.put(S)),M.push(h.put(ee,jr.PLACEHOLDER))}return P.forEach(Y=>{M.push(this.Ht.addToCollectionParentIndex(e,Y))}),e.addOnCommittedListener(()=>{this.Jt[w]=D.keys()}),Re.waitFor(M).next(()=>D)})}lookupMutationBatch(e,r){return Ho(e).get(r).next(a=>a?(ht(a.userId===this.userId),Xc(this.N,a)):null)}Xt(e,r){return this.Jt[r]?Re.resolve(this.Jt[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const l=a.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,l=IDBKeyRange.lowerBound([this.userId,a]);let h=null;return Ho(e).Kt({index:on.userMutationsIndex,range:l},(m,w,D)=>{w.userId===this.userId&&(ht(w.batchId>=a),h=Xc(this.N,w)),D.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ho(e).Kt({index:on.userMutationsIndex,range:r,reverse:!0},(l,h,m)=>{a=h.batchId,m.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ho(e).Lt(on.userMutationsIndex,r).next(a=>a.map(l=>Xc(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=jr.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(a),h=[];return qa(e).Kt({range:l},(m,w,D)=>{const[S,M,P]=m,Y=$a(M);if(S===this.userId&&r.path.isEqual(Y))return Ho(e).get(P).next(ee=>{if(!ee)throw et();ht(ee.userId===this.userId),h.push(Xc(this.N,ee))});D.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Zn(jt);const l=[];return r.forEach(h=>{const m=jr.prefixForPath(this.userId,h.path),w=IDBKeyRange.lowerBound(m),D=qa(e).Kt({range:w},(S,M,P)=>{const[Y,ee,De]=S,Be=$a(ee);Y===this.userId&&h.path.isEqual(Be)?a=a.add(De):P.done()});l.push(D)}),Re.waitFor(l).next(()=>this.Zt(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,l=a.length+1,h=jr.prefixForPath(this.userId,a),m=IDBKeyRange.lowerBound(h);let w=new Zn(jt);return qa(e).Kt({range:m},(D,S,M)=>{const[P,Y,ee]=D,De=$a(Y);P===this.userId&&a.isPrefixOf(De)?De.length===l&&(w=w.add(ee)):M.done()}).next(()=>this.Zt(e,w))}Zt(e,r){const a=[],l=[];return r.forEach(h=>{l.push(Ho(e).get(h).next(m=>{if(null===m)throw et();ht(m.userId===this.userId),a.push(Xc(this.N,m))}))}),Re.waitFor(l).next(()=>a)}removeMutationBatch(e,r){return AI(e.Qt,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.te(r.batchId)}),Re.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Re.resolve();const a=IDBKeyRange.lowerBound(jr.prefixForUser(this.userId)),l=[];return qa(e).Kt({range:a},(h,m,w)=>{if(h[0]===this.userId){const D=$a(h[1]);l.push(D)}else w.done()}).next(()=>{ht(0===l.length)})})}containsKey(e,r){return SI(e,this.userId,r)}ee(e){return xI(e).get(this.userId).next(r=>r||new fl(this.userId,-1,""))}}function SI(i,e,r){const a=jr.prefixForPath(e,r.path),l=a[1],h=IDBKeyRange.lowerBound(a);let m=!1;return qa(i).Kt({range:h,qt:!0},(w,D,S)=>{const[M,P,Y]=w;M===e&&P===l&&(m=!0),S.done()}).next(()=>m)}function Ho(i){return li(i,on.store)}function qa(i){return li(i,jr.store)}function xI(i){return li(i,fl.store)}class ns{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new ns(0)}static ie(){return new ns(-1)}}class Br{constructor(e,r){this.referenceDelegate=e,this.N=r}allocateTargetId(e){return this.re(e).next(r=>{const a=new ns(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(r=>Et.fromTimestamp(new Bn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.re(e).next(l=>(l.highestListenSequenceNumber=r,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(e,l)))}addTargetData(e,r){return this.ae(e,r).next(()=>this.re(e).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(e,a))))}updateTargetData(e,r){return this.ae(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>yl(e).delete(r.targetId)).next(()=>this.re(e)).next(a=>(ht(a.targetCount>0),a.targetCount-=1,this.oe(e,a)))}removeTargets(e,r,a){let l=0;const h=[];return yl(e).Kt((m,w)=>{const D=Uf(w);D.sequenceNumber<=r&&null===a.get(D.targetId)&&(l++,h.push(this.removeTargetData(e,D)))}).next(()=>Re.waitFor(h)).next(()=>l)}forEachTarget(e,r){return yl(e).Kt((a,l)=>{const h=Uf(l);r(h)})}re(e){return rs(e).get(Ai.key).next(r=>(ht(null!==r),r))}oe(e,r){return rs(e).put(Ai.key,r)}ae(e,r){return yl(e).put(wI(this.N,r))}ce(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.re(e).next(r=>r.targetCount)}getTargetData(e,r){const a=Cf(r),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let h=null;return yl(e).Kt({range:l,index:ui.queryTargetsIndexName},(m,w,D)=>{const S=Uf(w);Lc(r,S.target)&&(h=S,D.done())}).next(()=>h)}addMatchingKeys(e,r,a){const l=[],h=Js(e);return r.forEach(m=>{const w=Ns(m.path);l.push(h.put(new Wt(a,w))),l.push(this.referenceDelegate.addReference(e,a,m))}),Re.waitFor(l)}removeMatchingKeys(e,r,a){const l=Js(e);return Re.forEach(r,h=>{const m=Ns(h.path);return Re.waitFor([l.delete([a,m]),this.referenceDelegate.removeReference(e,a,h)])})}removeMatchingKeysForTargetId(e,r){const a=Js(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),l=Js(e);let h=nn();return l.Kt({range:a,qt:!0},(m,w,D)=>{const S=$a(m[1]),M=new Je(S);h=h.add(M)}).next(()=>h)}containsKey(e,r){const a=Ns(r.path),l=IDBKeyRange.bound([a],[Jv(a)],!1,!0);let h=0;return Js(e).Kt({index:Wt.documentTargetsIndex,qt:!0,range:l},([m,w],D,S)=>{0!==m&&(h++,S.done())}).next(()=>h>0)}Et(e,r){return yl(e).get(r).next(a=>a?Uf(a):null)}}function yl(i){return li(i,ui.store)}function rs(i){return li(i,Ai.store)}function Js(i){return li(i,Wt.store)}function _l(i){return Km.apply(this,arguments)}function Km(){return(Km=(0,Ce.Z)(function*(i){if(i.code!==_e.FAILED_PRECONDITION||i.message!==mI)throw i;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function T0([i,e],[r,a]){const l=jt(i,r);return 0===l?jt(e,a):l}class NI{constructor(e){this.ue=e,this.buffer=new Zn(T0),this.he=0}le(){return++this.he}fe(e){const r=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();T0(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class TS{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var r=this;const a=this.de?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,Ce.Z)(function*(){r.we=null,r.de=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(l){Bo(l)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield _l(l)}yield r._e(e)}))}}class AS{constructor(e,r){this.me=e,this.params=r}calculateTargetCount(e,r){return this.me.ge(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return Re.resolve(zi.T);const a=new NI(r);return this.me.forEachTarget(e,l=>a.fe(l.sequenceNumber)).next(()=>this.me.ye(e,l=>a.fe(l))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.me.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.me.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(TI)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TI):this.pe(e,r))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,r){let a,l,h,m,w,D,S;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),l=this.params.maximumSequenceNumbersToCollect):l=P,m=Date.now(),this.nthSequenceNumber(e,l))).next(P=>(a=P,w=Date.now(),this.removeTargets(e,a,r))).next(P=>(h=P,D=Date.now(),this.removeOrphanedDocuments(e,a))).next(P=>(S=Date.now(),Im()<=xa.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-M}ms\n\tDetermined least recently used ${l} in `+(w-m)+`ms\n\tRemoved ${h} targets in `+(D-w)+`ms\n\tRemoved ${P} documents in `+(S-D)+`ms\nTotal Duration: ${S-M}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:P})))}}class SS{constructor(e,r){this.db=e,this.garbageCollector=new AS(this,r)}ge(e){const r=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(l=>a+l))}Ee(e){let r=0;return this.ye(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}ye(e,r){return this.Te(e,(a,l)=>r(l))}addReference(e,r,a){return jf(e,a)}removeReference(e,r,a){return jf(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return jf(e,r)}Ie(e,r){return function(a,l){let h=!1;return xI(a).jt(m=>SI(a,m,l).next(w=>(w&&(h=!0),Re.resolve(!w)))).next(()=>h)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Te(e,(m,w)=>{if(w<=r){const D=this.Ie(e,m).next(S=>{if(!S)return h++,a.getEntry(e,m).next(()=>(a.removeEntry(m),Js(e).delete([0,Ns(m.path)])))});l.push(D)}}).next(()=>Re.waitFor(l)).next(()=>a.apply(e)).next(()=>h)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return jf(e,r)}Te(e,r){const a=Js(e);let l,h=zi.T;return a.Kt({index:Wt.documentTargetsIndex},([m,w],{path:D,sequenceNumber:S})=>{0===m?(h!==zi.T&&r(new Je($a(l)),h),h=S,l=D):h=zi.T}).next(()=>{h!==zi.T&&r(new Je($a(l)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jf(i,e){return Js(i).put((a=i.currentSequenceNumber,new Wt(0,Ns(e.path),a)));var a}class ed{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[l,h]of a)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),l=this.inner[a];if(void 0!==l){for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,r]);l.push([e,r])}else this.inner[a]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return 1===a.length?delete this.inner[r]:a.splice(l,1),!0;return!1}forEach(e){il(this.inner,(r,a)=>{for(const[l,h]of a)e(l,h)})}isEmpty(){return Ob(this.inner)}}class xS{constructor(){this.changes=new ed(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}getReadTime(e){const r=this.changes.get(e);return r?r.readTime:Et.min()}addEntry(e,r){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:r})}removeEntry(e,r=null){this.assertNotApplied(),this.changes.set(e,{document:bn.newInvalidDocument(e),readTime:r})}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?Re.resolve(a.document):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NS{constructor(e,r){this.N=e,this.Ht=r}addEntry(e,r,a){return El(e).put(Bf(r),a)}removeEntry(e,r){const a=El(e),l=Bf(r);return a.delete(l)}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.Ae(e,a)))}getEntry(e,r){return El(e).get(Bf(r)).next(a=>this.Re(r,a))}Pe(e,r){return El(e).get(Bf(r)).next(a=>({document:this.Re(r,a),size:zm(a)}))}getEntries(e,r){let a=Xi();return this.be(e,r,(l,h)=>{const m=this.Re(l,h);a=a.insert(l,m)}).next(()=>a)}ve(e,r){let a=Xi(),l=new In(Je.comparator);return this.be(e,r,(h,m)=>{const w=this.Re(h,m);a=a.insert(h,w),l=l.insert(h,zm(m))}).next(()=>({documents:a,Ve:l}))}be(e,r,a){if(r.isEmpty())return Re.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),h=r.getIterator();let m=h.getNext();return El(e).Kt({range:l},(w,D,S)=>{const M=Je.fromSegments(w);for(;m&&Je.comparator(m,M)<0;)a(m,null),m=h.getNext();m&&m.isEqual(M)&&(a(m,D),m=h.hasNext()?h.getNext():null),m?S.Mt(m.path.toArray()):S.done()}).next(()=>{for(;m;)a(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(e,r,a){let l=Xi();const h=r.path.length+1,m={};if(a.isEqual(Et.min())){const w=r.path.toArray();m.range=IDBKeyRange.lowerBound(w)}else{const w=r.path.toArray(),D=gl(a);m.range=IDBKeyRange.lowerBound([w,D],!0),m.index=Wn.collectionReadTimeIndex}return El(e).Kt(m,(w,D,S)=>{if(w.length!==h)return;const M=C0(this.N,D);r.path.isPrefixOf(M.key.path)?Df(r,M)&&(l=l.insert(M.key,M)):S.done()}).next(()=>l)}newChangeBuffer(e){return new MS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return vl(e).get(jo.key).next(r=>(ht(!!r),r))}Ae(e,r){return vl(e).put(jo.key,r)}Re(e,r){if(r){const a=C0(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(Et.min()))return a}return bn.newInvalidDocument(e)}}class MS extends xS{constructor(e,r){super(),this.Se=e,this.trackRemovals=r,this.De=new ed(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(e){const r=[];let a=0,l=new Zn((h,m)=>jt(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const w=this.De.get(h);if(m.document.isValidDocument()){const D=b0(this.Se.N,m.document,this.getReadTime(h));l=l.add(h.path.popLast()),a+=zm(D)-w,r.push(this.Se.addEntry(e,h,D))}else if(a-=w,this.trackRemovals){const D=b0(this.Se.N,bn.newNoDocument(h,Et.min()),this.getReadTime(h));r.push(this.Se.addEntry(e,h,D))}else r.push(this.Se.removeEntry(e,h))}),l.forEach(h=>{r.push(this.Se.Ht.addToCollectionParentIndex(e,h))}),r.push(this.Se.updateMetadata(e,a)),Re.waitFor(r)}getFromCache(e,r){return this.Se.Pe(e,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(e,r){return this.Se.ve(e,r).next(({documents:a,Ve:l})=>(l.forEach((h,m)=>{this.De.set(h,m)}),a))}}function vl(i){return li(i,jo.store)}function El(i){return li(i,Wn.store)}function Bf(i){return i.path.toArray()}class RS{constructor(e){this.N=e}Ct(e,r,a,l){ht(a<l&&a>=0&&l<=11);const h=new Kc("createOrUpgrade",r);var w;a<1&&l>=1&&(e.createObjectStore(nt.store),(w=e).createObjectStore(fl.store,{keyPath:fl.keyPath}),w.createObjectStore(on.store,{keyPath:on.keyPath,autoIncrement:!0}).createIndex(on.userMutationsIndex,on.userMutationsKeyPath,{unique:!0}),w.createObjectStore(jr.store),OS(e),function(w){w.createObjectStore(Wn.store)}(e));let m=Re.resolve();return a<3&&l>=3&&(0!==a&&(function(w){w.deleteObjectStore(Wt.store),w.deleteObjectStore(ui.store),w.deleteObjectStore(Ai.store)}(e),OS(e)),m=m.next(()=>function(w){const D=w.store(Ai.store),S=new Ai(0,0,Et.min().toTimestamp(),0);return D.put(Ai.key,S)}(h))),a<4&&l>=4&&(0!==a&&(m=m.next(()=>function(w,D){return D.store(on.store).Lt().next(S=>{w.deleteObjectStore(on.store),w.createObjectStore(on.store,{keyPath:on.keyPath,autoIncrement:!0}).createIndex(on.userMutationsIndex,on.userMutationsKeyPath,{unique:!0});const M=D.store(on.store),P=S.map(Y=>M.put(Y));return Re.waitFor(P)})}(e,h))),m=m.next(()=>{!function(w){w.createObjectStore(Ms.store,{keyPath:Ms.keyPath})}(e)})),a<5&&l>=5&&(m=m.next(()=>this.Ce(h))),a<6&&l>=6&&(m=m.next(()=>(function(w){w.createObjectStore(jo.store)}(e),this.Ne(h)))),a<7&&l>=7&&(m=m.next(()=>this.xe(h))),a<8&&l>=8&&(m=m.next(()=>this.ke(e,h))),a<9&&l>=9&&(m=m.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(e),function(w){const D=w.objectStore(Wn.store);D.createIndex(Wn.readTimeIndex,Wn.readTimeIndexPath,{unique:!1}),D.createIndex(Wn.collectionReadTimeIndex,Wn.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&l>=10&&(m=m.next(()=>this.$e(h))),a<11&&l>=11&&(m=m.next(()=>{(function(w){w.createObjectStore(Wc.store,{keyPath:Wc.keyPath})})(e),function(w){w.createObjectStore(zc.store,{keyPath:zc.keyPath})}(e)})),m}Ne(e){let r=0;return e.store(Wn.store).Kt((a,l)=>{r+=zm(l)}).next(()=>{const a=new jo(r);return e.store(jo.store).put(jo.key,a)})}Ce(e){const r=e.store(fl.store),a=e.store(on.store);return r.Lt().next(l=>Re.forEach(l,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.Lt(on.userMutationsIndex,m).next(w=>Re.forEach(w,D=>{ht(D.userId===h.userId);const S=Xc(this.N,D);return AI(e,h.userId,S).next(()=>{})}))}))}xe(e){const r=e.store(Wt.store),a=e.store(Wn.store);return e.store(Ai.store).get(Ai.key).next(l=>{const h=[];return a.Kt((m,w)=>{const D=new Gt(m),S=[0,Ns(D)];h.push(r.get(S).next(M=>M?Re.resolve():r.put(new Wt(0,Ns(D),l.highestListenSequenceNumber))))}).next(()=>Re.waitFor(h))})}ke(e,r){e.createObjectStore(pl.store,{keyPath:pl.keyPath});const a=r.store(pl.store),l=new DI,h=m=>{if(l.add(m)){const w=m.lastSegment(),D=m.popLast();return a.put({collectionId:w,parent:Ns(D)})}};return r.store(Wn.store).Kt({qt:!0},(m,w)=>{const D=new Gt(m);return h(D.popLast())}).next(()=>r.store(jr.store).Kt({qt:!0},([m,w,D],S)=>{const M=$a(w);return h(M.popLast())}))}$e(e){const r=e.store(ui.store);return r.Kt((a,l)=>{const h=Uf(l),m=wI(this.N,h);return r.put(m)})}}function OS(i){i.createObjectStore(Wt.store,{keyPath:Wt.keyPath}).createIndex(Wt.documentTargetsIndex,Wt.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(ui.store,{keyPath:ui.keyPath}).createIndex(ui.queryTargetsIndexName,ui.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Ai.store)}const Ym="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class A0{constructor(e,r,a,l,h,m,w,D,S,M){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.Oe=h,this.window=m,this.document=w,this.Fe=S,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=P=>Promise.resolve(),!A0.Pt())throw new Oe(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SS(this,l),this.We=r+"main",this.N=new EI(D),this.Ge=new Rs(this.We,11,new RS(this.N)),this.ze=new Br(this.referenceDelegate,this.N),this.Ht=new kN,this.He=new NS(this.N,this.Ht),this.Je=new CI,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(_e.FAILED_PRECONDITION,Ym);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new zi(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var r=this;return this.Qe=function(){var a=(0,Ce.Z)(function*(l){if(r.started)return e(l)});return function(l){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var r=(0,Ce.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ce.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qm(e).put(new Ms(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(r=>this.isPrimary&&!r?this.on(e).next(()=>!1):!!r&&this.an(e).next(()=>!0))).catch(e=>{if(Bo(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return wl(e).get(nt.key).next(r=>Re.resolve(this.cn(r)))}un(e){return Qm(e).delete(this.clientId)}hn(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=li(a,Ms.store);return l.Lt().next(h=>{const m=e.fn(h,18e5),w=h.filter(D=>-1===m.indexOf(D));return Re.forEach(w,D=>l.delete(D.clientId)).next(()=>w)})}).catch(()=>[]);if(e.Ye)for(const a of r)e.Ye.removeItem(e.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Re.resolve(!0):wl(e).get(nt.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Oe(_e.FAILED_PRECONDITION,Ym);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qm(e).Lt().next(a=>void 0===this.fn(a,5e3).find(l=>{if(this.clientId!==l.clientId){const m=!this.inForeground&&l.inForeground,w=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||m&&w)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Le("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[nt.store,Ms.store],r=>{const a=new vI(r,zi.T);return e.on(a).next(()=>e.un(a))}),e.Ge.close(),e.yn()})()}fn(e,r){return e.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Qm(e).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(e){return D0.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,r,a){let h;return Le("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===r?"readonly":"readwrite",CS,m=>(h=new vI(m,this.Le?this.Le.next():zi.T),"readwrite-primary"===r?this.sn(h).next(w=>!!w||this.rn(h)).next(w=>{if(!w)throw Xn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(_e.FAILED_PRECONDITION,mI);return a(h)}).next(w=>this.an(h).next(()=>w)):this.En(h).next(()=>a(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(e){return wl(e).get(nt.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Oe(_e.FAILED_PRECONDITION,Ym)})}an(e){const r=new nt(this.clientId,this.allowTabSynchronization,Date.now());return wl(e).put(nt.key,r)}static Pt(){return Rs.Pt()}on(e){const r=wl(e);return r.get(nt.key).next(a=>this.cn(a)?(Le("IndexedDbPersistence","Releasing primary lease."),r.delete(nt.key)):Re.resolve())}ln(e,r){const a=Date.now();return!(e<a-r||e>a&&(Xn(`Detected an update time that is in the future: ${e} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Jt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(e)));return Le("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Xn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Xn("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wl(i){return li(i,nt.store)}function Qm(i){return li(i,Ms.store)}function S0(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class PS{constructor(e,r){this.progress=e,this.Tn=r}}class MI{constructor(e,r,a){this.He=e,this.In=r,this.Ht=a}An(e,r){return this.In.getAllMutationBatchesAffectingDocumentKey(e,r).next(a=>this.Rn(e,r,a))}Rn(e,r,a){return this.He.getEntry(e,r).next(l=>{for(const h of a)h.applyToLocalView(l);return l})}Pn(e,r){e.forEach((a,l)=>{for(const h of r)h.applyToLocalView(l)})}bn(e,r){return this.He.getEntries(e,r).next(a=>this.vn(e,a).next(()=>a))}vn(e,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>this.Pn(r,a))}getDocumentsMatchingQuery(e,r,a){return Je.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(e,r.path):$b(r)?this.Sn(e,r,a):this.Dn(e,r,a);var l}Vn(e,r){return this.An(e,new Je(r)).next(a=>{let l=Bm();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}Sn(e,r,a){const l=r.collectionGroup;let h=Bm();return this.Ht.getCollectionParents(e,l).next(m=>Re.forEach(m,w=>{const D=(S=r,M=w.child(l),new ko(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,M;return this.Dn(e,D,a).next(S=>{S.forEach((M,P)=>{h=h.insert(M,P)})})}).next(()=>h))}Dn(e,r,a){let l,h;return this.He.getDocumentsMatchingQuery(e,r,a).next(m=>(l=m,this.In.getAllMutationBatchesAffectingQuery(e,r))).next(m=>(h=m,this.Cn(e,h,l).next(w=>{l=w;for(const D of h)for(const S of D.mutations){const M=S.key;let P=l.get(M);null==P&&(P=bn.newInvalidDocument(M),l=l.insert(M,P)),h0(S,P,D.localWriteTime),P.isFoundDocument()||(l=l.remove(M))}}))).next(()=>(l.forEach((m,w)=>{Df(r,w)||(l=l.remove(m))}),l))}Cn(e,r,a){let l=nn();for(const m of r)for(const w of m.mutations)w instanceof Ba&&null===a.get(w.key)&&(l=l.add(w.key));let h=a;return this.He.getEntries(e,l).next(m=>(m.forEach((w,D)=>{D.isFoundDocument()&&(h=h.insert(w,D))}),h))}}class x0{constructor(e,r,a,l){this.targetId=e,this.fromCache=r,this.Nn=a,this.xn=l}static kn(e,r){let a=nn(),l=nn();for(const h of r.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new x0(e,r.fromCache,a,l)}}class RI{$n(e){this.On=e}getDocumentsMatchingQuery(e,r,a,l){return 0===(h=r).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||a.isEqual(Et.min())?this.Fn(e,r):this.On.bn(e,l).next(h=>{const m=this.Mn(r,h);return(a0(r)||Nm(r))&&this.Ln(r.limitType,m,l,a)?this.Fn(e,r):(Im()<=xa.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),u0(r)),this.On.getDocumentsMatchingQuery(e,r,a).next(w=>(m.forEach(D=>{w=w.insert(D.key,D)}),w)))});var h}Mn(e,r){let a=new Zn(Om(e));return r.forEach((l,h)=>{Df(e,h)&&(a=a.add(h))}),a}Ln(e,r,a,l){if(a.size!==r.size)return!0;const h="F"===e?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Fn(e,r){return Im()<=xa.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",u0(r)),this.On.getDocumentsMatchingQuery(e,r,Et.min())}}class kS{constructor(e,r,a,l){this.persistence=e,this.Bn=r,this.N=l,this.Un=new In(jt),this.qn=new ed(h=>Cf(h),Lc),this.Kn=Et.min(),this.In=e.getMutationQueue(a),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new MI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Un))}}function OI(i,e,r,a){return new kS(i,e,r,a)}function PI(i,e){return N0.apply(this,arguments)}function N0(){return(N0=(0,Ce.Z)(function*(i,e){const r=Ue(i);let a=r.In,l=r.Qn;const h=yield r.persistence.runTransaction("Handle user change","readonly",m=>{let w;return r.In.getAllMutationBatches(m).next(D=>(w=D,a=r.persistence.getMutationQueue(e),l=new MI(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(m))).next(D=>{const S=[],M=[];let P=nn();for(const Y of w){S.push(Y.batchId);for(const ee of Y.mutations)P=P.add(ee.key)}for(const Y of D){M.push(Y.batchId);for(const ee of Y.mutations)P=P.add(ee.key)}return l.bn(m,P).next(Y=>({Wn:Y,removedBatchIds:S,addedBatchIds:M}))})});return r.In=a,r.Qn=l,r.Bn.$n(r.Qn),h})).apply(this,arguments)}function Hf(i,e){const r=Ue(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),h=r.jn.newChangeBuffer({trackRemovals:!0});return function(m,w,D,S){const M=D.batch,P=M.keys();let Y=Re.resolve();return P.forEach(ee=>{Y=Y.next(()=>S.getEntry(w,ee)).next(De=>{const Be=D.docVersions.get(ee);ht(null!==Be),De.version.compareTo(Be)<0&&(M.applyToRemoteDocument(De,D),De.isValidDocument()&&S.addEntry(De,D.commitVersion))})}),Y.next(()=>m.In.removeMutationBatch(w,M))}(r,a,e,h).next(()=>h.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.bn(a,l))})}function M0(i){const e=Ue(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ze.getLastRemoteSnapshotVersion(r))}function kI(i,e){const r=Ue(i),a=e.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const w=[];e.targetChanges.forEach((S,M)=>{const P=l.get(M);if(!P)return;w.push(r.ze.removeMatchingKeys(h,S.removedDocuments,M).next(()=>r.ze.addMatchingKeys(h,S.addedDocuments,M)));const Y=S.resumeToken;if(Y.approximateByteSize()>0){const ee=P.withResumeToken(Y,a).withSequenceNumber(h.currentSequenceNumber);l=l.insert(M,ee),De=P,Ze=S,ht((Be=ee).resumeToken.approximateByteSize()>0),(0===De.resumeToken.approximateByteSize()||Be.snapshotVersion.toMicroseconds()-De.snapshotVersion.toMicroseconds()>=3e8||Ze.addedDocuments.size+Ze.modifiedDocuments.size+Ze.removedDocuments.size>0)&&w.push(r.ze.updateTargetData(h,ee))}var De,Be,Ze});let D=Xi();if(e.documentUpdates.forEach((S,M)=>{e.resolvedLimboDocuments.has(S)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(h,S))}),w.push(R0(h,m,e.documentUpdates,a,void 0).next(S=>{D=S})),!a.isEqual(Et.min())){const S=r.ze.getLastRemoteSnapshotVersion(h).next(M=>r.ze.setTargetsMetadata(h,h.currentSequenceNumber,a));w.push(S)}return Re.waitFor(w).next(()=>m.apply(h)).next(()=>r.Qn.vn(h,D)).next(()=>D)}).then(h=>(r.Un=l,h))}function R0(i,e,r,a,l){let h=nn();return r.forEach(m=>h=h.add(m)),e.getEntries(i,h).next(m=>{let w=Xi();return r.forEach((D,S)=>{const M=m.get(D),P=(null==l?void 0:l.get(D))||a;S.isNoDocument()&&S.version.isEqual(Et.min())?(e.removeEntry(D,P),w=w.insert(D,S)):!M.isValidDocument()||S.version.compareTo(M.version)>0||0===S.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(S,P),w=w.insert(D,S)):Le("LocalStore","Ignoring outdated watch update for ",D,". Current version:",M.version," Watch version:",S.version)}),w})}function FI(i,e){const r=Ue(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.In.getNextMutationBatchAfterBatchId(a,e)))}function Cl(i,e){const r=Ue(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.ze.getTargetData(a,e).next(h=>h?(l=h,Re.resolve(l)):r.ze.allocateTargetId(a).next(m=>(l=new ts(e,m,0,a.currentSequenceNumber),r.ze.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.Un.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(e,a.targetId)),a})}function td(i,e,r){return O0.apply(this,arguments)}function O0(){return(O0=(0,Ce.Z)(function*(i,e,r){const a=Ue(i),l=a.Un.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!Bo(m))throw m;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}a.Un=a.Un.remove(e),a.qn.delete(l.target)})).apply(this,arguments)}function Jm(i,e,r){const a=Ue(i);let l=Et.min(),h=nn();return a.persistence.runTransaction("Execute query","readonly",m=>function(w,D,S){const M=Ue(w),P=M.qn.get(S);return void 0!==P?Re.resolve(M.Un.get(P)):M.ze.getTargetData(D,S)}(a,m,Ji(e)).next(w=>{if(w)return l=w.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(m,w.targetId).next(D=>{h=D})}).next(()=>a.Bn.getDocumentsMatchingQuery(m,e,r?l:Et.min(),r?h:nn())).next(w=>({documents:w,Gn:h})))}function LI(i,e){const r=Ue(i),a=Ue(r.ze),l=r.Un.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",h=>a.Et(h,e).next(m=>m?m.target:null))}function VI(i){const e=Ue(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(a,l,h){const m=Ue(a);let w=Xi(),D=gl(h);const S=El(l),M=IDBKeyRange.lowerBound(D,!0);return S.Kt({index:Wn.readTimeIndex,range:M},(P,Y)=>{const ee=C0(m.N,Y);w=w.insert(ee.key,ee),D=Y.readTime}).next(()=>({Tn:w,readTime:DS(D)}))}(e.jn,r,e.Kn)).then(({Tn:r,readTime:a})=>(e.Kn=a,r))}function P0(){return(P0=(0,Ce.Z)(function*(i){const e=Ue(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const l=El(a);let h=Et.min();return l.Kt({index:Wn.readTimeIndex,reverse:!0},(m,w,D)=>{w.readTime&&(h=DS(w.readTime)),D.done()}).next(()=>h)}(r)).then(r=>{e.Kn=r})})).apply(this,arguments)}function bl(){return(bl=(0,Ce.Z)(function*(i,e,r,a){const l=Ue(i);let h=nn(),m=Xi(),w=Hm();for(const M of r){const P=e.zn(M.metadata.name);M.document&&(h=h.add(P)),m=m.insert(P,e.Hn(M)),w=w.insert(P,e.Jn(M.metadata.readTime))}const D=l.jn.newChangeBuffer({trackRemovals:!0}),S=yield Cl(l,(M=a,Ji(Vc(Gt.fromString(`__bundle__/docs/${M}`)))));var M;return l.persistence.runTransaction("Apply bundle documents","readwrite",M=>R0(M,D,m,Et.min(),w).next(P=>(D.apply(M),P)).next(P=>l.ze.removeMatchingKeysForTargetId(M,S.targetId).next(()=>l.ze.addMatchingKeys(M,h,S.targetId)).next(()=>l.Qn.vn(M,P)).next(()=>P)))})).apply(this,arguments)}function LS(i,e){return qf.apply(this,arguments)}function qf(){return(qf=(0,Ce.Z)(function*(i,e,r=nn()){const a=yield Cl(i,Ji(I0(e.bundledQuery))),l=Ue(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const m=Rn(e.readTime);if(a.snapshotVersion.compareTo(m)>=0)return l.Je.saveNamedQuery(h,e);const w=a.withResumeToken(cr.EMPTY_BYTE_STRING,m);return l.Un=l.Un.insert(w.targetId,w),l.ze.updateTargetData(h,w).next(()=>l.ze.removeMatchingKeysForTargetId(h,a.targetId)).next(()=>l.ze.addMatchingKeys(h,r,a.targetId)).next(()=>l.Je.saveNamedQuery(h,e))})})).apply(this,arguments)}class Xs{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,r){return Re.resolve(this.Yn.get(r))}saveBundleMetadata(e,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:Rn(a.createTime)}),Re.resolve()}getNamedQuery(e,r){return Re.resolve(this.Xn.get(r))}saveNamedQuery(e,r){return this.Xn.set(r.name,{name:(a=r).name,query:I0(a.bundledQuery),readTime:Rn(a.readTime)}),Re.resolve();var a}}class k0{constructor(){this.Zn=new Zn(zn.ts),this.es=new Zn(zn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,r){const a=new zn(e,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.rs(new zn(e,r))}os(e,r){e.forEach(a=>this.removeReference(a,r))}cs(e){const r=new Je(new Gt([])),a=new zn(r,e),l=new zn(r,e+1),h=[];return this.es.forEachInRange([a,l],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const r=new Je(new Gt([])),a=new zn(r,e),l=new zn(r,e+1);let h=nn();return this.es.forEachInRange([a,l],m=>{h=h.add(m.key)}),h}containsKey(e){const r=new zn(e,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class zn{constructor(e,r){this.key=e,this.ls=r}static ts(e,r){return Je.comparator(e.key,r.key)||jt(e.ls,r.ls)}static ns(e,r){return jt(e.ls,r.ls)||Je.comparator(e.key,r.key)}}class VS{constructor(e,r){this.Ht=e,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new Zn(zn.ts)}checkEmpty(e){return Re.resolve(0===this.In.length)}addMutationBatch(e,r,a,l){const h=this.fs;this.fs++;const m=new E0(h,r,a,l);this.In.push(m);for(const w of l)this.ds=this.ds.add(new zn(w.key,h)),this.Ht.addToCollectionParentIndex(e,w.key.path.popLast());return Re.resolve(m)}lookupMutationBatch(e,r){return Re.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(e,r){const l=this._s(r+1),h=l<0?0:l;return Re.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Re.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new zn(r,0),l=new zn(r,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([a,l],m=>{const w=this.ws(m.ls);h.push(w)}),Re.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new Zn(jt);return r.forEach(l=>{const h=new zn(l,0),m=new zn(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],w=>{a=a.add(w.ls)})}),Re.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,l=a.length+1;let h=a;Je.isDocumentKey(h)||(h=h.child(""));const m=new zn(new Je(h),0);let w=new Zn(jt);return this.ds.forEachWhile(D=>{const S=D.key.path;return!!a.isPrefixOf(S)&&(S.length===l&&(w=w.add(D.ls)),!0)},m),Re.resolve(this.gs(w))}gs(e){const r=[];return e.forEach(a=>{const l=this.ws(a);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){ht(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return Re.forEach(r.mutations,l=>{const h=new zn(l.key,r.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ds=a})}te(e){}containsKey(e,r){const a=new zn(r,0),l=this.ds.firstAfterOrEqual(a);return Re.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return Re.resolve()}ys(e,r){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const r=this._s(e);return r<0||r>=this.In.length?null:this.In[r]}}class US{constructor(e,r){this.Ht=e,this.ps=r,this.docs=new In(Je.comparator),this.size=0}addEntry(e,r,a){const l=r.key,h=this.docs.get(l),m=h?h.size:0,w=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:w,readTime:a}),this.size+=w-m,this.Ht.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return Re.resolve(a?a.document.clone():bn.newInvalidDocument(r))}getEntries(e,r){let a=Xi();return r.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.clone():bn.newInvalidDocument(l))}),Re.resolve(a)}getDocumentsMatchingQuery(e,r,a){let l=Xi();const h=new Je(r.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:w,value:{document:D,readTime:S}}=m.getNext();if(!r.path.isPrefixOf(w.path))break;S.compareTo(a)<=0||Df(r,D)&&(l=l.insert(D.key,D.clone()))}return Re.resolve(l)}Es(e,r){return Re.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new FN(this)}getSize(e){return Re.resolve(this.size)}}class FN extends xS{constructor(e){super(),this.Se=e}applyChanges(e){const r=[];return this.changes.forEach((a,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(e,l.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Re.waitFor(r)}getFromCache(e,r){return this.Se.getEntry(e,r)}getAllFromCache(e,r){return this.Se.getEntries(e,r)}}class F0{constructor(e){this.persistence=e,this.Ts=new ed(r=>Cf(r),Lc),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Is=0,this.As=new k0,this.targetCount=0,this.Rs=ns.se()}forEachTarget(e,r){return this.Ts.forEach((a,l)=>r(l)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),Re.resolve()}ae(e){this.Ts.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Rs=new ns(r),this.highestTargetId=r),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,r){return this.ae(r),this.targetCount+=1,Re.resolve()}updateTargetData(e,r){return this.ae(r),Re.resolve()}removeTargetData(e,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,r,a){let l=0;const h=[];return this.Ts.forEach((m,w)=>{w.sequenceNumber<=r&&null===a.get(w.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(e,w.targetId)),l++)}),Re.waitFor(h).next(()=>l)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,r){const a=this.Ts.get(r)||null;return Re.resolve(a)}addMatchingKeys(e,r,a){return this.As.ss(r,a),Re.resolve()}removeMatchingKeys(e,r,a){this.As.os(r,a);const l=this.persistence.referenceDelegate,h=[];return l&&r.forEach(m=>{h.push(l.markPotentiallyOrphaned(e,m))}),Re.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.As.cs(r),Re.resolve()}getMatchingKeysForTargetId(e,r){const a=this.As.hs(r);return Re.resolve(a)}containsKey(e,r){return Re.resolve(this.As.containsKey(r))}}class L0{constructor(e,r){this.Ps={},this.Le=new zi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new F0(this),this.Ht=new PN,this.He=new US(this.Ht,a=>this.referenceDelegate.bs(a)),this.N=new EI(r),this.Je=new Xs(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let r=this.Ps[e.toKey()];return r||(r=new VS(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,r,a){Le("MemoryPersistence","Starting transaction:",e);const l=new UI(this.Le.next());return this.referenceDelegate.vs(),a(l).next(h=>this.referenceDelegate.Vs(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ss(e,r){return Re.or(Object.values(this.Ps).map(a=>()=>a.containsKey(e,r)))}}class UI extends yI{constructor(e){super(),this.currentSequenceNumber=e}}class Gf{constructor(e){this.persistence=e,this.Ds=new k0,this.Cs=null}static Ns(e){return new Gf(e)}get xs(){if(this.Cs)return this.Cs;throw et()}addReference(e,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),Re.resolve()}removeReference(e,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),Re.resolve()}markPotentiallyOrphaned(e,r){return this.xs.add(r.toString()),Re.resolve()}removeTarget(e,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(h=>this.xs.add(h.toString()))}).next(()=>a.removeTargetData(e,r))}vs(){this.Cs=new Set}Vs(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.xs,a=>{const l=Je.fromPath(a);return this.ks(e,l).next(h=>{h||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(e)))}updateLimboDocument(e,r){return this.ks(e,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}bs(e){return 0}ks(e,r){return Re.or([()=>Re.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ss(e,r)])}}function Xm(i,e){return`firestore_clients_${i}_${e}`}function jI(i,e,r){let a=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function V0(i,e){return`firestore_targets_${i}_${e}`}class ey{constructor(e,r,a,l){this.user=e,this.batchId=r,this.state=a,this.error=l}static $s(e,r,a){const l=JSON.parse(a);let h,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new Oe(l.error.code,l.error.message))),m?new ey(e,r,l.state,h):(Xn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zf{constructor(e,r,a){this.targetId=e,this.state=r,this.error=a}static $s(e,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new Oe(a.error.code,a.error.message))),h?new Zf(e,a.state,l):(Xn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wf{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static $s(e,r){const a=JSON.parse(r);let l="object"==typeof a&&a.activeTargetIds instanceof Array,h=$m();for(let m=0;l&&m<a.activeTargetIds.length;++m)l=Pb(a.activeTargetIds[m]),h=h.add(a.activeTargetIds[m]);return l?new Wf(e,h):(Xn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class zf{constructor(e,r){this.clientId=e,this.onlineState=r}static $s(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new zf(r.clientId,r.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ty{constructor(){this.activeTargetIds=$m()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U0{constructor(e,r,a,l,h){this.window=e,this.Oe=r,this.persistenceKey=a,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new In(jt),this.started=!1,this.Ks=[];const m=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=Xm(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new ty),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const r=yield e.syncEngine.pn();for(const l of r){if(l===e.Ls)continue;const h=e.getItem(Xm(e.persistenceKey,l));if(h){const m=Wf.$s(l,h);m&&(e.qs=e.qs.insert(m.clientId,m))}}e.Ys();const a=e.storage.getItem(e.Hs);if(a){const l=e.Xs(a);l&&e.Zs(l)}for(const l of e.Ks)e.Us(l);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let r=!1;return this.qs.forEach((a,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,r,a){this.ei(e,r,a),this.ni(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(V0(this.persistenceKey,e));if(a){const l=Zf.$s(e,a);l&&(r=l.state)}}return this.si.Fs(e),this.Ys(),r}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(V0(this.persistenceKey,e))}updateQueryState(e,r,a){this.ii(e,r,a)}handleUserChange(e,r,a){r.forEach(l=>{this.ni(l)}),this.currentUser=e,a.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Le("SharedClientState","READ",e,r),r}setItem(e,r){Le("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var r=this;const a=e;if(a.storageArea===this.storage){if(Le("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ce.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const l=r.ai(a.key);return r.ci(l,null)}{const l=r.ui(a.key,a.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const l=r.hi(a.key,a.newValue);if(l)return r.li(l)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const l=r.fi(a.key,a.newValue);if(l)return r.di(l)}}else if(a.key===r.Hs){if(null!==a.newValue){const l=r.Xs(a.newValue);if(l)return r.Zs(l)}}else if(a.key===r.Qs){const l=function(h){let m=zi.T;if(null!=h)try{const w=JSON.parse(h);ht("number"==typeof w),m=w}catch(w){Xn("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(a.newValue);l!==zi.T&&r.sequenceNumberHandler(l)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,r,a){const l=new ey(this.currentUser,e,r,a),h=jI(this.persistenceKey,this.currentUser,e);this.setItem(h,l.Os())}ni(e){const r=jI(this.persistenceKey,this.currentUser,e);this.removeItem(r)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,r,a){const l=V0(this.persistenceKey,e),h=new Zf(e,r,a);this.setItem(l,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const r=this.Ws.exec(e);return r?r[1]:null}ui(e,r){const a=this.ai(e);return Wf.$s(a,r)}hi(e,r){const a=this.Gs.exec(e),l=Number(a[1]);return ey.$s(new Mr(void 0!==a[2]?a[2]:null),l,r)}fi(e,r){const a=this.zs.exec(e),l=Number(a[1]);return Zf.$s(l,r)}Xs(e){return zf.$s(e)}li(e){var r=this;return(0,Ce.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine._i(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,r){const a=r?this.qs.insert(e,r):this.qs.remove(e),l=this.ti(this.qs),h=this.ti(a),m=[],w=[];return h.forEach(D=>{l.has(D)||m.push(D)}),l.forEach(D=>{h.has(D)||w.push(D)}),this.syncEngine.gi(m,w).then(()=>{this.qs=a})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let r=$m();return e.forEach((a,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class j0{constructor(){this.yi=new ty,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,r,a){this.pi[e]=r}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new ty,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class BI{Ei(e){}shutdown(){}}class HI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}Ri(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class qI{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class jS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,r,a,l){const h=this.Bi(e,r);Le("RestConnection","Sending: ",h,a);const m={};return this.Ui(m,l),this.qi(e,h,m,a).then(w=>(Le("RestConnection","Received: ",w),w),w=>{throw Oo("RestConnection",`${e} failed with error: `,w,"url: ",h,"request:",a),w})}Ki(e,r,a,l){return this.Li(e,r,a,l)}Ui(e,r){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Pc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(e[a]=r.authHeaders[a])}Bi(e,r){return`${this.Fi}/v1/${r}:${$I[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,r,a,l){return new Promise((h,m)=>{const w=new xb;w.listenOnce(Kv.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case pf.NO_ERROR:const S=w.getResponseJson();Le("Connection","XHR received:",JSON.stringify(S)),h(S);break;case pf.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),m(new Oe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const M=w.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',M,"response text:",w.getResponseText()),M>0){const P=w.getResponseJson().error;if(P&&P.status&&P.message){const Y=function(ee){const De=ee.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(De)>=0?De:_e.UNKNOWN}(P.status);m(new Oe(Y,P.message))}else m(new Oe(_e.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Oe(_e.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const D=JSON.stringify(l);w.send(r,"POST",D,a,15)})}ji(e,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=new tl,h=Gh(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Sb({})),this.Ui(m.initMessageHeaders,r),(0,Jt.uI)()||(0,Jt.b$)()||(0,Jt.d)()||(0,Jt.w1)()||(0,Jt.Mn)()||(0,Jt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");Le("Connection","Creating WebChannel: "+w,m);const D=l.createWebChannel(w,m);let S=!1,M=!1;const P=new qI({vi:ee=>{M?Le("Connection","Not sending because WebChannel is closed:",ee):(S||(Le("Connection","Opening WebChannel transport."),D.open(),S=!0),Le("Connection","WebChannel sending:",ee),D.send(ee))},Vi:()=>D.close()}),Y=(ee,De,Be)=>{ee.listen(De,Ze=>{try{Be(Ze)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return Y(D,gf.EventType.OPEN,()=>{M||Le("Connection","WebChannel transport opened.")}),Y(D,gf.EventType.CLOSE,()=>{M||(M=!0,Le("Connection","WebChannel transport closed"),P.$i())}),Y(D,gf.EventType.ERROR,ee=>{M||(M=!0,Oo("Connection","WebChannel transport errored:",ee),P.$i(new Oe(_e.UNAVAILABLE,"The operation could not be completed")))}),Y(D,gf.EventType.MESSAGE,ee=>{var De;if(!M){const Be=ee.data[0];ht(!!Be);const Ze=Be,Bt=Ze.error||(null===(De=Ze[0])||void 0===De?void 0:De.error);if(Bt){Le("Connection","WebChannel received error:",Bt);const en=Bt.status;let Mt=function(hi){const eT=tr[hi];if(void 0!==eT)return xf(eT)}(en),pn=Bt.message;void 0===Mt&&(Mt=_e.INTERNAL,pn="Unknown error status: "+en+" with message "+Bt.message),M=!0,P.$i(new Oe(Mt,pn)),D.close()}else Le("Connection","WebChannel received:",Be),P.Oi(Be)}}),Y(h,Yv.STAT_EVENT,ee=>{ee.stat===Cm_PROXY?Le("Connection","Detected buffering proxy"):ee.stat===Cm_NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.ki()},0),P}}function B0(){return"undefined"!=typeof window?window:null}function ny(){return"undefined"!=typeof document?document:null}function ry(i){return new RN(i,!0)}class kr{constructor(e,r,a=1e3,l=1.5,h=6e4){this.Oe=e,this.timerId=r,this.Qi=a,this.Wi=l,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-a);l>0&&Le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Il{constructor(e,r,a,l,h,m){this.Oe=e,this.er=a,this.nr=l,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new kr(e,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,Ce.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,Ce.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,r){var a=this;return(0,Ce.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==e?a.rr.reset():r&&r.code===_e.RESOURCE_EXHAUSTED?(Xn(r.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===_e.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{e(()=>{const l=new Oe(_e.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(l)})})}yr(e){const r=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var e=this;this.state=4,this.rr.Xi((0,Ce.Z)(function*(){e.state=0,e.start()}))}pr(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return r=>{this.Oe.enqueueAndForget(()=>this.sr===e?r():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BS extends Il{constructor(e,r,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle",r,a,h),this.N=l}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const r=function(i,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(D=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:et(),l=e.targetChange.targetIds||[],h=function(D,S){return D.D?(ht(void 0===S||"string"==typeof S),cr.fromBase64String(S||"")):(ht(void 0===S||S instanceof Uint8Array),cr.fromUint8Array(S||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,w=m&&function(D){const S=void 0===D.code?_e.UNKNOWN:xf(D.code);return new Oe(S,D.message||"")}(m);r=new Pf(a,l,h,w||null)}else if("documentChange"in e){const a=e.documentChange,l=Vo(i,a.document.name),h=Rn(a.document.updateTime),m=new Vr({mapValue:{fields:a.document.fields}}),w=bn.newFoundDocument(l,h,m);r=new Rf(a.targetIds||[],a.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const a=e.documentDelete,l=Vo(i,a.document),h=a.readTime?Rn(a.readTime):Et.min(),m=bn.newNoDocument(l,h);r=new Rf([],a.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const a=e.documentRemove,l=Vo(i,a.document);r=new Rf([],a.removedTargetIds||[],l,null)}else{if(!("filter"in e))return et();{const a=e.filter,h=new Sf(a.count||0);r=new Of(a.targetId,h)}}var D;return r}(this.N,e),a=function(l){if(!("targetChange"in l))return Et.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Et.min():h.readTime?Rn(h.readTime):Et.min()}(e);return this.listener.Tr(r,a)}Ir(e){const r={};r.database=Ur(this.N),r.addTarget=function(l,h){let m;const w=h.target;return m=bf(w)?{documents:lI(l,w)}:{query:Ha(l,w)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=Ti(l,h.resumeToken):h.snapshotVersion.compareTo(Et.min())>0&&(m.readTime=lt(l,h.snapshotVersion.toTimestamp())),m}(this.N,e);const a=function(i,e){const r=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.wr(r)}Ar(e){const r={};r.database=Ur(this.N),r.removeTarget=e,this.wr(r)}}class HS extends Il{constructor(e,r,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle",r,a,h),this.N=l,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const r=function(i,e){return i&&i.length>0?(ht(void 0!==e),i.map(r=>function(a,l){let h=Rn(a.updateTime?a.updateTime:l);return h.isEqual(Et.min())&&(h=Rn(l)),new Fm(h,a.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=Rn(e.commitTime);return this.listener.vr(a,r)}return ht(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Ur(this.N),this.wr(e)}br(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>$c(this.N,a))};this.wr(r)}}class LN extends class{}{constructor(e,r,a){super(),this.credentials=e,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(e,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===_e.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Oe(_e.UNKNOWN,l.toString())})}Ki(e,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(e,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===_e.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Oe(_e.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class Kf{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Xn(r),this.$r=!1):Le("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class $S{constructor(e,r,a,l,h){var m=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(w=>{a.enqueueAndForget((0,Ce.Z)(function*(){var D;Sl(m)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,Ce.Z)(function*(S){const M=Ue(S);M.Kr.add(4),yield Tl(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield Dl(M)}),function(S){return D.apply(this,arguments)})(m))}))}),this.Wr=new Kf(a,l)}}function Dl(i){return H0.apply(this,arguments)}function H0(){return(H0=(0,Ce.Z)(function*(i){if(Sl(i))for(const e of i.jr)yield e(!0)})).apply(this,arguments)}function Tl(i){return $0.apply(this,arguments)}function $0(){return($0=(0,Ce.Z)(function*(i){for(const e of i.jr)yield e(!1)})).apply(this,arguments)}function iy(i,e){const r=Ue(i);r.qr.has(e.targetId)||(r.qr.set(e.targetId,e),Yf(r)?nd(r):id(r).cr()&&sy(r,e))}function Al(i,e){const r=Ue(i),a=id(r);r.qr.delete(e),a.cr()&&q0(r,e),0===r.qr.size&&(a.cr()?a.lr():Sl(r)&&r.Wr.set("Unknown"))}function sy(i,e){i.Gr.Y(e.targetId),id(i).Ir(e)}function q0(i,e){i.Gr.Y(e),id(i).Ar(e)}function nd(i){i.Gr=new kf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.qr.get(e)||null}),id(i).start(),i.Wr.Or()}function Yf(i){return Sl(i)&&!id(i).ar()&&i.qr.size>0}function Sl(i){return 0===Ue(i).Kr.size}function G0(i){i.Gr=void 0}function qS(i){return oy.apply(this,arguments)}function oy(){return(oy=(0,Ce.Z)(function*(i){i.qr.forEach((e,r)=>{sy(i,e)})})).apply(this,arguments)}function ay(i,e){return uy.apply(this,arguments)}function uy(){return(uy=(0,Ce.Z)(function*(i,e){G0(i),Yf(i)?(i.Wr.Lr(e),nd(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function GS(i,e,r){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,Ce.Z)(function*(i,e,r){if(i.Wr.set("Online"),e instanceof Pf&&2===e.state&&e.cause)try{yield(a=(0,Ce.Z)(function*(l,h){const m=h.cause;for(const w of h.targetIds)l.qr.has(w)&&(yield l.remoteSyncer.rejectListen(w,m),l.qr.delete(w),l.Gr.removeTarget(w))}),function(l,h){return a.apply(this,arguments)})(i,e)}catch(a){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield rd(i,a)}else if(e instanceof Rf?i.Gr.rt(e):e instanceof Of?i.Gr.ft(e):i.Gr.ct(e),!r.isEqual(Et.min()))try{const a=yield M0(i.localStore);r.compareTo(a)>=0&&(yield function(l,h){const m=l.Gr._t(h);return m.targetChanges.forEach((w,D)=>{if(w.resumeToken.approximateByteSize()>0){const S=l.qr.get(D);S&&l.qr.set(D,S.withResumeToken(w.resumeToken,h))}}),m.targetMismatches.forEach(w=>{const D=l.qr.get(w);if(!D)return;l.qr.set(w,D.withResumeToken(cr.EMPTY_BYTE_STRING,D.snapshotVersion)),q0(l,w);const S=new ts(D.target,w,1,D.sequenceNumber);sy(l,S)}),l.remoteSyncer.applyRemoteEvent(m)}(i,r))}catch(a){Le("RemoteStore","Failed to raise snapshot:",a),yield rd(i,a)}var a})).apply(this,arguments)}function rd(i,e,r){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,Ce.Z)(function*(i,e,r){if(!Bo(e))throw e;i.Kr.add(1),yield Tl(i),i.Wr.set("Offline"),r||(r=()=>M0(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield Dl(i)}))})).apply(this,arguments)}function GI(i,e){return e().catch(r=>rd(i,r,e))}function xl(i){return ly.apply(this,arguments)}function ly(){return(ly=(0,Ce.Z)(function*(i){const e=Ue(i),r=$o(e);let a=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;ZI(e);)try{const l=yield FI(e.localStore,a);if(null===l){0===e.Ur.length&&r.lr();break}a=l.batchId,ZS(e,l)}catch(l){yield rd(e,l)}W0(e)&&z0(e)})).apply(this,arguments)}function ZI(i){return Sl(i)&&i.Ur.length<10}function ZS(i,e){i.Ur.push(e);const r=$o(i);r.cr()&&r.Pr&&r.br(e.mutations)}function W0(i){return Sl(i)&&!$o(i).ar()&&i.Ur.length>0}function z0(i){$o(i).start()}function WS(i){return K0.apply(this,arguments)}function K0(){return(K0=(0,Ce.Z)(function*(i){$o(i).Sr()})).apply(this,arguments)}function WI(i){return Y0.apply(this,arguments)}function Y0(){return(Y0=(0,Ce.Z)(function*(i){const e=$o(i);for(const r of i.Ur)e.br(r.mutations)})).apply(this,arguments)}function zI(i,e,r){return cy.apply(this,arguments)}function cy(){return(cy=(0,Ce.Z)(function*(i,e,r){const a=i.Ur.shift(),l=w0.from(a,e,r);yield GI(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield xl(i)})).apply(this,arguments)}function KI(i,e){return dy.apply(this,arguments)}function dy(){return(dy=(0,Ce.Z)(function*(i,e){var r;e&&$o(i).Pr&&(yield(r=(0,Ce.Z)(function*(a,l){if(nI(h=l.code)&&h!==_e.ABORTED){const m=a.Ur.shift();$o(a).hr(),yield GI(a,()=>a.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield xl(a)}var h}),function(a,l){return r.apply(this,arguments)})(i,e)),W0(i)&&z0(i)})).apply(this,arguments)}function Q0(i,e){return J0.apply(this,arguments)}function J0(){return(J0=(0,Ce.Z)(function*(i,e){const r=Ue(i);e?(r.Kr.delete(2),yield Dl(r)):e||(r.Kr.add(2),yield Tl(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function id(i){return i.zr||(i.zr=function(e,r,a){const l=Ue(e);return l.Cr(),new BS(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:qS.bind(null,i),Ci:ay.bind(null,i),Tr:GS.bind(null,i)}),i.jr.push(function(){var e=(0,Ce.Z)(function*(r){r?(i.zr.hr(),Yf(i)?nd(i):i.Wr.set("Unknown")):(yield i.zr.stop(),G0(i))});return function(r){return e.apply(this,arguments)}}())),i.zr}function $o(i){return i.Hr||(i.Hr=function(e,r,a){const l=Ue(e);return l.Cr(),new HS(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:WS.bind(null,i),Ci:KI.bind(null,i),Vr:WI.bind(null,i),vr:zI.bind(null,i)}),i.jr.push(function(){var e=(0,Ce.Z)(function*(r){r?(i.Hr.hr(),yield xl(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Le("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return e.apply(this,arguments)}}())),i.Hr}class YI{constructor(e,r,a,l,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,r,a,l,h){const m=Date.now()+a,w=new YI(e,r,m,l,h);return w.start(a),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jf(i,e){if(Xn("AsyncQueue",`${e}: ${i}`),Bo(i))return new Oe(_e.UNAVAILABLE,`${e}: ${i}`);throw i}class Xf{constructor(e){this.comparator=e?(r,a)=>e(r,a)||Je.comparator(r.key,a.key):(r,a)=>Je.comparator(r.key,a.key),this.keyedMap=Bm(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new Xf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Xf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new Xf;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class zS{constructor(){this.Jr=new In(Je.comparator)}track(e){const r=e.doc.key,a=this.Jr.get(r);a?0!==e.type&&3===a.type?this.Jr=this.Jr.insert(r,e):3===e.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Jr=this.Jr.remove(r):1===e.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:e.doc}):et():this.Jr=this.Jr.insert(r,e)}Yr(){const e=[];return this.Jr.inorderTraversal((r,a)=>{e.push(a)}),e}}class ep{constructor(e,r,a,l,h,m,w,D){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=w,this.excludesMetadataChanges=D}static fromInitialDocuments(e,r,a,l){const h=[];return r.forEach(m=>{h.push({type:0,doc:m})}),new ep(e,r,Xf.emptySet(r),h,a,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class VN{constructor(){this.Xr=void 0,this.listeners=[]}}class UN{constructor(){this.queries=new ed(e=>Gb(e),Rm),this.onlineState="Unknown",this.Zr=new Set}}function QI(i,e){return JI.apply(this,arguments)}function JI(){return(JI=(0,Ce.Z)(function*(i,e){const r=Ue(i),a=e.query;let l=!1,h=r.queries.get(a);if(h||(l=!0,h=new VN),l)try{h.Xr=yield r.onListen(a)}catch(m){const w=Jf(m,`Initialization of query '${u0(e.query)}' failed`);return void e.onError(w)}r.queries.set(a,h),h.listeners.push(e),e.eo(r.onlineState),h.Xr&&e.no(h.Xr)&&tD(r)})).apply(this,arguments)}function XI(i,e){return eD.apply(this,arguments)}function eD(){return(eD=(0,Ce.Z)(function*(i,e){const r=Ue(i),a=e.query;let l=!1;const h=r.queries.get(a);if(h){const m=h.listeners.indexOf(e);m>=0&&(h.listeners.splice(m,1),l=0===h.listeners.length)}if(l)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function jN(i,e){const r=Ue(i);let a=!1;for(const l of e){const m=r.queries.get(l.query);if(m){for(const w of m.listeners)w.no(l)&&(a=!0);m.Xr=l}}a&&tD(r)}function BN(i,e,r){const a=Ue(i),l=a.queries.get(e);if(l)for(const h of l.listeners)h.onError(r);a.queries.delete(e)}function tD(i){i.Zr.forEach(e=>{e.next()})}class nD{constructor(e,r,a){this.query=e,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)3!==l.type&&a.push(l);e=new ep(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.io?this.oo(e)&&(this.so.next(e),r=!0):this.ao(e,this.onlineState)&&(this.co(e),r=!0),this.ro=e,r}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),r=!0),r}ao(e,r){return!e.fromCache||!(this.options.uo&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=ep.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class HN{constructor(e,r){this.payload=e,this.byteLength=r}ho(){return"metadata"in this.payload}}class KS{constructor(e){this.N=e}zn(e){return Vo(this.N,e)}Hn(e){return e.metadata.exists?y0(this.N,e.document,!1):bn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Rn(e)}}class YS{constructor(e,r,a){this.lo=e,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=rD(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(e){const r=new Map,a=new KS(this.N);for(const l of e)if(l.metadata.queries){const h=a.zn(l.metadata.name);for(const m of l.metadata.queries){const w=(r.get(m)||nn()).add(h);r.set(m,w)}}return r}complete(){var e=this;return(0,Ce.Z)(function*(){const r=yield function(i,e,r,a){return bl.apply(this,arguments)}(e.localStore,new KS(e.N),e.documents,e.lo.id),a=e.wo(e.documents);for(const l of e.queries)yield LS(e.localStore,l,a.get(l.name));return e.progress.taskState="Success",new PS(Object.assign({},e.progress),r)})()}}function rD(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class iD{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class JS{constructor(e,r){this.query=e,this._o=r,this.mo=null,this.current=!1,this.yo=nn(),this.mutatedKeys=nn(),this.po=Om(e),this.Eo=new Xf(this.po)}get To(){return this._o}Io(e,r){const a=r?r.Ao:new zS,l=r?r.Eo:this.Eo;let h=r?r.mutatedKeys:this.mutatedKeys,m=l,w=!1;const D=a0(this.query)&&l.size===this.query.limit?l.last():null,S=Nm(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((M,P)=>{const Y=l.get(M),ee=Df(this.query,P)?P:null,De=!!Y&&this.mutatedKeys.has(Y.key),Be=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Ze=!1;Y&&ee?Y.data.isEqual(ee.data)?De!==Be&&(a.track({type:3,doc:ee}),Ze=!0):this.Ro(Y,ee)||(a.track({type:2,doc:ee}),Ze=!0,(D&&this.po(ee,D)>0||S&&this.po(ee,S)<0)&&(w=!0)):!Y&&ee?(a.track({type:0,doc:ee}),Ze=!0):Y&&!ee&&(a.track({type:1,doc:Y}),Ze=!0,(D||S)&&(w=!0)),Ze&&(ee?(m=m.add(ee),h=Be?h.add(M):h.delete(M)):(m=m.delete(M),h=h.delete(M)))}),a0(this.query)||Nm(this.query))for(;m.size>this.query.limit;){const M=a0(this.query)?m.last():m.first();m=m.delete(M.key),h=h.delete(M.key),a.track({type:1,doc:M})}return{Eo:m,Ao:a,Ln:w,mutatedKeys:h}}Ro(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a){const l=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const h=e.Ao.Yr();h.sort((S,M)=>function(P,Y){const ee=De=>{switch(De){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return ee(P)-ee(Y)}(S.type,M.type)||this.po(S.doc,M.doc)),this.Po(a);const m=r?this.bo():[],w=0===this.yo.size&&this.current?1:0,D=w!==this.mo;return this.mo=w,0!==h.length||D?{snapshot:new ep(this.query,e.Eo,l,h,e.mutatedKeys,0===w,D,!1),vo:m}:{vo:m}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new zS,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}Po(e){e&&(e.addedDocuments.forEach(r=>this._o=this._o.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=e.current)}bo(){if(!this.current)return[];const e=this.yo;this.yo=nn(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return e.forEach(a=>{this.yo.has(a)||r.push(new QS(a))}),this.yo.forEach(a=>{e.has(a)||r.push(new iD(a))}),r}So(e){this._o=e.Gn,this.yo=nn();const r=this.Io(e.documents);return this.applyChanges(r,!0)}Do(){return ep.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class $N{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class XS{constructor(e){this.key=e,this.Co=!1}}class ex{constructor(e,r,a,l,h,m){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new ed(w=>Gb(w),Rm),this.ko=new Map,this.$o=new Set,this.Oo=new In(Je.comparator),this.Fo=new Map,this.Mo=new k0,this.Lo={},this.Bo=new Map,this.Uo=ns.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function tx(i,e){return sD.apply(this,arguments)}function sD(){return(sD=(0,Ce.Z)(function*(i,e){const r=ti(i);let a,l;const h=r.xo.get(e);if(h)a=h.targetId,r.sharedClientState.addLocalQueryTarget(a),l=h.view.Do();else{const m=yield Cl(r.localStore,Ji(e)),w=r.sharedClientState.addLocalQueryTarget(m.targetId);a=m.targetId,l=yield oD(r,e,a,"current"===w),r.isPrimaryClient&&iy(r.remoteStore,m)}return l})).apply(this,arguments)}function oD(i,e,r,a){return aD.apply(this,arguments)}function aD(){return(aD=(0,Ce.Z)(function*(i,e,r,a){i.Ko=(M,P,Y)=>{return(ee=(0,Ce.Z)(function*(De,Be,Ze,Bt){let en=Be.view.Io(Ze);en.Ln&&(en=yield Jm(De.localStore,Be.query,!1).then(({documents:hi})=>Be.view.Io(hi,en)));const Mt=Bt&&Bt.targetChanges.get(Be.targetId),pn=Be.view.applyChanges(en,De.isPrimaryClient,Mt);return lD(De,Be.targetId,pn.vo),pn.snapshot}),function(De,Be,Ze,Bt){return ee.apply(this,arguments)})(i,M,P,Y);var ee};const l=yield Jm(i.localStore,e,!0),h=new JS(e,l.Gn),m=h.Io(l.documents),w=Mf.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),D=h.applyChanges(m,i.isPrimaryClient,w);lD(i,r,D.vo);const S=new $N(e,r,h);return i.xo.set(e,S),i.ko.has(r)?i.ko.get(r).push(e):i.ko.set(r,[e]),D.snapshot})).apply(this,arguments)}function qN(i,e){return X0.apply(this,arguments)}function X0(){return(X0=(0,Ce.Z)(function*(i,e){const r=Ue(i),a=r.xo.get(e),l=r.ko.get(a.targetId);if(l.length>1)return r.ko.set(a.targetId,l.filter(h=>!Rm(h,e))),void r.xo.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield td(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),Al(r.remoteStore,a.targetId),tp(r,a.targetId)}).catch(_l))):(tp(r,a.targetId),yield td(r.localStore,a.targetId,!0))})).apply(this,arguments)}function eE(){return(eE=(0,Ce.Z)(function*(i,e,r){const a=dE(i);try{const l=yield function(h,m){const w=Ue(h),D=Bn.now(),S=m.reduce((P,Y)=>P.add(Y.key),nn());let M;return w.persistence.runTransaction("Locally write mutations","readwrite",P=>w.Qn.bn(P,S).next(Y=>{M=Y;const ee=[];for(const De of m){const Be=gS(De,M.get(De.key));null!=Be&&ee.push(new Ba(De.key,Be,Vb(Be.value.mapValue),Mn.exists(!0)))}return w.In.addMutationBatch(P,D,ee,m)})).then(P=>(P.applyToLocalDocumentSet(M),{batchId:P.batchId,changes:M}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(h,m,w){let D=h.Lo[h.currentUser.toKey()];D||(D=new In(jt)),D=D.insert(m,w),h.Lo[h.currentUser.toKey()]=D}(a,l.batchId,r),yield is(a,l.changes),yield xl(a.remoteStore)}catch(l){const h=Jf(l,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function hy(i,e){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,Ce.Z)(function*(i,e){const r=Ue(i);try{const a=yield kI(r.localStore,e);e.targetChanges.forEach((l,h)=>{const m=r.Fo.get(h);m&&(ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.Co=!0:l.modifiedDocuments.size>0?ht(m.Co):l.removedDocuments.size>0&&(ht(m.Co),m.Co=!1))}),yield is(r,a,e)}catch(a){yield _l(a)}})).apply(this,arguments)}function tE(i,e,r){const a=Ue(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const l=[];a.xo.forEach((h,m)=>{const w=m.view.eo(e);w.snapshot&&l.push(w.snapshot)}),function(h,m){const w=Ue(h);w.onlineState=m;let D=!1;w.queries.forEach((S,M)=>{for(const P of M.listeners)P.eo(m)&&(D=!0)}),D&&tD(w)}(a.eventManager,e),l.length&&a.No.Tr(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function nx(i,e,r){return nE.apply(this,arguments)}function nE(){return(nE=(0,Ce.Z)(function*(i,e,r){const a=Ue(i);a.sharedClientState.updateQueryState(e,"rejected",r);const l=a.Fo.get(e),h=l&&l.key;if(h){let m=new In(Je.comparator);m=m.insert(h,bn.newNoDocument(h,Et.min()));const w=nn().add(h),D=new jc(Et.min(),new Map,new Zn(jt),m,w);yield hy(a,D),a.Oo=a.Oo.remove(h),a.Fo.delete(e),cD(a)}else yield td(a.localStore,e,!1).then(()=>tp(a,e,r)).catch(_l)})).apply(this,arguments)}function rE(i,e){return fy.apply(this,arguments)}function fy(){return(fy=(0,Ce.Z)(function*(i,e){const r=Ue(i),a=e.batch.batchId;try{const l=yield Hf(r.localStore,e);my(r,a,null),sd(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield is(r,l)}catch(l){yield _l(l)}})).apply(this,arguments)}function uD(i,e,r){return py.apply(this,arguments)}function py(){return(py=(0,Ce.Z)(function*(i,e,r){const a=Ue(i);try{const l=yield function(h,m){const w=Ue(h);return w.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let S;return w.In.lookupMutationBatch(D,m).next(M=>(ht(null!==M),S=M.keys(),w.In.removeMutationBatch(D,M))).next(()=>w.In.performConsistencyCheck(D)).next(()=>w.Qn.bn(D,S))})}(a.localStore,e);my(a,e,r),sd(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield is(a,l)}catch(l){yield _l(l)}})).apply(this,arguments)}function gy(){return(gy=(0,Ce.Z)(function*(i,e){const r=Ue(i);Sl(r.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(h){const m=Ue(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>m.In.getHighestUnacknowledgedBatchId(w))}(r.localStore);if(-1===a)return void e.resolve();const l=r.Bo.get(a)||[];l.push(e),r.Bo.set(a,l)}catch(a){const l=Jf(a,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function sd(i,e){(i.Bo.get(e)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(e)}function my(i,e,r){const a=Ue(i);let l=a.Lo[a.currentUser.toKey()];if(l){const h=l.get(e);h&&(r?h.reject(r):h.resolve(),l=l.remove(e)),a.Lo[a.currentUser.toKey()]=l}}function tp(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.ko.get(e))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(e),i.isPrimaryClient&&i.Mo.cs(e).forEach(a=>{i.Mo.containsKey(a)||rx(i,a)})}function rx(i,e){i.$o.delete(e.path.canonicalString());const r=i.Oo.get(e);null!==r&&(Al(i.remoteStore,r),i.Oo=i.Oo.remove(e),i.Fo.delete(r),cD(i))}function lD(i,e,r){for(const a of r)a instanceof iD?(i.Mo.addReference(a.key,e),ix(i,a)):a instanceof QS?(Le("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,e),i.Mo.containsKey(a.key)||rx(i,a.key)):et()}function ix(i,e){const r=e.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(Le("SyncEngine","New document in limbo: "+r),i.$o.add(a),cD(i))}function cD(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const e=i.$o.values().next().value;i.$o.delete(e);const r=new Je(Gt.fromString(e)),a=i.Uo.next();i.Fo.set(a,new XS(r)),i.Oo=i.Oo.insert(r,a),iy(i.remoteStore,new ts(Ji(Vc(r.path)),a,2,zi.T))}}function is(i,e,r){return iE.apply(this,arguments)}function iE(){return(iE=(0,Ce.Z)(function*(i,e,r){const a=Ue(i),l=[],h=[],m=[];var w;a.xo.isEmpty()||(a.xo.forEach((w,D)=>{m.push(a.Ko(D,e,r).then(S=>{if(S){a.isPrimaryClient&&a.sharedClientState.updateQueryState(D.targetId,S.fromCache?"not-current":"current"),l.push(S);const M=x0.kn(D.targetId,S);h.push(M)}}))}),yield Promise.all(m),a.No.Tr(l),yield(w=(0,Ce.Z)(function*(D,S){const M=Ue(D);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Re.forEach(S,Y=>Re.forEach(Y.Nn,ee=>M.persistence.referenceDelegate.addReference(P,Y.targetId,ee)).next(()=>Re.forEach(Y.xn,ee=>M.persistence.referenceDelegate.removeReference(P,Y.targetId,ee)))))}catch(P){if(!Bo(P))throw P;Le("LocalStore","Failed to update sequence numbers: "+P)}for(const P of S){const Y=P.targetId;if(!P.fromCache){const ee=M.Un.get(Y),Be=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);M.Un=M.Un.insert(Y,Be)}}}),function(D,S){return w.apply(this,arguments)})(a.localStore,h))})).apply(this,arguments)}function WN(i,e){return dD.apply(this,arguments)}function dD(){return(dD=(0,Ce.Z)(function*(i,e){const r=Ue(i);if(!r.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const a=yield PI(r.localStore,e);r.currentUser=e,(l=r).Bo.forEach(m=>{m.forEach(w=>{w.reject(new Oe(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield is(r,a.Wn)}var l})).apply(this,arguments)}function sE(i,e){const r=Ue(i),a=r.Fo.get(e);if(a&&a.Co)return nn().add(a.key);{let l=nn();const h=r.ko.get(e);if(!h)return l;for(const m of h){const w=r.xo.get(m);l=l.unionWith(w.view.To)}return l}}function sx(i,e){return hD.apply(this,arguments)}function hD(){return(hD=(0,Ce.Z)(function*(i,e){const r=Ue(i),a=yield Jm(r.localStore,e.query,!0),l=e.view.So(a);return r.isPrimaryClient&&lD(r,e.targetId,l.vo),l})).apply(this,arguments)}function zN(i){return oE.apply(this,arguments)}function oE(){return(oE=(0,Ce.Z)(function*(i){const e=Ue(i);return VI(e.localStore).then(r=>is(e,r))})).apply(this,arguments)}function KN(i,e,r,a){return yy.apply(this,arguments)}function yy(){return(yy=(0,Ce.Z)(function*(i,e,r,a){const l=Ue(i),h=yield function(m,w){const D=Ue(m),S=Ue(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",M=>S.Xt(M,w).next(P=>P?D.Qn.bn(M,P):Re.resolve(null)))}(l.localStore,e);var w;null!==h?("pending"===r?yield xl(l.remoteStore):"acknowledged"===r||"rejected"===r?(my(l,e,a||null),sd(l,e),w=e,Ue(Ue(l.localStore).In).te(w)):et(),yield is(l,h)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function fD(){return(fD=(0,Ce.Z)(function*(i,e){const r=Ue(i);if(ti(r),dE(r),!0===e&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),l=yield ax(r,a.toArray());r.qo=!0,yield Q0(r.remoteStore,!0);for(const h of l)iy(r.remoteStore,h)}else if(!1===e&&!1!==r.qo){const a=[];let l=Promise.resolve();r.ko.forEach((h,m)=>{r.sharedClientState.isLocalQueryTarget(m)?a.push(m):l=l.then(()=>(tp(r,m),td(r.localStore,m,!0))),Al(r.remoteStore,m)}),yield l,yield ax(r,a),function(h){const m=Ue(h);m.Fo.forEach((w,D)=>{Al(m.remoteStore,D)}),m.Mo.us(),m.Fo=new Map,m.Oo=new In(Je.comparator)}(r),r.qo=!1,yield Q0(r.remoteStore,!1)}})).apply(this,arguments)}function ax(i,e,r){return aE.apply(this,arguments)}function aE(){return(aE=(0,Ce.Z)(function*(i,e,r){const a=Ue(i),l=[],h=[];for(const m of e){let w;const D=a.ko.get(m);if(D&&0!==D.length){w=yield Cl(a.localStore,Ji(D[0]));for(const S of D){const M=a.xo.get(S),P=yield sx(a,M);P.snapshot&&h.push(P.snapshot)}}else{const S=yield LI(a.localStore,m);w=yield Cl(a.localStore,S),yield oD(a,od(S),m,!1)}l.push(w)}return a.No.Tr(h),l})).apply(this,arguments)}function od(i){return ul(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ux(i){const e=Ue(i);return Ue(Ue(e.localStore).persistence).pn()}function lx(i,e,r,a){return uE.apply(this,arguments)}function uE(){return(uE=(0,Ce.Z)(function*(i,e,r,a){const l=Ue(i);if(l.qo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(e))switch(r){case"current":case"not-current":{const h=yield VI(l.localStore),m=jc.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield is(l,h,m);break}case"rejected":yield td(l.localStore,e,!0),tp(l,e,a);break;default:et()}})).apply(this,arguments)}function lE(i,e,r){return cE.apply(this,arguments)}function cE(){return(cE=(0,Ce.Z)(function*(i,e,r){const a=ti(i);if(a.qo){for(const l of e){if(a.ko.has(l)){Le("SyncEngine","Adding an already active target "+l);continue}const h=yield LI(a.localStore,l),m=yield Cl(a.localStore,h);yield oD(a,od(h),m.targetId,!1),iy(a.remoteStore,m)}for(const l of r)a.ko.has(l)&&(yield td(a.localStore,l,!1).then(()=>{Al(a.remoteStore,l),tp(a,l)}).catch(_l))}})).apply(this,arguments)}function ti(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nx.bind(null,e),e.No.Tr=jN.bind(null,e.eventManager),e.No.jo=BN.bind(null,e.eventManager),e}function dE(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,e),e}class pD{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Ce.Z)(function*(){r.N=ry(e.databaseInfo.databaseId),r.sharedClientState=r.Wo(e),r.persistence=r.Go(e),yield r.persistence.start(),r.gcScheduler=r.zo(e),r.localStore=r.Ho(e)})()}zo(e){return null}Ho(e){return OI(this.persistence,new RI,e.initialUser,this.N)}Go(e){return new L0(Gf.Ns,this.N)}Wo(e){return new j0}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gD extends pD{constructor(e,r,a){super(),this.Jo=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,Ce.Z)(function*(){yield r().call(a,e),yield function(i){return P0.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,e),yield dE(a.Jo.syncEngine),yield xl(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(e){return OI(this.persistence,new RI,e.initialUser,this.N)}zo(e){return new TS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const r=S0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new A0(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,B0(),ny(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new j0}}class fE extends gD{constructor(e,r){super(e,r,!1),this.Jo=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,a=this;return(0,Ce.Z)(function*(){yield r().call(a,e);const l=a.Jo.syncEngine;a.sharedClientState instanceof U0&&(a.sharedClientState.syncEngine={_i:KN.bind(null,l),mi:lx.bind(null,l),gi:lE.bind(null,l),pn:ux.bind(null,l),wi:zN.bind(null,l)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var h=(0,Ce.Z)(function*(m){yield function(i,e){return fD.apply(this,arguments)}(a.Jo.syncEngine,m),a.gcScheduler&&(m&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):m||a.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(e){const r=B0();if(!U0.Pt(r))throw new Oe(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=S0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new U0(r,e.asyncQueue,a,e.clientId,e.initialUser)}}class _y{initialize(e,r){var a=this;return(0,Ce.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>tE(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,a.syncEngine),yield Q0(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new UN}createDatastore(e){const r=ry(e.databaseInfo.databaseId),a=new jS(e.databaseInfo);return new LN(e.credentials,a,r)}createRemoteStore(e){return r=this.localStore,a=this.datastore,l=e.asyncQueue,h=w=>tE(this.syncEngine,w,0),m=HI.Pt()?new HI:new BI,new $S(r,a,l,h,m);var r,a,l,h,m}createSyncEngine(e,r){return function(a,l,h,m,w,D,S){const M=new ex(a,l,h,m,w,D);return S&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,Ce.Z)(function*(r){const a=Ue(r);Le("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield Tl(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function pE(i,e=10240){let r=0;return{read:()=>(0,Ce.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+e),done:!1};return r+=e,a}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class mD{constructor(e,r){this.Zo=e,this.N=r,this.metadata=new Cr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,Ce.Z)(function*(){const r=yield e.na();if(null===r)return null;const a=e.ta.decode(r),l=Number(a);isNaN(l)&&e.sa(`length string (${a}) is not valid number`);const h=yield e.ia(l);return new HN(JSON.parse(h),r.length+l)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,Ce.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const r=e.ra();r<0&&e.sa("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),a})()}ia(e){var r=this;return(0,Ce.Z)(function*(){for(;r.buffer.length<e;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),a})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,Ce.Z)(function*(){const r=yield e.Zo.read();if(!r.done){const a=new Uint8Array(e.buffer.length+r.value.length);a.set(e.buffer),a.set(r.value,e.buffer.length),e.buffer=a}return r.done})()}}class yD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Ce.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Oe(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(l=(0,Ce.Z)(function*(h,m){const w=Ue(h),D=Ur(w.N)+"/documents",S={documents:m.map(ee=>Hc(w.N,ee))},M=yield w.Ki("BatchGetDocuments",D,S),P=new Map;M.forEach(ee=>{const De=function(i,e){return"found"in e?function(r,a){ht(!!a.found);const l=Vo(r,a.found.name),h=Rn(a.found.updateTime),m=new Vr({mapValue:{fields:a.found.fields}});return bn.newFoundDocument(l,h,m)}(i,e):"missing"in e?function(r,a){ht(!!a.missing),ht(!!a.readTime);const l=Vo(r,a.missing),h=Rn(a.readTime);return bn.newNoDocument(l,h)}(i,e):et()}(w.N,ee);P.set(De.key.toString(),De)});const Y=[];return m.forEach(ee=>{const De=P.get(ee.toString());ht(!!De),Y.push(De)}),Y}),function(h,m){return l.apply(this,arguments)})(r.datastore,e);var l;return a.forEach(l=>r.recordVersion(l)),a})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new Um(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var a;e.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,l)=>{const h=Je.fromPath(l);e.mutations.push(new f0(h,e.precondition(h)))}),yield(a=(0,Ce.Z)(function*(l,h){const m=Ue(l),w=Ur(m.N)+"/documents",D={writes:h.map(S=>$c(m.N,S))};yield m.Li("Commit",w,D)}),function(l,h){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw et();r=Et.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!r.isEqual(a))throw new Oe(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?Mn.updateTime(r):Mn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Et.min()))throw new Oe(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(r)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cx{constructor(e,r,a,l){this.asyncQueue=e,this.datastore=r,this.updateFunction=a,this.deferred=l,this.aa=5,this.rr=new kr(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,Ce.Z)(function*(){const r=new yD(e.datastore),a=e.ua(r);a&&a.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(h=>{e.ha(h)}))}).catch(l=>{e.ha(l)})}))}ua(e){try{const r=this.updateFunction(e);return!Ua(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!nI(r)}return!1}}class dx{constructor(e,r,a){var l=this;this.credentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=Mr.UNAUTHENTICATED,this.clientId=mf.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var h=(0,Ce.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield l.credentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),r.resolve()}catch(a){const l=Jf(a,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Ey(i,e){return wy.apply(this,arguments)}function wy(){return(wy=(0,Ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,Ce.Z)(function*(h){a.isEqual(h)||(yield PI(e.localStore,h),a=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e})).apply(this,arguments)}function gE(i,e){return np.apply(this,arguments)}function np(){return(np=(0,Ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield mE(i);Le("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(r,a),i.setCredentialChangeListener(l=>{return(h=(0,Ce.Z)(function*(m,w){const D=Ue(m);D.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const S=Sl(D);D.Kr.add(3),yield Tl(D),S&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(w),D.Kr.delete(3),yield Dl(D)}),function(m,w){return h.apply(this,arguments)})(e.remoteStore,l);var h}),i.onlineComponents=e})).apply(this,arguments)}function mE(i){return Si.apply(this,arguments)}function Si(){return(Si=(0,Ce.Z)(function*(i){return i.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield Ey(i,new pD)),i.offlineComponents})).apply(this,arguments)}function Cy(i){return _D.apply(this,arguments)}function _D(){return(_D=(0,Ce.Z)(function*(i){return i.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield gE(i,new _y)),i.onlineComponents})).apply(this,arguments)}function vD(i){return mE(i).then(e=>e.persistence)}function ED(i){return mE(i).then(e=>e.localStore)}function wD(i){return Cy(i).then(e=>e.remoteStore)}function yE(i){return Cy(i).then(e=>e.syncEngine)}function ad(i){return CD.apply(this,arguments)}function CD(){return(CD=(0,Ce.Z)(function*(i){const e=yield Cy(i),r=e.eventManager;return r.onListen=tx.bind(null,e.syncEngine),r.onUnlisten=qN.bind(null,e.syncEngine),r})).apply(this,arguments)}function ID(i,e,r={}){const a=new Cr;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(l,h,m,w,D){const S=new vy({next:P=>{h.enqueueAndForget(()=>XI(l,M));const Y=P.docs.has(m);!Y&&P.fromCache?D.reject(new Oe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&P.fromCache&&w&&"server"===w.source?D.reject(new Oe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(P)},error:P=>D.reject(P)}),M=new nD(Vc(m.path),S,{includeMetadataChanges:!0,uo:!0});return QI(l,M)}(yield ad(i),i.asyncQueue,e,r,a)})),a.promise}function TD(i,e,r={}){const a=new Cr;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(l,h,m,w,D){const S=new vy({next:P=>{h.enqueueAndForget(()=>XI(l,M)),P.fromCache&&"server"===w.source?D.reject(new Oe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(P)},error:P=>D.reject(P)}),M=new nD(m,S,{includeMetadataChanges:!0,uo:!0});return QI(l,M)}(yield ad(i),i.asyncQueue,e,r,a)})),a.promise}class gx{constructor(e,r,a,l,h,m,w,D){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=w,this.useFetchStreams=D}}class Nl{constructor(e,r){this.projectId=e,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}const ud=new Map;function rp(i,e,r){if(!r)throw new Oe(_e.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function _E(i,e,r,a){if(!0===e&&!0===a)throw new Oe(_e.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function xD(i){if(!Je.isDocumentKey(i))throw new Oe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ND(i){if(Je.isDocumentKey(i))throw new Oe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vE(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=function(r){if(r.constructor){const a=/function\s+([^\s(]+)\s*\(/.exec(r.constructor.toString());if(a&&a.length>1)return a[1]}return null}(i);return e?`a custom ${e} object`:"an object"}}return"function"==typeof i?"a function":et()}function zt(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Oe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vE(i);throw new Oe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function mx(i,e){if(e<=0)throw new Oe(_e.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class EE{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_E("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,e instanceof Nl?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Oe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(a.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),void 0!==e.credentials&&(this._credentials=function(r){if(!r)return new rS;switch(r.type){case"gapi":const a=r.client;return ht(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new xN(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Oe(_e.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=ud.get(e);r&&(Le("ComponentProvider","Removing Datastore"),ud.delete(e),r.terminate())}(this),Promise.resolve()}}class Dn{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Hr{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class eo extends Hr{constructor(e,r,a){super(e,r,Vc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Je(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function wE(i,e,...r){if(i=(0,Jt.m9)(i),rp("collection","path",e),i instanceof ld){const a=Gt.fromString(e,...r);return ND(a),new eo(i,null,a)}{if(!(i instanceof Dn||i instanceof eo))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=Gt.fromString(i.path,...r).child(Gt.fromString(e));return ND(a),new eo(i.firestore,null,a)}}function CE(i,e,...r){if(i=(0,Jt.m9)(i),1===arguments.length&&(e=mf.I()),rp("doc","path",e),i instanceof ld){const a=Gt.fromString(e,...r);return xD(a),new Dn(i,null,new Je(a))}{if(!(i instanceof Dn||i instanceof eo))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Gt.fromString(e,...r));return xD(a),new Dn(i.firestore,i instanceof eo?i.converter:null,new Je(a))}}function MD(i,e){return i=(0,Jt.m9)(i),e=(0,Jt.m9)(e),(i instanceof Dn||i instanceof eo)&&(e instanceof Dn||e instanceof eo)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function by(i,e){return i=(0,Jt.m9)(i),e=(0,Jt.m9)(e),i instanceof Hr&&e instanceof Hr&&i.firestore===e.firestore&&Rm(i._query,e._query)&&i.converter===e.converter}class br{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new kr(this,"async_queue_retry"),this.Ea=()=>{const r=ny();r&&Le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const e=ny();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const r=ny();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new Cr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(r){if(!Bo(r))throw r;Le("AsyncQueue","Operation failed with retryable error: "+r)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const r=this.fa.then(()=>(this.ga=!0,e().catch(a=>{throw this.ma=a,this.ga=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(e,r,a){this.Ta(),this.pa.indexOf(e)>-1&&(r=0);const l=YI.createAndSchedule(this,e,r,a,h=>this.Ra(h));return this._a.push(l),l}Ta(){this.ma&&et()}verifyOperationInProgress(){}Pa(){var e=this;return(0,Ce.Z)(function*(){let r;do{r=e.fa,yield r}while(r!==e.fa)})()}ba(e){for(const r of this._a)if(r.timerId===e)return!0;return!1}va(e){return this.Pa().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Pa()})}Va(e){this.pa.push(e)}Ra(e){const r=this._a.indexOf(e);this._a.splice(r,1)}}function RD(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const a=e;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(i)}class OD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,a){this._progressObserver={next:e,error:r,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hn extends ld{constructor(e,r){super(e,r),this.type="firestore",this._queue=new br,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||IE(this),this._firestoreClient.terminate()}}function kD(i=(0,Mh.getApp)()){return(0,Mh._getProvider)(i,"firestore").getImmediate()}function dr(i){return i._firestoreClient||IE(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function IE(i){var e;const r=i._freezeSettings(),a=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new gx(i._databaseId,h,i._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var h,w;i._firestoreClient=new dx(i._credentials,i._queue,a)}function Iy(i,e,r){const a=new Cr;return i.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield Ey(i,r),yield gE(i,e),a.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===_e.FAILED_PRECONDITION||h.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l)}var h})).then(()=>a.promise)}function Ex(i){if(i._initialized||i._terminated)throw new Oe(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qo{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Oe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(cr.fromBase64String(e))}catch(r){throw new Oe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Go(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class to{constructor(e){this._methodName=e}}class Ty{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Oe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Oe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const XN=/^__.*__$/;class eM{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new Ba(e,this.data,this.fieldMask,r,this.fieldTransforms):new Af(e,this.data,r,this.fieldTransforms)}}class wx{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new Ba(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function UD(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class Ay{constructor(e,r,a,l,h,m){this.settings=e,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=l,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Ca({path:a,xa:!1});return l.ka(e),l}$a(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.Ca({path:a,xa:!1});return l.Sa(),l}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return RE(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(UD(this.Da)&&XN.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Cx{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.N=a||ry(e)}Ba(e,r,a,l=!1){return new Ay({Da:e,methodName:r,La:a,path:Rr.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Rl(i){const e=i._freezeSettings(),r=ry(i._databaseId);return new Cx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Sy(i,e,r,a,l,h={}){const m=i.Ba(h.merge||h.mergeFields?2:0,e,r,l);xE("Data must be an object, but it was:",m,a);const w=HD(a,m);let D,S;if(h.merge)D=new xs(m.fieldMask),S=m.fieldTransforms;else if(h.mergeFields){const M=[];for(const P of h.mergeFields){const Y=NE(e,P,r);if(!m.contains(Y))throw new Oe(_e.INVALID_ARGUMENT,`Field '${Y}' is specified in your field mask but missing from your input data.`);$D(M,Y)||M.push(Y)}D=new xs(M),S=m.fieldTransforms.filter(P=>D.covers(P.field))}else D=null,S=m.fieldTransforms;return new eM(new Vr(w),D,S)}class xy extends to{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xy}}function jD(i,e,r){return new Ay({Da:3,La:e.settings.La,methodName:i._methodName,xa:r},e.databaseId,e.N,e.ignoreUndefinedProperties)}class TE extends to{_toFieldTransform(e){return new Uc(e.path,new ll)}isEqual(e){return e instanceof TE}}class bx extends to{constructor(e,r){super(e),this.Ua=r}_toFieldTransform(e){const r=jD(this,e,!0),a=this.Ua.map(h=>Ol(h,r)),l=new ja(a);return new Uc(e.path,l)}isEqual(e){return this===e}}class tM extends to{constructor(e,r){super(e),this.Ua=r}_toFieldTransform(e){const r=jD(this,e,!0),a=this.Ua.map(h=>Ol(h,r)),l=new cl(a);return new Uc(e.path,l)}isEqual(e){return this===e}}class nM extends to{constructor(e,r){super(e),this.qa=r}_toFieldTransform(e){const r=new dl(e.N,Wb(e.N,this.qa));return new Uc(e.path,r)}isEqual(e){return this===e}}function AE(i,e,r,a){const l=i.Ba(1,e,r);xE("Data must be an object, but it was:",l,a);const h=[],m=Vr.empty();il(a,(D,S)=>{const M=ME(e,D,r);S=(0,Jt.m9)(S);const P=l.$a(M);if(S instanceof xy)h.push(M);else{const Y=Ol(S,P);null!=Y&&(h.push(M),m.set(M,Y))}});const w=new xs(h);return new wx(m,w,l.fieldTransforms)}function SE(i,e,r,a,l,h){const m=i.Ba(1,e,r),w=[NE(e,a,r)],D=[l];if(h.length%2!=0)throw new Oe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Y=0;Y<h.length;Y+=2)w.push(NE(e,h[Y])),D.push(h[Y+1]);const S=[],M=Vr.empty();for(let Y=w.length-1;Y>=0;--Y)if(!$D(S,w[Y])){const ee=w[Y];let De=D[Y];De=(0,Jt.m9)(De);const Be=m.$a(ee);if(De instanceof xy)S.push(ee);else{const Ze=Ol(De,Be);null!=Ze&&(S.push(ee),M.set(ee,Ze))}}const P=new xs(S);return new wx(M,P,m.fieldTransforms)}function BD(i,e,r,a=!1){return Ol(r,i.Ba(a?4:3,e))}function Ol(i,e){if(ss(i=(0,Jt.m9)(i)))return xE("Unsupported field value:",e,i),HD(i,e);if(i instanceof to)return function(r,a){if(!UD(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(r,a){const l=[];let h=0;for(const m of r){let w=Ol(m,a.Oa(h));null==w&&(w={nullValue:"NULL_VALUE"}),l.push(w),h++}return{arrayValue:{values:l}}}(i,e)}return function(r,a){if(null===(r=(0,Jt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Wb(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=Bn.fromDate(r);return{timestampValue:lt(a.N,l)}}if(r instanceof Bn){const l=new Bn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lt(a.N,l)}}if(r instanceof Ty)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Go)return{bytesValue:Ti(a.N,r._byteString)};if(r instanceof Dn){const l=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(l))throw a.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:oI(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${vE(r)}`)}(i,e)}function HD(i,e){const r={};return Ob(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):il(i,(a,l)=>{const h=Ol(l,e.Na(a));null!=h&&(r[a]=h)}),{mapValue:{fields:r}}}function ss(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Bn||i instanceof Ty||i instanceof Go||i instanceof Dn||i instanceof to)}function xE(i,e,r){if(!ss(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=vE(r);throw e.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function NE(i,e,r){if((e=(0,Jt.m9)(e))instanceof qo)return e._internalPath;if("string"==typeof e)return ME(i,e);throw RE("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const Ix=new RegExp("[~\\*/\\[\\]]");function ME(i,e,r){if(e.search(Ix)>=0)throw RE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new qo(...e.split("."))._internalPath}catch(a){throw RE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function RE(i,e,r,a,l){const h=a&&!a.isEmpty(),m=void 0!==l;let w=`Function ${e}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let D="";return(h||m)&&(D+=" (found",h&&(D+=` in field ${a}`),m&&(D+=` in document ${l}`),D+=")"),new Oe(_e.INVALID_ARGUMENT,w+i+D)}function $D(i,e){return i.some(r=>r.isEqual(e))}class ip{constructor(e,r,a,l,h){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Za("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Dx extends ip{data(){return super.data()}}function Za(i,e){return"string"==typeof e?ME(i,e):e instanceof qo?e._internalPath:e._delegate._internalPath}class Wa{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class za extends ip{constructor(e,r,a,l,h,m){super(e,r,a,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Za("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class sp extends za{data(e={}){return super.data(e)}}class Pl{constructor(e,r,a,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Wa(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new sp(this._firestore,this._userDataWriter,a.key,a,new Wa(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Oe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>({type:"added",doc:new sp(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Wa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const w=new sp(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Wa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let D=-1,S=-1;return 0!==m.type&&(D=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),S=h.indexOf(m.doc.key)),{type:rM(m.type),doc:w,oldIndex:D,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function rM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function Tx(i,e){return i instanceof za&&e instanceof za?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Pl&&e instanceof Pl&&i._firestore===e._firestore&&by(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Ny(i){if(Nm(i)&&0===i.explicitOrderBy.length)throw new Oe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class op{}function Ka(i,...e){for(const r of e)i=r._apply(i);return i}class Ax extends op{constructor(e,r,a){super(),this.Ka=e,this.ja=r,this.Qa=a,this.type="where"}_apply(e){const r=Rl(e.firestore),a=function(l,h,m,w,D,S,M){let P;if(D.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){ap(M,S);const ee=[];for(const De of M)ee.push(Ry(w,l,De));P={arrayValue:{values:ee}}}else P=Ry(w,l,M)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||ap(M,S),P=BD(m,"where",M,"in"===S||"not-in"===S);const Y=Or.create(D,S,P);return function(ee,De){if(De.v()){const Ze=Mm(ee);if(null!==Ze&&!Ze.isEqual(De.field))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ze.toString()}' and '${De.field.toString()}'`);const Bt=Qi(ee);null!==Bt&&up(0,De.field,Bt)}const Be=function(Ze,Bt){for(const en of Ze.filters)if(Bt.indexOf(en.op)>=0)return en.op;return null}(ee,function(Ze){switch(Ze){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(De.op));if(null!==Be)throw new Oe(_e.INVALID_ARGUMENT,Be===De.op?`Invalid query. You cannot use more than one '${De.op.toString()}' filter.`:`Invalid query. You cannot use '${De.op.toString()}' filters with '${Be.toString()}' filters.`)}(l,Y),Y}(e._query,0,r,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Hr(e.firestore,e.converter,function(l,h){const m=l.filters.concat([h]);return new ko(l.path,l.collectionGroup,l.explicitOrderBy.slice(),m,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,a))}}class Sx extends op{constructor(e,r){super(),this.Ka=e,this.Wa=r,this.type="orderBy"}_apply(e){const r=function(a,l,h){if(null!==a.startAt)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Yi(l,h);return function(w,D){if(null===Qi(w)){const S=Mm(w);null!==S&&up(0,S,D.field)}}(a,m),m}(e._query,this.Ka,this.Wa);return new Hr(e.firestore,e.converter,function(a,l){const h=a.explicitOrderBy.concat([l]);return new ko(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class qD extends op{constructor(e,r,a){super(),this.type=e,this.Ga=r,this.za=a}_apply(e){return new Hr(e.firestore,e.converter,qb(e._query,this.Ga,this.za))}}class OE extends op{constructor(e,r,a){super(),this.type=e,this.Ha=r,this.Ja=a}_apply(e){const r=My(e,this.type,this.Ha,this.Ja);return new Hr(e.firestore,e.converter,(l=r,new ko((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}class PE extends op{constructor(e,r,a){super(),this.type=e,this.Ha=r,this.Ja=a}_apply(e){const r=My(e,this.type,this.Ha,this.Ja);return new Hr(e.firestore,e.converter,(l=r,new ko((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function My(i,e,r,a){if(r[0]=(0,Jt.m9)(r[0]),r[0]instanceof ip)return function(l,h,m,w,D){if(!w)throw new Oe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const S=[];for(const M of Fo(l))if(M.field.isKeyField())S.push(Tm(h,w.key));else{const P=w.data.field(M.field);if(Xv(P))throw new Oe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const Y=M.field.canonicalString();throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Y}' (used as the orderBy) does not exist.`)}S.push(P)}return new Am(S,D)}(i._query,i.firestore._databaseId,e,r[0]._document,a);{const l=Rl(i.firestore);return function(h,m,w,D,S,M){const P=h.explicitOrderBy;if(S.length>P.length)throw new Oe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Y=[];for(let ee=0;ee<S.length;ee++){const De=S[ee];if(P[ee].field.isKeyField()){if("string"!=typeof De)throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof De}`);if(!$b(h)&&-1!==De.indexOf("/"))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${De}' contains a slash.`);const Be=h.path.child(Gt.fromString(De));if(!Je.isDocumentKey(Be))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Be}' is not because it contains an odd number of segments.`);const Ze=new Je(Be);Y.push(Tm(m,Ze))}else{const Be=BD(w,D,De);Y.push(Be)}}return new Am(Y,M)}(i._query,i.firestore._databaseId,l,e,r,a)}}function Ry(i,e,r){if("string"==typeof(r=(0,Jt.m9)(r))){if(""===r)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$b(e)&&-1!==r.indexOf("/"))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=e.path.child(Gt.fromString(r));if(!Je.isDocumentKey(a))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Tm(i,new Je(a))}if(r instanceof Dn)return Tm(i,r._key);throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${vE(r)}.`)}function ap(i,e){if(!Array.isArray(i)||0===i.length)throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function up(i,e,r){if(!r.isEqual(e))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Oy{convertValue(e,r="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw et()}}convertObject(e,r){const a={};return il(e.fields,(l,h)=>{a[l]=this.convertValue(h,r)}),a}convertGeoPoint(e){return new Ty(er(e.latitude),er(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=Dm(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(_f(e));default:return null}}convertTimestamp(e){const r=Po(e);return new Bn(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=Gt.fromString(e);ht(Vf(a));const l=new Nl(a.get(1),a.get(3)),h=new Je(a.popFirst(5));return l.isEqual(r)||Xn(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function lp(i,e,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,a}class Mx extends Oy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,r)}}class WD{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Rl(e)}set(e,r,a){this._verifyNotCommitted();const l=Zo(e,this._firestore),h=lp(l.converter,r,a),m=Sy(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,a);return this._mutations.push(m.toMutation(l._key,Mn.none())),this}update(e,r,a,...l){this._verifyNotCommitted();const h=Zo(e,this._firestore);let m;return m="string"==typeof(r=(0,Jt.m9)(r))||r instanceof qo?SE(this._dataReader,"WriteBatch.update",h._key,r,a,l):AE(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(m.toMutation(h._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Zo(e,this._firestore);return this._mutations=this._mutations.concat(new Um(r._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zo(i,e){if((i=(0,Jt.m9)(i)).firestore!==e)throw new Oe(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class kl extends Oy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,r)}}function dp(i,e,r){i=zt(i,Dn);const a=zt(i.firestore,Hn),l=lp(i.converter,e,r);return cd(a,[Sy(Rl(a),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Mn.none())])}function LE(i,e,r,...a){i=zt(i,Dn);const l=zt(i.firestore,Hn),h=Rl(l);let m;return m="string"==typeof(e=(0,Jt.m9)(e))||e instanceof qo?SE(h,"updateDoc",i._key,e,r,a):AE(h,"updateDoc",i._key,e),cd(l,[m.toMutation(i._key,Mn.exists(!0))])}function UE(i,...e){var r,a,l;i=(0,Jt.m9)(i);let h={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||RD(e[m])||(h=e[m],m++);const w={includeMetadataChanges:h.includeMetadataChanges};if(RD(e[m])){const P=e[m];e[m]=null===(r=P.next)||void 0===r?void 0:r.bind(P),e[m+1]=null===(a=P.error)||void 0===a?void 0:a.bind(P),e[m+2]=null===(l=P.complete)||void 0===l?void 0:l.bind(P)}let D,S,M;if(i instanceof Dn)S=zt(i.firestore,Hn),M=Vc(i._key.path),D={next:P=>{e[m]&&e[m](jE(S,i,P))},error:e[m+1],complete:e[m+2]};else{const P=zt(i,Hr);S=zt(P.firestore,Hn),M=P._query;const Y=new kl(S);D={next:ee=>{e[m]&&e[m](new Pl(S,Y,P,ee))},error:e[m+1],complete:e[m+2]},Ny(i._query)}return function(P,Y,ee,De){const Be=new vy(De),Ze=new nD(Y,Be,ee);return P.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return QI(yield ad(P),Ze)})),()=>{Be.Xo(),P.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return XI(yield ad(P),Ze)}))}}(dr(S),M,w,D)}function cd(i,e){return function(r,a){const l=new Cr;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,e,r){return eE.apply(this,arguments)}(yield yE(r),a,l)})),l.promise}(dr(i),e)}function jE(i,e,r){const a=r.docs.get(e._key),l=new kl(i);return new za(i,l,e._key,a,new Wa(r.hasPendingWrites,r.fromCache),e.converter)}class kx extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Rl(e)}get(e){const r=Zo(e,this._firestore),a=new Mx(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return et();const h=l[0];if(h.isFoundDocument())return new ip(this._firestore,a,h.key,h,r.converter);if(h.isNoDocument())return new ip(this._firestore,a,r._key,null,r.converter);throw et()})}set(e,r,a){const l=Zo(e,this._firestore),h=lp(l.converter,r,a),m=Sy(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,a);return this._transaction.set(l._key,m),this}update(e,r,a,...l){const h=Zo(e,this._firestore);let m;return m="string"==typeof(r=(0,Jt.m9)(r))||r instanceof qo?SE(this._dataReader,"Transaction.update",h._key,r,a,l):AE(this._dataReader,"Transaction.update",h._key,r),this._transaction.update(h._key,m),this}delete(e){const r=Zo(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Zo(e,this._firestore),a=new kl(this._firestore);return super.get(e).then(l=>new za(this._firestore,a,r._key,l._document,new Wa(!1,!1),r.converter))}}(function(i){Pc=i})(Mh.SDK_VERSION),(0,Mh._registerComponent)(new nv.wA("firestore",(i,{options:e})=>{const r=i.getProvider("app").getImmediate(),a=new Hn(r,new AN(i.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),a._setSettings(e),a},"PUBLIC")),(0,Mh.registerVersion)("@firebase/firestore","3.0.1",void 0);var jx=k(3637);function HE(){return i=>i.lift(new Bx)}class Bx{call(e,r){return r.subscribe(new $E(e))}}class $E extends ws.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let r;this.hasPrev?r=[this.prev,e]:this.hasPrev=!0,this.prev=e,r&&this.destination.next(r)}}class KD{constructor(e,r){this.compare=e,this.keySelector=r}call(e,r){return r.subscribe(new YD(e,this.compare,this.keySelector))}}class YD extends ws.L{constructor(e,r,a){super(e),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(e,r){return e===r}_next(e){let r;try{const{keySelector:l}=this;r=l?l(e):e}catch(l){return this.destination.error(l)}let a=!1;if(this.hasKey)try{const{compare:l}=this;a=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;a||(this.key=r,this.destination.next(e))}}k(4828);var $x=k(4486);function Fl(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ll(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function hp(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class no{constructor(e){this._delegate=e}static fromBase64String(e){return hp(),new no(Go.fromBase64String(e))}static fromUint8Array(e){return Ll(),new no(Go.fromUint8Array(e))}toBase64(){return hp(),this._delegate.toBase64()}toUint8Array(){return Ll(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qE(i){return function(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class Zx{enableIndexedDbPersistence(e,r){return function(i,e){Ex(i=zt(i,Hn));const r=dr(i),a=i._freezeSettings(),l=new _y;return Iy(r,l,new gD(l,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function(i){Ex(i=zt(i,Hn));const e=dr(i),r=i._freezeSettings(),a=new _y;return Iy(e,a,new fE(a,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(i){if(i._initialized&&!i._terminated)throw new Oe(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Cr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(r=(0,Ce.Z)(function*(a){if(!Rs.Pt())return Promise.resolve();const l=a+"main";yield Rs.delete(l)}),function(a){return r.apply(this,arguments)})(S0(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class GE{constructor(e,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof Nl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Oo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,a={}){!function(i,e,r,a={}){var l;const h=(i=zt(i,ld))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&Oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${r}`,ssl:!1})),a.mockUserToken){let m,w;if("string"==typeof a.mockUserToken)m=a.mockUserToken,w=Mr.MOCK_USER;else{m=(0,Jt.Sg)(a.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new Oe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Mr(D)}i._credentials=new iS(new Qv(m,w))}}(this._delegate,e,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield vD(i),r=yield wD(i);return e.setNetworkEnabled(!0),function(a){const l=Ue(a);return l.Kr.delete(0),Dl(l)}(r)}))}(dr(i=zt(i,Hn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield vD(i),r=yield wD(i);return e.setNetworkEnabled(!1),(a=(0,Ce.Z)(function*(l){const h=Ue(l);h.Kr.add(0),yield Tl(h),h.Wr.set("Offline")}),function(l){return a.apply(this,arguments)})(r);var a}))}(dr(i=zt(i,Hn)))}(this._delegate)}enablePersistence(e){let r=!1,a=!1;return e&&(r=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,_E("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(e){const r=new Cr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,e){return gy.apply(this,arguments)}(yield yE(e),r)})),r.promise}(dr(i=zt(i,Hn)))}(this._delegate)}onSnapshotsInSync(e){return function(i,e){return function(i,e){const r=new vy(e);return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return a=yield ad(i),l=r,Ue(a).Zr.add(l),void l.next();var a,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return a=yield ad(i),l=r,void Ue(a).Zr.delete(l);var a,l}))}}(dr(i=zt(i,Hn)),RD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mp(this,wE(this._delegate,e))}catch(r){throw $r(r,"collection()","Firestore.collection()")}}doc(e){try{return new os(this,CE(this._delegate,e))}catch(r){throw $r(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new di(this,function(i,e){if(i=zt(i,ld),rp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hr(i,null,(r=e,new ko(Gt.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw $r(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(i,e){return function(i,e){const r=new Cr;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const a=yield(l=i,Cy(l).then(h=>h.datastore));var l;new cx(i.asyncQueue,a,e,r).run()})),r.promise}(dr(i),r=>e(new kx(i,r)))}(this._delegate,r=>e(new ZE(this,r)))}batch(){return dr(this._delegate),new Ly(new WD(this._delegate,e=>cd(this._delegate,e)))}loadBundle(e){return function(i,e){const r=dr(i=zt(i,Hn)),a=new OD;return function(i,e,r,a){const l=function(h,m){let w;return w="string"==typeof h?(new TextEncoder).encode(h):h,D=function(D,S){if(D instanceof Uint8Array)return pE(D,S);if(D instanceof ArrayBuffer)return pE(new Uint8Array(D),S);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new mD(D,m);var D}(r,ry(e));i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function(i,e,r){const a=Ue(i);var l;(l=(0,Ce.Z)(function*(h,m,w){try{const D=yield m.getMetadata();if(yield function(Y,ee){const De=Ue(Y),Be=Rn(ee.createTime);return De.persistence.runTransaction("hasNewerBundle","readonly",Ze=>De.Je.getBundleMetadata(Ze,ee.id)).then(Ze=>!!Ze&&Ze.createTime.compareTo(Be)>=0)}(h.localStore,D))return yield m.close(),void w._completeWith((Y=D,{taskState:"Success",documentsLoaded:Y.totalDocuments,bytesLoaded:Y.totalBytes,totalDocuments:Y.totalDocuments,totalBytes:Y.totalBytes}));w._updateProgress(rD(D));const S=new YS(D,h.localStore,m.N);let M=yield m.Qo();for(;M;){const Y=yield S.fo(M);Y&&w._updateProgress(Y),M=yield m.Qo()}const P=yield S.complete();yield is(h,P.Tn,void 0),yield function(Y,ee){const De=Ue(Y);return De.persistence.runTransaction("Save bundle","readwrite",Be=>De.Je.saveBundleMetadata(Be,ee))}(h.localStore,D),w._completeWith(P.progress)}catch(D){Oo("SyncEngine",`Loading bundle failed with ${D}`),w._failWith(D)}var Y}),function(h,m,w){return l.apply(this,arguments)})(a,e,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield yE(i),l,a)}))}(r,i._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function(i,e){return function(i,e){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(r,a){const l=Ue(r);return l.persistence.runTransaction("Get named query","readonly",h=>l.Je.getNamedQuery(h,a))}(yield ED(i),e)}))}(dr(i=zt(i,Hn)),e).then(r=>r?new Hr(i,null,r.query):null)}(this._delegate,e).then(r=>r?new di(this,r):null)}}class fp extends Oy{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(new Go(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return os.forKey(r,this.firestore,null)}}class ZE{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new fp(e)}get(e){const r=Ul(e);return this._delegate.get(r).then(a=>new pp(this._firestore,new za(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(e,r,a){const l=Ul(e);return a?(Fl("Transaction.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(e,r,a,...l){const h=Ul(e);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...l),this}delete(e){const r=Ul(e);return this._delegate.delete(r),this}}class Ly{constructor(e){this._delegate=e}set(e,r,a){const l=Ul(e);return a?(Fl("WriteBatch.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(e,r,a,...l){const h=Ul(e);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...l),this}delete(e){const r=Ul(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Vl{constructor(e,r,a){this._firestore=e,this._userDataWriter=r,this._delegate=a}fromFirestore(e,r){const a=new sp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gp(this._firestore,a),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const a=Vl.INSTANCES;let l=a.get(e);l||(l=new WeakMap,a.set(e,l));let h=l.get(r);return h||(h=new Vl(e,new fp(e),r),l.set(r,h)),h}}Vl.INSTANCES=new WeakMap;class os{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new fp(e)}static forPath(e,r,a){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new os(r,new Dn(r._delegate,a,new Je(e)))}static forKey(e,r,a){return new os(r,new Dn(r._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new mp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mp(this.firestore,wE(this._delegate,e))}catch(r){throw $r(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Jt.m9)(e))instanceof Dn&&MD(this._delegate,e)}set(e,r){r=Fl("DocumentReference.set",r);try{return r?dp(this._delegate,e,r):dp(this._delegate,e)}catch(a){throw $r(a,"setDoc()","DocumentReference.set()")}}update(e,r,...a){try{return 1===arguments.length?LE(this._delegate,e):LE(this._delegate,e,r,...a)}catch(l){throw $r(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return cd(zt(i.firestore,Hn),[new Um(i._key,Mn.none())])}(this._delegate)}onSnapshot(...e){const r=Qa(e),a=Vy(e,l=>new pp(this.firestore,new za(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return UE(this._delegate,r,a)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(i){i=zt(i,Dn);const e=zt(i.firestore,Hn),r=dr(e),a=new kl(e);return function(i,e){const r=new Cr;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(a=(0,Ce.Z)(function*(l,h,m){try{const w=yield function(D,S){const M=Ue(D);return M.persistence.runTransaction("read document","readonly",P=>M.Qn.An(P,S))}(l,h);w.isFoundDocument()?m.resolve(w):w.isNoDocument()?m.resolve(null):m.reject(new Oe(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const D=Jf(w,`Failed to get document '${h} from cache`);m.reject(D)}}),function(l,h,m){return a.apply(this,arguments)})(yield ED(i),e,r);var a})),r.promise}(r,i._key).then(l=>new za(e,a,i._key,l,new Wa(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(i){i=zt(i,Dn);const e=zt(i.firestore,Hn);return ID(dr(e),i._key,{source:"server"}).then(r=>jE(e,i,r))}(this._delegate):function(i){i=zt(i,Dn);const e=zt(i.firestore,Hn);return ID(dr(e),i._key).then(r=>jE(e,i,r))}(this._delegate),r.then(a=>new pp(this.firestore,new za(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new os(this.firestore,this._delegate.withConverter(e?Vl.getInstance(this.firestore,e):null))}}function $r(i,e,r){return i.message=i.message.replace(e,r),i}function Qa(i){for(const e of i)if("object"==typeof e&&!qE(e))return e;return{}}function Vy(i,e){var r,a;let l;return l=qE(i[0])?i[0]:qE(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(e(h))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(a=l.complete)||void 0===a?void 0:a.bind(l)}}class pp{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new os(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return Tx(this._delegate,e._delegate)}}class gp extends pp{data(e){const r=this._delegate.data(e);return function(i,e){i||et()}(void 0!==r),r}}class di{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new fp(e)}where(e,r,a){try{return new di(this.firestore,Ka(this._delegate,function(i,e,r){const a=e,l=Za("where",i);return new Ax(l,a,r)}(e,r,a)))}catch(l){throw $r(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new di(this.firestore,Ka(this._delegate,function(i,e="asc"){const r=e,a=Za("orderBy",i);return new Sx(a,r)}(e,r)))}catch(a){throw $r(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new di(this.firestore,Ka(this._delegate,function(i){return mx("limit",i),new qD("limit",i,"F")}(e)))}catch(r){throw $r(r,"limit()","Query.limit()")}}limitToLast(e){try{return new di(this.firestore,Ka(this._delegate,function(i){return mx("limitToLast",i),new qD("limitToLast",i,"L")}(e)))}catch(r){throw $r(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new di(this.firestore,Ka(this._delegate,function(...i){return new OE("startAt",i,!0)}(...e)))}catch(r){throw $r(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new di(this.firestore,Ka(this._delegate,function(...i){return new OE("startAfter",i,!1)}(...e)))}catch(r){throw $r(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new di(this.firestore,Ka(this._delegate,function(...i){return new PE("endBefore",i,!0)}(...e)))}catch(r){throw $r(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new di(this.firestore,Ka(this._delegate,function(...i){return new PE("endAt",i,!1)}(...e)))}catch(r){throw $r(r,"endAt()","Query.endAt()")}}isEqual(e){return by(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(i){i=zt(i,Hr);const e=zt(i.firestore,Hn),r=dr(e),a=new kl(e);return function(i,e){const r=new Cr;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(a=(0,Ce.Z)(function*(l,h,m){try{const w=yield Jm(l,h,!0),D=new JS(h,w.Gn),S=D.Io(w.documents),M=D.applyChanges(S,!1);m.resolve(M.snapshot)}catch(w){const D=Jf(w,`Failed to execute query '${h} against cache`);m.reject(D)}}),function(l,h,m){return a.apply(this,arguments)})(yield ED(i),e,r);var a})),r.promise}(r,i._query).then(l=>new Pl(e,a,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function(i){i=zt(i,Hr);const e=zt(i.firestore,Hn),r=dr(e),a=new kl(e);return TD(r,i._query,{source:"server"}).then(l=>new Pl(e,a,i,l))}(this._delegate):function(i){i=zt(i,Hr);const e=zt(i.firestore,Hn),r=dr(e),a=new kl(e);return Ny(i._query),TD(r,i._query).then(l=>new Pl(e,a,i,l))}(this._delegate),r.then(a=>new JD(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const r=Qa(e),a=Vy(e,l=>new JD(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return UE(this._delegate,r,a)}withConverter(e){return new di(this.firestore,this._delegate.withConverter(e?Vl.getInstance(this.firestore,e):null))}}class aM{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new gp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class JD{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new di(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new aM(this._firestore,r))}forEach(e,r){this._delegate.forEach(a=>{e.call(r,new gp(this._firestore,a))})}isEqual(e){return Tx(this._delegate,e._delegate)}}class mp extends di{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new os(this.firestore,e):null}doc(e){try{return new os(this.firestore,void 0===e?CE(this._delegate):CE(this._delegate,e))}catch(r){throw $r(r,"doc()","CollectionReference.doc()")}}add(e){return function(i,e){const r=zt(i.firestore,Hn),a=CE(i),l=lp(i.converter,e);return cd(r,[Sy(Rl(i.firestore),"addDoc",a._key,l,null!==i.converter,{}).toMutation(a._key,Mn.exists(!1))]).then(()=>a)}(this._delegate,e).then(r=>new os(this.firestore,r))}isEqual(e){return MD(this._delegate,e._delegate)}withConverter(e){return new mp(this.firestore,this._delegate.withConverter(e?Vl.getInstance(this.firestore,e):null))}}function Ul(i){return zt(i,Dn)}class WE{constructor(...e){this._delegate=new qo(...e)}static documentId(){return new WE(Rr.keyField().canonicalString())}isEqual(e){return(e=(0,Jt.m9)(e))instanceof qo&&this._delegate._internalPath.isEqual(e._internalPath)}}class dd{constructor(e){this._delegate=e}static serverTimestamp(){const e=new TE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new dd(e)}static delete(){const e=new xy("deleteField");return e._methodName="FieldValue.delete",new dd(e)}static arrayUnion(...e){const r=function(...i){return new bx("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new dd(r)}static arrayRemove(...e){const r=function(...i){return new tM("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new dd(r)}static increment(e){const r=function(i){return new nM("increment",i)}(e);return r._methodName="FieldValue.increment",new dd(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uM={Firestore:GE,GeoPoint:Ty,Timestamp:Bn,Blob:no,Transaction:ZE,WriteBatch:Ly,DocumentReference:os,DocumentSnapshot:pp,Query:di,QueryDocumentSnapshot:gp,QuerySnapshot:JD,CollectionReference:mp,FieldPath:WE,FieldValue:dd,setLogLevel:function(i){!function(i){Ss.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function zx(i,e){return function(i,e=jx.z){return new Ei.y(r=>{let a;return null!=e?e.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,e)}function XD(i,e){return zx(i,e).pipe((0,ft.U)(r=>({payload:r,type:"query"})))}function zE(i,e){return XD(i,e).pipe(dh(void 0),HE(),(0,ft.U)(([r,a])=>{const l=a.payload.docChanges(),h=l.map(m=>({type:m.type,payload:m}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((m,w)=>{const D=l.find(M=>M.doc.ref.isEqual(m.ref)),S=null==r?void 0:r.payload.docs.find(M=>M.ref.isEqual(m.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(m.metadata)||!D&&S&&JSON.stringify(S.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:m}})}),h}))}function s(i,e,r){return zE(i,r).pipe(hh((a,l)=>function(i,e,r){return e.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return u(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return u(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return u(i,e.oldIndex,1)}return i}(i,a))}),i}(a,l.map(h=>h.payload),e),[]),r=>r.lift(new KD(void 0,void 0)),(0,ft.U)(a=>a.map(l=>({type:l.type,payload:l}))))}function u(i,e,r,...a){const l=i.slice();return l.splice(e,r,...a),l}function d(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){(function(i,e){i.INTERNAL.registerComponent(new nv.wA("firestore-compat",r=>((e,r)=>new GE(e,r,new Zx))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},uM)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.1")}($x.Z);class g{constructor(e,r,a){this.ref=e,this.query=r,this.afs=a}stateChanges(e){let r=zE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,ft.U)(a=>a.filter(l=>e.indexOf(l.type)>-1)))),r.pipe(dh(void 0),HE(),Li(([a,l])=>l.length>0||!a),(0,ft.U)(([a,l])=>l),vr.iC)}auditTrail(e){return this.stateChanges(e).pipe(hh((r,a)=>[...r,...a],[]))}snapshotChanges(e){const r=d(e);return s(this.query,r,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return XD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),vr.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(vr.iC)}add(e){return this.ref.add(e)}doc(e){return new y(this.ref.doc(e),this.afs)}}class y{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const a=this.ref.collection(e),{ref:l,query:h}=R(a,r);return new g(l,h,this.afs)}snapshotChanges(){return function(i,e){return zx(i,e).pipe(dh(void 0),HE(),(0,ft.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(vr.iC)}}class v{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?zE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)),Li(r=>r.length>0),vr.iC):zE(this.query,this.afs.schedulers.outsideAngular).pipe(vr.iC)}auditTrail(e){return this.stateChanges(e).pipe(hh((r,a)=>[...r,...a],[]))}snapshotChanges(e){const r=d(e);return s(this.query,r,this.afs.schedulers.outsideAngular).pipe(vr.iC)}valueChanges(e={}){return XD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(a=>a.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),vr.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(vr.iC)}}const b=new f.OlP("angularfire2.enableFirestorePersistence"),T=new f.OlP("angularfire2.firestore.persistenceSettings"),A=new f.OlP("angularfire2.firestore.settings"),N=new f.OlP("angularfire2.firestore.use-emulator");function R(i,e=(r=>r)){return{query:e(i),ref:i}}let U=(()=>{class i{constructor(r,a,l,h,m,w,D,S,M,P,Y,ee,De,Be,Ze,Bt){this.schedulers=D;const en=(0,No.on)(r,w,a),Mt=M;P&&IA(en,w,Y,De,Be,Ze,ee,Bt),[this.firestore,this.persistenceEnabled$]=(0,vr.cc)(`${en.name}.firestore`,"AngularFirestore",en.name,()=>{const pn=w.runOutsideAngular(()=>en.firestore());if(h&&pn.settings(h),Mt&&pn.useEmulator(...Mt),l&&!Ed(m)){const hi=()=>{try{return(0,hn.D)(pn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(eT){return"undefined"!=typeof console&&console.warn(eT),(0,qe.of)(!1)}};return[pn,w.runOutsideAngular(hi)]}return[pn,(0,qe.of)(!1)]},[h,Mt,l])}collection(r,a){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:h,query:m}=R(l,a),w=this.schedulers.ngZone.run(()=>h);return new g(w,m,this)}collectionGroup(r,a){const l=a||(m=>m),h=this.firestore.collectionGroup(r);return new v(l(h),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>a);return new y(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(No.Dh),f.LFG(No.xv,8),f.LFG(b,8),f.LFG(A,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(vr.HU),f.LFG(T,8),f.LFG(N,8),f.LFG(Na,8),f.LFG(ov,8),f.LFG(CA,8),f.LFG(av,8),f.LFG(xC,8),f.LFG(NC,8),f.LFG(bA,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Z=(()=>{class i{constructor(){SC.Z.registerVersion("angularfire",vr.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:b,useValue:!0},{provide:T,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[U]}),i})(),de=(()=>{class i{constructor(r){this.refereciasFirebase=r,this.db=kD(),this.mensaje="",this.mensajes="",this.segundo=0,this.multiplo10=new f.vpe,this.coleccionMensajesChat=r.collection("chat")}ngOnInit(){this.segundo=0,this.RecuperarMensajesChat()}GuardarMensajesChat(){if("true"==localStorage.getItem("logueado")){let r={gmail:localStorage.getItem("name"),dia:(new Date).toString(),mensaje:this.mensaje};this.coleccionMensajesChat.add(r),this.mensaje=""}else this.mensajes="<h3>necesitas iniciar session<h3/>"}RecuperarMensajesChat(){var r=this;return(0,Ce.Z)(function*(){r.coleccionMensajesChat.valueChanges().subscribe(l=>{if(console.info("dato retornados",l),r.chats=l,"true"==localStorage.getItem("logueado"))try{r.mensajes="",r.segundo++,r.chats.sort(function(h,m){return Date.parse(h.dia)-Date.parse(m.dia)});for(let h=0;h<r.chats.length;h++)localStorage.getItem("name")==r.chats[h].gmail?r.mensajes+='<div><div  align="right"><p>ME</p><div class="bg-light rounded py-2 px-3 mb-2" ><p class="text-small mb-0 text-muted">'+r.chats[h].mensaje+'</p> </div><p class="small text-muted">'+r.chats[h].dia+"<p/></div>":r.mensajes+="<div<div ><p>"+r.chats[h].gmail+'</p><div <div class="bg-primary rounded py-2 px-3 mb-2"><p class="text-small mb-0 text-white" >'+r.chats[h].mensaje+'</p></div><p class="small text-muted" >'+r.chats[h].dia+"<p/></div></div>";r.chats=[]}catch(h){console.log(h)}else r.mensajes="<h3>necesitas iniciar session<h3/>"}),console.log("estoy leyendo")})()}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(U))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-chat"]],outputs:{multiplo10:"multiplo10"},decls:68,vars:2,consts:[["ruta","/chat"],[1,"my-4","text-center"],[3,"innerHTML"],[1,"px-4","py-5","chat-box","bg-white"],[1,"media","w-50","mb-3"],["src","https://res.cloudinary.com/mhmd/image/upload/v1564960395/avatar_usae7z.svg","alt","user","width","50",1,"rounded-circle"],[1,"media-body","ml-3"],[1,"bg-light","rounded","py-2","px-3","mb-2"],[1,"text-small","mb-0","text-muted"],[1,"small","text-muted"],[1,"media","w-50","ml-auto","mb-3"],[1,"media-body"],[1,"bg-primary","rounded","py-2","px-3","mb-2"],[1,"text-small","mb-0","text-white"],[1,"chat-window"],[1,"chat-list","list-group"],[1,"navbar","navbar-expand-sm","navbar-dark","fixed-bottom"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn",3,"click"]],template:function(r,a){1&r&&(f._UZ(0,"app-pagina",0),f._UZ(1,"br"),f._UZ(2,"br"),f._UZ(3,"br"),f._UZ(4,"br"),f.TgZ(5,"div"),f.TgZ(6,"h3",1),f._uU(7,"Live chat"),f.qZA(),f.TgZ(8,"div",2),f.TgZ(9,"div",3),f.TgZ(10,"div",4),f._UZ(11,"img",5),f.TgZ(12,"div",6),f.TgZ(13,"div",7),f.TgZ(14,"p",8),f._uU(15,"Test which is a new approach all solutions"),f.qZA(),f.qZA(),f.TgZ(16,"p",9),f._uU(17,"12:00 PM | Aug 13"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(18,"div",10),f.TgZ(19,"div",11),f.TgZ(20,"div",12),f.TgZ(21,"p",13),f._uU(22,"Test which is a new approach to have all solutions"),f.qZA(),f.qZA(),f.TgZ(23,"p",9),f._uU(24,"12:00 PM | Aug 13"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(25,"div",4),f._UZ(26,"img",5),f.TgZ(27,"div",6),f.TgZ(28,"div",7),f.TgZ(29,"p",8),f._uU(30,"Test, which is a new approach to have"),f.qZA(),f.qZA(),f.TgZ(31,"p",9),f._uU(32,"12:00 PM | Aug 13"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(33,"div",10),f.TgZ(34,"div",11),f.TgZ(35,"div",12),f.TgZ(36,"p",13),f._uU(37,"Apollo University, Delhi, India Test"),f.qZA(),f.qZA(),f.TgZ(38,"p",9),f._uU(39,"12:00 PM | Aug 13"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(40,"div",4),f._UZ(41,"img",5),f.TgZ(42,"div",6),f.TgZ(43,"div",7),f.TgZ(44,"p",8),f._uU(45,"Test, which is a new approach"),f.qZA(),f.qZA(),f.TgZ(46,"p",9),f._uU(47,"12:00 PM | Aug 13"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(48,"div",10),f.TgZ(49,"div",11),f.TgZ(50,"div",12),f.TgZ(51,"p",13),f._uU(52,"Apollo University, Delhi, India Test"),f.qZA(),f.qZA(),f.TgZ(53,"p",9),f._uU(54,"12:00 PM | Aug 13"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f._UZ(55,"div"),f.TgZ(56,"div",14),f._UZ(57,"ul",15),f.qZA(),f._UZ(58,"br"),f._UZ(59,"br"),f.TgZ(60,"nav",16),f.TgZ(61,"div",17),f.TgZ(62,"div",18),f._uU(63,"Say something :"),f.qZA(),f.qZA(),f.TgZ(64,"input",19),f.NdJ("ngModelChange",function(h){return a.mensaje=h}),f.qZA(),f.TgZ(65,"div",20),f.TgZ(66,"button",21),f.NdJ("click",function(){return a.GuardarMensajesChat()}),f._uU(67,"send"),f.qZA(),f.qZA(),f.qZA()),2&r&&(f.xp6(8),f.Q6J("innerHTML",a.mensajes,f.oJD),f.xp6(56),f.Q6J("ngModel",a.mensaje))},directives:[Oh,ys,ar,uc],styles:[".container[_ngcontent-%COMP%]{max-width:750px}.btn[_ngcontent-%COMP%]{background-color:#0ba5c0;color:#fff}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:active{background-color:#0f8499;color:#fff;transition:all .2s}.btn[_ngcontent-%COMP%]:focus{box-shadow:none}#inferior[_ngcontent-%COMP%]{color:#fff;background:#000;position:absolute;left:0px;right:0px;height:50px;z-index:0}div[_ngcontent-%COMP%]{margin-left:30px;margin-right:30px;position:relative}"]}),i})(),ne=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-home"]],decls:39,vars:0,consts:[["ruta","/home"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],["href","/QuienSoy","role","button",1,"btn","btn-primary","btn-lg"],[1,"row"],[1,"col-md-4"],["href","/Ahorcado","role","button",1,"btn","btn-secondary"],["href","/MayorMenor","role","button",1,"btn","btn-secondary"],["href","#","role","button",1,"btn","btn-secondary"]],template:function(r,a){1&r&&(f._UZ(0,"app-pagina",0),f.TgZ(1,"main",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"h1",4),f._uU(5,"Hola!!!"),f.qZA(),f.TgZ(6,"p"),f.TgZ(7,"a",5),f._uU(8,"Quien Soy?"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(9,"div",3),f.TgZ(10,"div",6),f.TgZ(11,"div",7),f.TgZ(12,"h2"),f._uU(13,"Ahorcado"),f.qZA(),f.TgZ(14,"p"),f._uU(15," ahorcado (tambi\xe9n llamado colgado) es un juego de adivinanzas de l\xe1piz y papel para dos o m\xe1s jugadores. Un jugador piensa en una palabra, frase u oraci\xf3n y el otro trata de adivinarla seg\xfan lo que sugiere por letras o n\xfameros."),f.qZA(),f.TgZ(16,"p"),f.TgZ(17,"a",8),f._uU(18,"View details \xbb"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(19,"div",7),f.TgZ(20,"h2"),f._uU(21,"Mayor o Menor"),f.qZA(),f.TgZ(22,"p"),f._uU(23,"Juego educativo que compara dos conjuntos de objetos, y hay que determinar cu\xe1l es mayor o menor. Para ello, hay que seleccionar el operador matem\xe1tico de comparaci\xf3n, mayor, menor o igual, para se\xf1alar el conjunto con un n\xfamero de objetos m\xe1s alto. "),f.qZA(),f.TgZ(24,"p"),f.TgZ(25,"a",9),f._uU(26,"View details \xbb"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(27,"div",7),f.TgZ(28,"h2"),f._uU(29,"Preguntados"),f.qZA(),f.TgZ(30,"p"),f._uU(31,"Preguntados es un juego de preguntas y respuestas de seis categor\xedas diferentes: geograf\xeda, historia, arte, ciencia, entretenimiento, deportes. Para ganar, tendr\xe1s que conseguir los personajes correspondientes a cada una de las categor\xedas. Gira la rueda y el azar decidir\xe1 las preguntas que tendr\xe1s que responder."),f.qZA(),f.TgZ(32,"p"),f.TgZ(33,"a",10),f._uU(34,"View details \xbb"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f._UZ(35,"hr"),f.qZA(),f.qZA(),f.TgZ(36,"footer",3),f.TgZ(37,"p"),f._uU(38,"\xa9 "),f.qZA(),f.qZA())},directives:[Oh],styles:[""]}),i})(),Pe=(()=>{class i{constructor(r){this.refereciasFirebase=r,this.db=kD(),this.coleccionMensajes=r.collection("login"),this.coleccionMensajesChat=r.collection("chat")}GuardarMensajesFireStone(r,a){this.coleccionMensajes.add({gmail:r,dia:a})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(U))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ee(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"footer"),f.TgZ(1,"div",6),f._uU(2),f.TgZ(3,"button",7),f.NdJ("click",function(){return f.CHM(r),f.oxw().resetLoginError()}),f.qZA(),f.qZA(),f.qZA()}if(2&i){const r=f.oxw();f.xp6(2),f.hij(" ",r.loginErrors," ")}}let tt=(()=>{class i{constructor(r,a){this.router=r,this.servicio=a,this.name="",this.password="",this.loginError=!1,this.loginErrors=""}ngOnInit(){"true"==localStorage.getItem("logueado")&&this.router.navigate(["/"])}login(){var r=(0,Hu.n)();(0,Hu.p)(r,Hu.a).then(()=>(0,Hu.a5)(r,this.name,this.password).then(a=>{let h=(new Date).toString();this.servicio.GuardarMensajesFireStone(this.name,h),console.log("login"),console.info("usuario",a),localStorage.setItem("name",this.name),localStorage.setItem("password",this.password),localStorage.setItem("logueado","true"),this.router.navigate(["./home"])}).catch(a=>{switch(console.info("el error es: ",a),console.info("el error es: ",a.code),this.loginError=!0,a.code){case"auth/wrong-password":case"auth/user-not-found":case"auth/invalid-email":this.loginErrors="Correo y/o contrase\xf1a incorrecta.";break;case"auth/too-many-requests":this.loginErrors="Est\xe1 realizando demasiadas peticiones, espere un momento";break;default:this.loginErrors="Algo ha salido mal, espere un momento."}})).catch(a=>{})}AccesoRapido(){this.name="marcossopelana@gmail.com",this.password=123456}resetLoginError(){this.loginError=!1}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(_r),f.Y36(Pe))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-login"]],decls:10,vars:3,consts:[[1,"wrapper"],[1,"form-signin-heading"],["type","text","name","username","placeholder","Email Address","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-lg","btn-primary","btn-block",3,"click"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(r,a){1&r&&(f.TgZ(0,"div",0),f.TgZ(1,"h2",1),f._uU(2,"Please login"),f.qZA(),f.TgZ(3,"input",2),f.NdJ("ngModelChange",function(h){return a.name=h}),f.qZA(),f.TgZ(4,"input",3),f.NdJ("ngModelChange",function(h){return a.password=h}),f.qZA(),f.TgZ(5,"button",4),f.NdJ("click",function(){return a.login()}),f._uU(6,"Login"),f.qZA(),f.TgZ(7,"button",4),f.NdJ("click",function(){return a.AccesoRapido()}),f._uU(8,"AccesoRapido"),f.qZA(),f.YNc(9,Ee,4,1,"footer",5),f.qZA()),2&r&&(f.xp6(3),f.Q6J("ngModel",a.name),f.xp6(1),f.Q6J("ngModel",a.password),f.xp6(5),f.Q6J("ngIf",a.loginError))},directives:[ys,fc,ar,uc,Zr],styles:["footer[_ngcontent-%COMP%]{color:red}body[_ngcontent-%COMP%]{background:rgb(189,209,188)!important;width:auto}.wrapper[_ngcontent-%COMP%]{margin:200px 100px 80px}.form-signin[_ngcontent-%COMP%]{max-width:380px;padding:15px 35px 45px;margin:0 auto;background-color:#fff;border:1px solid rgba(0,0,0,.1)}.form-signin-heading[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]{margin-bottom:30px}.checkbox[_ngcontent-%COMP%]{font-weight:normal}.form-control[_ngcontent-%COMP%]{position:relative;font-size:16px;height:auto;padding:10px}input[type=text][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-left-radius:0;border-bottom-right-radius:0}input[type=password][_ngcontent-%COMP%]{margin-bottom:20px;border-top-left-radius:0;border-top-right-radius:0}"]}),i})();function ct(i,e){if(1&i&&(f.TgZ(0,"h3"),f._uU(1),f.qZA()),2&i){const r=f.oxw();f.xp6(1),f.hij("Puntos: ",r.puntos,"")}}function Pt(i,e){if(1&i&&(f.TgZ(0,"h3"),f._uU(1),f.qZA()),2&i){const r=f.oxw();f.xp6(1),f.hij("Vidas restantes: ",r.vidas,"")}}function hr(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",7),f.NdJ("click",function(){return f.CHM(r),f.oxw().siguiente()}),f._UZ(1,"img",8),f.qZA()}}function as(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",7),f.NdJ("click",function(){return f.CHM(r),f.oxw().menorque()}),f._UZ(1,"img",9),f.qZA()}}function yp(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",7),f.NdJ("click",function(){return f.CHM(r),f.oxw().igualque()}),f._UZ(1,"img",10),f.qZA()}}function hd(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",7),f.NdJ("click",function(){return f.CHM(r),f.oxw().mayorque()}),f._UZ(1,"img",11),f.qZA()}}function fd(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"button",7),f.NdJ("click",function(){return f.CHM(r),f.oxw().comenzar()}),f._UZ(1,"img",12),f.qZA()}}let pd=(()=>{class i{constructor(){this.fotos=[["kiwi",3,"assets\\3kiwi.jpg"],["papafritas",3,"assets\\3papasfritas.jpg"],["taza",3,"assets\\3taza.jpg"],["tortugas",3,"assets\\3tortugas.jpg"],["carros",4,"assets\\4carros.jpg"],["galletas",4,"assets\\4galletas.jpg"],["loros",4,"assets\\4loros.jpg"],["pastel",4,"assets\\4pastel.jpg"],["abejas",5,"assets\\5abejas.jpg"],["chupones",5,"assets\\5chupones.jpg"],["hamburguesa",5,"assets\\5hamburguesa.jpg"],["lampara",5,"assets\\5lampara.jpg"],["patos",5,"assets\\5patos.jpg"],["pizza",5,"assets\\5pizza.jpg"],["porcion",5,"assets\\5porcion.jpg"],["helados",6,"assets\\6helados.jpg"],["lampara",6,"assets\\6lampara.jpg"],["orugas",6,"assets\\6orugas.jpg"],["panchos",6,"assets\\6panchos.jpg"],["rosquillas",6,"assets\\6rosquillas.jpg"],["limon",7,"assets\\7limon.jpg"],["gallinas",8,"assets\\8gallinas.jpg"],["jarron",8,"assets\\8jarron.jpg"],["pan",9,"assets\\9pan.jpg"]],this.canImg1=0,this.canImg2=0,this.urlImg1="",this.urlImg2="",this.img1="",this.img2="",this.puntos=0,this.vidas=0,this.verBotones=!1,this.verSiguiente=!1,this.verStart=!0,this.ver=!1,this.perdiste="",this.cuantos=""}ngOnInit(){}creacionImagen(){do{var r=parseInt((Math.random()*(this.fotos.length-1)).toFixed(0));this.urlImg1=this.fotos[r][2],this.canImg1=this.fotos[r][2],this.img1='<img src="'+this.urlImg1+'" height="360">';var a=parseInt((Math.random()*(this.fotos.length-1)).toFixed(0));this.urlImg2=this.fotos[a][2],this.canImg2=this.fotos[a][2]}while(r==a)}siguiente(){"true"==localStorage.getItem("logueado")?(this.creacionImagen(),this.img2="",this.verSiguiente=!1,this.verBotones=!0,this.perdiste=""):this.perdiste="Ten\xe9s que iniciar sessi\xf3n"}menorque(){"true"==localStorage.getItem("logueado")?(this.img2='<img src="'+this.urlImg2+'" height="360" >',this.verSiguiente=!0,this.verBotones=!1,this.canImg1<this.canImg2?(this.perdiste="correcto",this.puntos++):(this.perdiste="incorrecto",this.vidas--),0==this.vidas&&(this.perdiste="Perdiste",this.cuantos="Hiciste "+this.puntos+" puntos",this.verSiguiente=!1,this.verBotones=!1,this.creacionImagen(),this.ver=!1,this.verStart=!0)):this.perdiste="Ten\xe9s que iniciar sessi\xf3n"}igualque(){"true"==localStorage.getItem("logueado")?(this.verSiguiente=!0,this.verBotones=!1,this.img2='<img src="'+this.urlImg2+'" height="360" >',this.canImg1==this.canImg2?(this.perdiste="correcto",this.puntos++):(this.perdiste="incorrecto",this.vidas--),0==this.vidas&&(this.perdiste="Perdiste",this.cuantos="Hiciste "+this.puntos+" puntos",this.verSiguiente=!1,this.verBotones=!1,this.creacionImagen(),this.ver=!1,this.verStart=!0)):this.perdiste="Ten\xe9s que iniciar sessi\xf3n"}mayorque(){"true"==localStorage.getItem("logueado")?(this.verSiguiente=!0,this.verBotones=!1,this.img2='<img src="'+this.urlImg2+'" height="360" >',this.canImg1>this.canImg2?(this.perdiste="correcto",this.puntos++):(this.perdiste="incorrecto",this.vidas--),0==this.vidas&&(this.perdiste="Perdiste",this.cuantos="Hiciste "+this.puntos+" puntos",this.verSiguiente=!1,this.verBotones=!1,this.creacionImagen(),this.ver=!1,this.verStart=!0)):this.perdiste="Ten\xe9s que iniciar sessi\xf3n"}comenzar(){"true"==localStorage.getItem("logueado")?(this.verSiguiente=!1,this.verBotones=!0,this.img2="",this.creacionImagen(),this.ver=!0,this.verStart=!1,this.puntos=0,this.vidas=10,this.perdiste="",this.cuantos=""):this.perdiste="Ten\xe9s que iniciar sessi\xf3n"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-mayor-menor"]],decls:37,vars:11,consts:[["ruta","MayorMenor"],[1,"main-container"],[4,"ngIf"],["center",""],[3,"innerHTML"],[3,"innerHtml"],[3,"click",4,"ngIf"],[3,"click"],["src","assets/botonSiguiente.jpg","height","100"],["src","assets\\menorque.png","height","100"],["src","assets\\igualque.png","height","100"],["src","assets\\mayorque.png","height","100"],["src","assets\\start.jpg","height","100"]],template:function(r,a){1&r&&(f._UZ(0,"app-pagina",0),f._UZ(1,"br"),f._UZ(2,"br"),f._UZ(3,"br"),f._UZ(4,"br"),f.TgZ(5,"div",1),f.TgZ(6,"h1"),f._uU(7,"EL siguiente es Mayor o Menor o Igual que"),f.qZA(),f.YNc(8,ct,2,1,"h3",2),f.YNc(9,Pt,2,1,"h3",2),f.TgZ(10,"h3"),f._uU(11),f.qZA(),f.TgZ(12,"h3"),f._uU(13),f.qZA(),f.TgZ(14,"table",3),f.TgZ(15,"tr"),f._UZ(16,"td"),f._UZ(17,"td"),f.qZA(),f.TgZ(18,"tr"),f._UZ(19,"td",4),f._UZ(20,"td"),f._UZ(21,"td",5),f._UZ(22,"td"),f.qZA(),f._UZ(23,"br"),f.TgZ(24,"tr"),f._UZ(25,"td"),f.TgZ(26,"td"),f.YNc(27,hr,2,0,"button",6),f.qZA(),f.TgZ(28,"td"),f.YNc(29,as,2,0,"button",6),f.qZA(),f.TgZ(30,"td"),f.YNc(31,yp,2,0,"button",6),f.qZA(),f._UZ(32,"td"),f.TgZ(33,"td"),f.YNc(34,hd,2,0,"button",6),f.qZA(),f.TgZ(35,"td"),f.YNc(36,fd,2,0,"button",6),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&r&&(f.xp6(8),f.Q6J("ngIf",a.ver),f.xp6(1),f.Q6J("ngIf",a.ver),f.xp6(2),f.Oqu(a.perdiste),f.xp6(2),f.Oqu(a.cuantos),f.xp6(6),f.Q6J("innerHTML",a.img1,f.oJD),f.xp6(2),f.Q6J("innerHtml",a.img2,f.oJD),f.xp6(6),f.Q6J("ngIf",a.verSiguiente),f.xp6(2),f.Q6J("ngIf",a.verBotones),f.xp6(2),f.Q6J("ngIf",a.verBotones),f.xp6(3),f.Q6J("ngIf",a.verBotones),f.xp6(2),f.Q6J("ngIf",a.verStart))},directives:[Oh,Zr],styles:[".main-container[_ngcontent-%COMP%]{max-width:800px;margin:auto}"]}),i})(),KE=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-error"]],decls:6,vars:0,template:function(r,a){1&r&&(f._UZ(0,"br"),f._UZ(1,"br"),f._UZ(2,"br"),f._UZ(3,"br"),f.TgZ(4,"p"),f._uU(5,"error works!"),f.qZA())},styles:[""]}),i})();class gd{constructor(e,r,a,l){this.pregunta=e,this.opciones=a,this.respuesta=r,this.categoria=l}siEsCorrecto(e){return this.respuesta==e}}function YE(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"div",8),f.TgZ(1,"button",9),f.NdJ("click",function(){const h=f.CHM(r).$implicit,m=f.oxw(2);return m.checkearRespuesta(m.preguntaActual,h)}),f._uU(2),f.qZA(),f.qZA()}if(2&i){const r=e.$implicit,a=f.oxw(2);f.xp6(1),f.Q6J("disabled",a.seguirRespondiendo),f.xp6(1),f.Oqu(r)}}function QE(i,e){1&i&&(f.TgZ(0,"h1",14),f._uU(1,"Correcto!"),f.qZA())}function JE(i,e){1&i&&(f.TgZ(0,"h1",15),f._uU(1,"Incorrecto!"),f.qZA())}function fM(i,e){if(1&i){const r=f.EpF();f.TgZ(0,"div",16),f.TgZ(1,"button",17),f.NdJ("click",function(){return f.CHM(r),f.oxw(3).getPreguntaAleatoria()}),f._uU(2,"Siguiente Pregunta"),f.qZA(),f.qZA()}}function pM(i,e){if(1&i&&(f.TgZ(0,"div",10),f.TgZ(1,"div"),f.YNc(2,QE,2,0,"h1",11),f.YNc(3,JE,2,0,"h1",12),f.qZA(),f.YNc(4,fM,3,0,"div",13),f.qZA()),2&i){const r=f.oxw(2);f.xp6(2),f.Q6J("ngIf",1==r.adivino),f.xp6(1),f.Q6J("ngIf",0==r.adivino),f.xp6(1),f.Q6J("ngIf",r.seguirRespondiendo)}}function gM(i,e){if(1&i&&(f.TgZ(0,"div",3),f.TgZ(1,"div",4),f.TgZ(2,"div",5),f.TgZ(3,"div"),f.TgZ(4,"h3"),f.TgZ(5,"b"),f._uU(6),f.qZA(),f.qZA(),f.qZA(),f.TgZ(7,"div"),f.TgZ(8,"h1"),f._uU(9),f.qZA(),f.qZA(),f.YNc(10,YE,3,2,"div",6),f.qZA(),f.qZA(),f.YNc(11,pM,5,3,"div",7),f.qZA()),2&i){const r=f.oxw();f.xp6(6),f.Oqu(r.preguntaActual.categoria),f.xp6(3),f.Oqu(r.preguntaActual.pregunta),f.xp6(1),f.Q6J("ngForOf",r.preguntaActual.opciones),f.xp6(1),f.Q6J("ngIf",r.ver)}}function mM(i,e){if(1&i&&(f.TgZ(0,"div",18),f.TgZ(1,"h1",19),f.TgZ(2,"b"),f._uU(3,"FIN DEL JUEGO"),f.qZA(),f.qZA(),f.TgZ(4,"h3"),f._uU(5),f.qZA(),f.qZA()),2&i){const r=f.oxw();f.xp6(5),f.AsE("\xa1Acertaste ",r.respuestasCorrectas," de ",r.preguntas.length," respuestas!")}}const yM=[{path:"home",component:ne},{path:"login",component:tt},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"registro",component:(()=>{class i{constructor(r,a,l){this.router=r,this.autentificacion=a,this.servicio=l,this.name="",this.password=""}ngOnInit(){"true"==localStorage.getItem("logueado")&&this.router.navigate(["./home"])}register(){this.autentificacion.createUserWithEmailAndPassword(this.name,this.password).then(r=>{console.log("register"),console.info("usuario",r);let l=(new Date).toString();this.servicio.GuardarMensajesFireStone(this.name,l),localStorage.setItem("name",this.name),localStorage.setItem("password",this.password),localStorage.setItem("logueado","true"),this.router.navigate(["./home"])}).catch(r=>{console.info("el error es: ",r)})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(_r),f.Y36(Na),f.Y36(Pe))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-registro"]],decls:7,vars:2,consts:[[1,"wrapper"],[1,"form-signin-heading"],["type","text","name","username","placeholder","Email Address","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-lg","btn-primary","btn-block",3,"click"]],template:function(r,a){1&r&&(f.TgZ(0,"div",0),f.TgZ(1,"h2",1),f._uU(2,"Please register"),f.qZA(),f.TgZ(3,"input",2),f.NdJ("ngModelChange",function(h){return a.name=h}),f.qZA(),f.TgZ(4,"input",3),f.NdJ("ngModelChange",function(h){return a.password=h}),f.qZA(),f.TgZ(5,"button",4),f.NdJ("click",function(){return a.register()}),f._uU(6,"Register"),f.qZA(),f.qZA()),2&r&&(f.xp6(3),f.Q6J("ngModel",a.name),f.xp6(1),f.Q6J("ngModel",a.password))},directives:[ys,fc,ar,uc],styles:["body[_ngcontent-%COMP%]{background:rgb(189,209,188)!important;width:auto}.wrapper[_ngcontent-%COMP%]{margin:200px 100px 80px}.form-signin[_ngcontent-%COMP%]{max-width:380px;padding:15px 35px 45px;margin:0 auto;background-color:#fff;border:1px solid rgba(0,0,0,.1)}.form-signin-heading[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]{margin-bottom:30px}.checkbox[_ngcontent-%COMP%]{font-weight:normal}.form-control[_ngcontent-%COMP%]{position:relative;font-size:16px;height:auto;padding:10px}input[type=text][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-left-radius:0;border-bottom-right-radius:0}input[type=password][_ngcontent-%COMP%]{margin-bottom:20px;border-top-left-radius:0;border-top-right-radius:0}"]}),i})()},{path:"QuienSoy",component:(()=>{class i{constructor(r,a){this.router=r,this.autentificacion=a,this.isShown=!0,this.isShowna=!1;try{this.auth=(0,Hu.n)(),this.user=this.auth.currentUser,null!=this.user&&(this.saludo="hola "+this.user.email,this.isShown=!1,this.isShowna=!0)}catch(l){this.isShown=!0,this.isShowna=!1,this.name=localStorage.getItem("name"),this.password=localStorage.getItem("password"),this.saludo="","true"==localStorage.getItem("logueado")&&(this.saludo="hola "+this.name,this.isShown=!1,this.isShowna=!0,this.autentificacion.signInWithEmailAndPassword(this.name,this.password))}}ngOnInit(){try{this.auth=(0,Hu.n)(),this.user=this.auth.currentUser,null!=this.user&&(this.saludo="hola "+this.user.email,this.isShown=!1,this.isShowna=!0)}catch(r){this.isShown=!0,this.isShowna=!1,this.name=localStorage.getItem("name"),this.password=localStorage.getItem("password"),this.saludo="","true"==localStorage.getItem("logueado")&&(this.saludo="hola "+this.name,this.isShown=!1,this.isShowna=!0,this.autentificacion.signInWithEmailAndPassword(this.name,this.password))}}cerrarSession(){localStorage.removeItem("name"),localStorage.removeItem("password"),localStorage.removeItem("logueado"),this.autentificacion.signOut(),this.isShown=!0,this.isShowna=!1,this.saludo="",this.router.navigate(["./QuienSoy"])}register(){this.router.navigate(["./registro"])}login(){this.router.navigate(["./login"])}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(_r),f.Y36(Na))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-quien-soy"]],decls:43,vars:0,consts:[["ruta","/QuienSoy"],[1,"row"],[1,"col-md-3","jumbotron","jumbotron-fluid"],[1,"container"],[1,"display-2"],["src","assets/yo.jpg","alt","300px"],[1,"col","jumbotron"],[1,"display-3"]],template:function(r,a){1&r&&(f._UZ(0,"app-pagina",0),f._UZ(1,"br"),f._UZ(2,"br"),f._UZ(3,"br"),f.TgZ(4,"div",1),f.TgZ(5,"div",2),f.TgZ(6,"div",3),f.TgZ(7,"h1",4),f._uU(8,"QuienSoy?"),f.qZA(),f._UZ(9,"img",5),f.TgZ(10,"p"),f._uU(11,"Hola soy Marcos Sopelana Soy un programador de la facultad utnFra. Esto es una sala de juego"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(12,"div",6),f.TgZ(13,"div",3),f.TgZ(14,"h1",7),f._uU(15,"Reglas del Jodete"),f.qZA(),f.TgZ(16,"p"),f._uU(17,"--aca las reglas del Jodete--"),f.qZA(),f.TgZ(18,"p"),f._uU(19," El jodete es un juego de cartas, en el cual hay qe estar atento al juego. El objetivo del juego es qedarse sin cartas.Las cartas se tiran si se tiene una del mismo palo o el mismo numero .Si un jugador agarra o tira una carta cuando no es su turno se le da 2 cartas. Si un jugador cuando tiene su ultima carta no dice ultima carta y otro jugador se dio cuenta qe no lo dijo dice jodete y se le dan dos cartas. Depende la cantidad de personas qe juegen es la cantidad de cartas qe se reparten por ej:"),f._UZ(20,"br"),f._uU(21," 2 personas : 7 o 6 cartas"),f._UZ(22,"br"),f._uU(23," 3 personas : 6 o 5 cartas"),f._UZ(24,"br"),f._uU(25," 4 personas : 4 o 5 cartas"),f._UZ(26,"br"),f._uU(27," 5 personas : 4 cartas"),f._UZ(28,"br"),f._uU(29," 6 personas : 4 cartas"),f._UZ(30,"br"),f._uU(31," Al jodete se juega con un maso de 40 cartas. Hay cartas especiales como :"),f._UZ(32,"br"),f._uU(33," el 4 : qe saltea a la persona qe seguia"),f._UZ(34,"br"),f._uU(35," el 12 : cambia el sentido de la ronda"),f._UZ(36,"br"),f._uU(37," el 7 : repite ; por ej: si tiramos un 7 de espada habria qe tirar o otro 7 o una carta de espada."),f._UZ(38,"br"),f._uU(39," el 10: se elige el palo qe se qiere; se puede tirar en cualqier momento; no tiene nada qe ver si no es del mismo palo."),f._UZ(40,"br"),f._uU(41," el 2 : cuando se tira a la persona qe sige se le dan dos cartas, exepto qe tire otro 2 y seria a la persona qe le sigese le da 4"),f._UZ(42,"br"),f.qZA(),f.qZA(),f.qZA(),f.qZA())},directives:[Oh],styles:[""]}),i})()},{path:"MayorMenor",component:pd},{path:"Ahorcado",component:TA},{path:"chat",component:de},{path:"preguntados",component:(()=>{class i{constructor(){this.preguntas=[],this.respuestasCorrectas=0,this.contador=0,this.opcion="",this.seguirRespondiendo=!1,this.adivino=!1,this.ver=!1,this.Cualver=!0}ngOnInit(){this.generadorDePreguntas(),this.respuestasCorrectas=0,this.getPreguntaAleatoria()}generadorDePreguntas(){let r=new gd("\xbfquien es el peor jugador de indepediente?","Velasco",["Chavez","Dominguez","Velasco","Caballero"],"Deporte"),a=new gd("El mejor anime de la temporada primavera 2021","Tokyo Revengers",["Vivy: Fluorite Eye\u2019s Song","Tokyo Revengers","Fruits Basket: The Final","Zombieland Saga: Revenge"],"Entrenimiento"),l=new gd("Cual es la capital de Buenos Aires","La Plata",["Quilmes","Berazategui","La Plata","Ezpeleta"],"Geograf\xeda"),h=new gd("\xbfDe qu\xe9 nacionalidad era Adolf Hitler?","Naci\xf3 en Austria",["Naci\xf3 en Alemania","Naci\xf3 en Polonia","Naci\xf3 en Austria","Naci\xf3 en Argentina"],"Historia");this.preguntas.push(r,a,l,h)}getPreguntaAleatoria(){this.preguntaActual=this.preguntas[this.contador],this.contador==this.preguntas.length&&(this.Cualver=!1),this.contador++,this.seguirRespondiendo=!1,this.ver=!1}checkearRespuesta(r,a){this.adivino=r.siEsCorrecto(a),this.adivino&&this.respuestasCorrectas++,this.seguirRespondiendo=!0,this.ver=!0}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-preguntados"]],decls:6,vars:2,consts:[["ruta","/preguntados"],["class","container col-8",4,"ngIf"],["class","row text-center mt-0",4,"ngIf"],[1,"container","col-8"],[1,"row","text-center"],[1,"card","mt-5"],["class","mt-1 mb-3",4,"ngFor","ngForOf"],["class","row text-center mt-5",4,"ngIf"],[1,"mt-1","mb-3"],["color","primary",2,"border-color","red","background-color","rgb(231, 170, 170)",3,"disabled","click"],[1,"row","text-center","mt-5"],["class","text-success display-3",4,"ngIf"],["class","text-warning display-3",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"text-success","display-3"],[1,"text-warning","display-3"],[1,"mt-5"],["color","primary",3,"click"],[1,"row","text-center","mt-0"],[1,"text-primary"]],template:function(r,a){1&r&&(f._UZ(0,"app-pagina",0),f._UZ(1,"br"),f._UZ(2,"br"),f._UZ(3,"br"),f.YNc(4,gM,12,4,"div",1),f.YNc(5,mM,6,2,"div",2)),2&r&&(f.xp6(4),f.Q6J("ngIf",a.Cualver),f.xp6(1),f.Q6J("ngIf",!a.Cualver))},directives:[Oh,Zr,Fs],styles:[""]}),i})()},{path:"**",component:KE}];let _M=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Bu.forRoot(yM)],Bu]}),i})(),vM=(()=>{class i{constructor(){this.title="Spirit"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(r,a){1&r&&f._UZ(0,"router-outlet")},directives:[Nh],styles:[""]}),i})();const hM_firebaseConfig={apiKey:"AIzaSyAIyavsz0SOHSrtyBb962yl_rGAkAh1Lzs",authDomain:"spirit-5f324.firebaseapp.com",projectId:"spirit-5f324",storageBucket:"spirit-5f324.appspot.com",messagingSenderId:"259560435858",appId:"1:259560435858:web:dd6b586bd6f9afe43ef64b",measurementId:"G-1FMS14QFDE"};let EM=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i,bootstrap:[vM]}),i.\u0275inj=f.cJS({providers:[],imports:[[Yl,_M,mw,No.hO.initializeApp(hM_firebaseConfig),DA,Z]]}),i})();(0,f.G48)(),ow().bootstrapModule(EM).catch(i=>console.error(i))},4762:(Ye,Te,k)=>{"use strict";k.d(Te,{ZT:()=>H,pi:()=>F,_T:()=>ie,mG:()=>ge,Jh:()=>K,XA:()=>G,CR:()=>j,ev:()=>oe});var f=function(ue,ye){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,me){he.__proto__=me}||function(he,me){for(var pe in me)Object.prototype.hasOwnProperty.call(me,pe)&&(he[pe]=me[pe])})(ue,ye)};function H(ue,ye){if("function"!=typeof ye&&null!==ye)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function he(){this.constructor=ue}f(ue,ye),ue.prototype=null===ye?Object.create(ye):(he.prototype=ye.prototype,new he)}var F=function(){return(F=Object.assign||function(ye){for(var he,me=1,pe=arguments.length;me<pe;me++)for(var X in he=arguments[me])Object.prototype.hasOwnProperty.call(he,X)&&(ye[X]=he[X]);return ye}).apply(this,arguments)};function ie(ue,ye){var he={};for(var me in ue)Object.prototype.hasOwnProperty.call(ue,me)&&ye.indexOf(me)<0&&(he[me]=ue[me]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(me=Object.getOwnPropertySymbols(ue);pe<me.length;pe++)ye.indexOf(me[pe])<0&&Object.prototype.propertyIsEnumerable.call(ue,me[pe])&&(he[me[pe]]=ue[me[pe]])}return he}function ge(ue,ye,he,me){return new(he||(he=Promise))(function(X,Fe){function Qe(gt){try{Xe(me.next(gt))}catch(an){Fe(an)}}function pt(gt){try{Xe(me.throw(gt))}catch(an){Fe(an)}}function Xe(gt){gt.done?X(gt.value):function(X){return X instanceof he?X:new he(function(Fe){Fe(X)})}(gt.value).then(Qe,pt)}Xe((me=me.apply(ue,ye||[])).next())})}function K(ue,ye){var me,pe,X,Fe,he={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return Fe={next:Qe(0),throw:Qe(1),return:Qe(2)},"function"==typeof Symbol&&(Fe[Symbol.iterator]=function(){return this}),Fe;function Qe(Xe){return function(gt){return function(Xe){if(me)throw new TypeError("Generator is already executing.");for(;he;)try{if(me=1,pe&&(X=2&Xe[0]?pe.return:Xe[0]?pe.throw||((X=pe.return)&&X.call(pe),0):pe.next)&&!(X=X.call(pe,Xe[1])).done)return X;switch(pe=0,X&&(Xe=[2&Xe[0],X.value]),Xe[0]){case 0:case 1:X=Xe;break;case 4:return he.label++,{value:Xe[1],done:!1};case 5:he.label++,pe=Xe[1],Xe=[0];continue;case 7:Xe=he.ops.pop(),he.trys.pop();continue;default:if(!(X=(X=he.trys).length>0&&X[X.length-1])&&(6===Xe[0]||2===Xe[0])){he=0;continue}if(3===Xe[0]&&(!X||Xe[1]>X[0]&&Xe[1]<X[3])){he.label=Xe[1];break}if(6===Xe[0]&&he.label<X[1]){he.label=X[1],X=Xe;break}if(X&&he.label<X[2]){he.label=X[2],he.ops.push(Xe);break}X[2]&&he.ops.pop(),he.trys.pop();continue}Xe=ye.call(ue,he)}catch(gt){Xe=[6,gt],pe=0}finally{me=X=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Xe,gt])}}}function G(ue){var ye="function"==typeof Symbol&&Symbol.iterator,he=ye&&ue[ye],me=0;if(he)return he.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&me>=ue.length&&(ue=void 0),{value:ue&&ue[me++],done:!ue}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(ue,ye){var he="function"==typeof Symbol&&ue[Symbol.iterator];if(!he)return ue;var pe,Fe,me=he.call(ue),X=[];try{for(;(void 0===ye||ye-- >0)&&!(pe=me.next()).done;)X.push(pe.value)}catch(Qe){Fe={error:Qe}}finally{try{pe&&!pe.done&&(he=me.return)&&he.call(me)}finally{if(Fe)throw Fe.error}}return X}function oe(ue,ye,he){if(he||2===arguments.length)for(var X,me=0,pe=ye.length;me<pe;me++)(X||!(me in ye))&&(X||(X=Array.prototype.slice.call(ye,0,me)),X[me]=ye[me]);return ue.concat(X||Array.prototype.slice.call(ye))}},8239:(Ye,Te,k)=>{"use strict";function f(F,ie,ve,ce,we,ge,K){try{var L=F[ge](K),B=L.value}catch(G){return void ve(G)}L.done?ie(B):Promise.resolve(B).then(ce,we)}function H(F){return function(){var ie=this,ve=arguments;return new Promise(function(ce,we){var ge=F.apply(ie,ve);function K(B){f(ge,ce,we,K,L,"next",B)}function L(B){f(ge,ce,we,K,L,"throw",B)}K(void 0)})}}k.d(Te,{Z:()=>H})}},Ye=>{Ye(Ye.s=2450)}]);